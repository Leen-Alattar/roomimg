!function(e){"function"==typeof define&&define.amd?define(["jquery","./core"],e):e(jQuery)}(function(_){var o;function e(){this._curInst=null,this._keyEvent=!1,this._disabledInputs=[],this._datepickerShowing=!1,this._inDialog=!1,this._mainDivId="ui-datepicker-div",this._inlineClass="ui-datepicker-inline",this._appendClass="ui-datepicker-append",this._triggerClass="ui-datepicker-trigger",this._dialogClass="ui-datepicker-dialog",this._disableClass="ui-datepicker-disabled",this._unselectableClass="ui-datepicker-unselectable",this._currentClass="ui-datepicker-current-day",this._dayOverClass="ui-datepicker-days-cell-over",this.regional=[],this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1},_.extend(this._defaults,this.regional[""]),this.regional.en=_.extend(!0,{},this.regional[""]),this.regional["en-US"]=_.extend(!0,{},this.regional.en),this.dpDiv=a(_("<div id='"+this._mainDivId+"' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"))}function a(e){var t="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td button";return e.delegate(t,"mouseout",function(){_(this).removeClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&_(this).removeClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&_(this).removeClass("ui-datepicker-next-hover")}).delegate(t,"mouseover",n)}function n(){_.datepicker._isDisabledDatepicker(o.inline?o.dpDiv.parent()[0]:o.input[0])||(_(this).parents(".ui-datepicker-calendar").find("button").removeClass("ui-state-hover"),_(this).addClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&_(this).addClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&_(this).addClass("ui-datepicker-next-hover"))}function p(e,t){for(var a in _.extend(e,t),t)null==t[a]&&(e[a]=t[a]);return e}return _.extend(_.ui,{datepicker:{version:"1.11.4"}}),_.extend(e.prototype,{markerClassName:"hasDatepicker",maxRows:4,_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(e){return p(this._defaults,e||{}),this},_attachDatepicker:function(e,t){var a,s,i;s="div"===(a=e.nodeName.toLowerCase())||"span"===a,e.id||(this.uuid+=1,e.id="dp"+this.uuid),(i=this._newInst(_(e),s)).settings=_.extend({},t||{}),"input"===a?this._connectDatepicker(e,i):s&&this._inlineDatepicker(e,i)},_newInst:function(e,t){return{id:e[0].id.replace(/([^A-Za-z0-9_\-])/g,"\\\\$1"),input:e,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:t,dpDiv:t?a(_("<div class='"+this._inlineClass+" ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>")):this.dpDiv}},_connectDatepicker:function(e,t){var a=_(e);t.append=_([]),t.trigger=_([]),a.hasClass(this.markerClassName)||(this._attachments(a,t),a.addClass(this.markerClassName).keydown(this._doKeyDown).keypress(this._doKeyPress).keyup(this._doKeyUp),this._autoSize(t),_.data(e,"datepicker",t),t.settings.disabled&&this._disableDatepicker(e))},_attachments:function(e,t){var a,s,i,o=this._get(t,"appendText"),n=this._get(t,"isRTL");t.append&&t.append.remove(),o&&(t.append=_("<span class='"+this._appendClass+"'>"+o+"</span>"),e[n?"before":"after"](t.append)),e.unbind("focus",this._showDatepicker),t.trigger&&t.trigger.remove(),"focus"!==(a=this._get(t,"showOn"))&&"both"!==a||e.focus(this._showDatepicker),"button"!==a&&"both"!==a||(s=this._get(t,"buttonText"),i=this._get(t,"buttonImage"),t.trigger=_(this._get(t,"buttonImageOnly")?_("<img/>").addClass(this._triggerClass).attr({src:i,alt:s,title:s}):_("<button type='button'></button>").addClass(this._triggerClass).html(i?_("<img/>").attr({src:i,alt:s,title:s}):s)),e[n?"before":"after"](t.trigger),t.trigger.click(function(){return _.datepicker._datepickerShowing&&_.datepicker._lastInput===e[0]?_.datepicker._hideDatepicker():(_.datepicker._datepickerShowing&&_.datepicker._lastInput!==e[0]&&_.datepicker._hideDatepicker(),_.datepicker._showDatepicker(e[0])),!1}))},_autoSize:function(e){if(this._get(e,"autoSize")&&!e.inline){var t,a,s,i,o=new Date(2009,11,20),n=this._get(e,"dateFormat");n.match(/[DM]/)&&(t=function(e){for(i=s=a=0;i<e.length;i++)e[i].length>a&&(a=e[i].length,s=i);return s},o.setMonth(t(this._get(e,n.match(/MM/)?"monthNames":"monthNamesShort"))),o.setDate(t(this._get(e,n.match(/DD/)?"dayNames":"dayNamesShort"))+20-o.getDay())),e.input.attr("size",this._formatDate(e,o).length)}},_inlineDatepicker:function(e,t){var a=_(e);a.hasClass(this.markerClassName)||(a.addClass(this.markerClassName).append(t.dpDiv),_.data(e,"datepicker",t),this._setDate(t,this._getDefaultDate(t),!0),this._updateDatepicker(t),this._updateAlternate(t),t.settings.disabled&&this._disableDatepicker(e),t.dpDiv.css("display","block"))},_dialogDatepicker:function(e,t,a,s,i){var o,n,r,l,c,d=this._dialogInst;return d||(this.uuid+=1,o="dp"+this.uuid,this._dialogInput=_("<input type='text' id='"+o+"' style='position: absolute; top: -100px; width: 0px;'/>"),this._dialogInput.keydown(this._doKeyDown),_("body").append(this._dialogInput),(d=this._dialogInst=this._newInst(this._dialogInput,!1)).settings={},_.data(this._dialogInput[0],"datepicker",d)),p(d.settings,s||{}),t=t&&t.constructor===Date?this._formatDate(d,t):t,this._dialogInput.val(t),this._pos=i?i.length?i:[i.pageX,i.pageY]:null,this._pos||(n=document.documentElement.clientWidth,r=document.documentElement.clientHeight,l=document.documentElement.scrollLeft||document.body.scrollLeft,c=document.documentElement.scrollTop||document.body.scrollTop,this._pos=[n/2-100+l,r/2-150+c]),this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),d.settings.onSelect=a,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),_.blockUI&&_.blockUI(this.dpDiv),_.data(this._dialogInput[0],"datepicker",d),this},_destroyDatepicker:function(e){var t,a=_(e),s=_.data(e,"datepicker");a.hasClass(this.markerClassName)&&(t=e.nodeName.toLowerCase(),_.removeData(e,"datepicker"),"input"===t?(s.append.remove(),s.trigger.remove(),a.removeClass(this.markerClassName).unbind("focus",this._showDatepicker).unbind("keydown",this._doKeyDown).unbind("keypress",this._doKeyPress).unbind("keyup",this._doKeyUp)):"div"!==t&&"span"!==t||a.removeClass(this.markerClassName).empty(),o===s&&(o=null))},_enableDatepicker:function(t){var e,a,s=_(t),i=_.data(t,"datepicker");s.hasClass(this.markerClassName)&&("input"===(e=t.nodeName.toLowerCase())?(t.disabled=!1,i.trigger.filter("button").each(function(){this.disabled=!1}).end().filter("img").css({opacity:"1.0",cursor:""})):"div"!==e&&"span"!==e||((a=s.children("."+this._inlineClass)).children().removeClass("ui-state-disabled"),a.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!1)),this._disabledInputs=_.map(this._disabledInputs,function(e){return e===t?null:e}))},_disableDatepicker:function(t){var e,a,s=_(t),i=_.data(t,"datepicker");s.hasClass(this.markerClassName)&&("input"===(e=t.nodeName.toLowerCase())?(t.disabled=!0,i.trigger.filter("button").each(function(){this.disabled=!0}).end().filter("img").css({opacity:"0.5",cursor:"default"})):"div"!==e&&"span"!==e||((a=s.children("."+this._inlineClass)).children().addClass("ui-state-disabled"),a.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!0)),this._disabledInputs=_.map(this._disabledInputs,function(e){return e===t?null:e}),this._disabledInputs[this._disabledInputs.length]=t)},_isDisabledDatepicker:function(e){if(!e)return!1;for(var t=0;t<this._disabledInputs.length;t++)if(this._disabledInputs[t]===e)return!0;return!1},_getInst:function(e){try{return _.data(e,"datepicker")}catch(e){throw"Missing instance data for this datepicker"}},_optionDatepicker:function(e,t,a){var s,i,o,n,r=this._getInst(e);if(2===arguments.length&&"string"==typeof t)return"defaults"===t?_.extend({},_.datepicker._defaults):r?"all"===t?_.extend({},r.settings):this._get(r,t):null;s=t||{},"string"==typeof t&&((s={})[t]=a),r&&(this._curInst===r&&this._hideDatepicker(),i=this._getDateDatepicker(e,!0),o=this._getMinMaxDate(r,"min"),n=this._getMinMaxDate(r,"max"),p(r.settings,s),null!==o&&void 0!==s.dateFormat&&void 0===s.minDate&&(r.settings.minDate=this._formatDate(r,o)),null!==n&&void 0!==s.dateFormat&&void 0===s.maxDate&&(r.settings.maxDate=this._formatDate(r,n)),"disabled"in s&&(s.disabled?this._disableDatepicker(e):this._enableDatepicker(e)),this._attachments(_(e),r),this._autoSize(r),this._setDate(r,i),this._updateAlternate(r),this._updateDatepicker(r))},_changeDatepicker:function(e,t,a){this._optionDatepicker(e,t,a)},_refreshDatepicker:function(e){var t=this._getInst(e);t&&this._updateDatepicker(t)},_setDateDatepicker:function(e,t){var a=this._getInst(e);a&&(this._setDate(a,t),this._updateDatepicker(a),this._updateAlternate(a))},_getDateDatepicker:function(e,t){var a=this._getInst(e);return a&&!a.inline&&this._setDateFromField(a,t),a?this._getDate(a):null},_doKeyDown:function(e){var t,a,s,i=_.datepicker._getInst(e.target),o=!0,n=i.dpDiv.is(".ui-datepicker-rtl");if(i._keyEvent=!0,_.datepicker._datepickerShowing)switch(e.keyCode){case 9:_.datepicker._hideDatepicker(),o=!1;break;case 13:return(s=_("td."+_.datepicker._dayOverClass+":not(."+_.datepicker._currentClass+")",i.dpDiv))[0]&&_.datepicker._selectDay(e.target,i.selectedMonth,i.selectedYear,s[0]),(t=_.datepicker._get(i,"onSelect"))?(a=_.datepicker._formatDate(i),t.apply(i.input?i.input[0]:null,[a,i])):_.datepicker._hideDatepicker(),!1;case 27:_.datepicker._hideDatepicker();break;case 33:_.datepicker._adjustDate(e.target,e.ctrlKey?-_.datepicker._get(i,"stepBigMonths"):-_.datepicker._get(i,"stepMonths"),"M");break;case 34:_.datepicker._adjustDate(e.target,e.ctrlKey?+_.datepicker._get(i,"stepBigMonths"):+_.datepicker._get(i,"stepMonths"),"M");break;case 35:(e.ctrlKey||e.metaKey)&&_.datepicker._clearDate(e.target),o=e.ctrlKey||e.metaKey;break;case 36:(e.ctrlKey||e.metaKey)&&_.datepicker._gotoToday(e.target),o=e.ctrlKey||e.metaKey;break;case 37:(e.ctrlKey||e.metaKey)&&_.datepicker._adjustDate(e.target,n?1:-1,"D"),o=e.ctrlKey||e.metaKey,e.originalEvent.altKey&&_.datepicker._adjustDate(e.target,e.ctrlKey?-_.datepicker._get(i,"stepBigMonths"):-_.datepicker._get(i,"stepMonths"),"M");break;case 38:(e.ctrlKey||e.metaKey)&&_.datepicker._adjustDate(e.target,-7,"D"),o=e.ctrlKey||e.metaKey;break;case 39:(e.ctrlKey||e.metaKey)&&_.datepicker._adjustDate(e.target,n?-1:1,"D"),o=e.ctrlKey||e.metaKey,e.originalEvent.altKey&&_.datepicker._adjustDate(e.target,e.ctrlKey?+_.datepicker._get(i,"stepBigMonths"):+_.datepicker._get(i,"stepMonths"),"M");break;case 40:(e.ctrlKey||e.metaKey)&&_.datepicker._adjustDate(e.target,7,"D"),o=e.ctrlKey||e.metaKey;break;default:o=!1}else 36===e.keyCode&&e.ctrlKey?_.datepicker._showDatepicker(this):o=!1;o&&(e.preventDefault(),e.stopPropagation())},_doKeyPress:function(e){var t,a,s=_.datepicker._getInst(e.target);if(_.datepicker._get(s,"constrainInput"))return t=_.datepicker._possibleChars(_.datepicker._get(s,"dateFormat")),a=String.fromCharCode(null==e.charCode?e.keyCode:e.charCode),e.ctrlKey||e.metaKey||a<" "||!t||-1<t.indexOf(a)},_doKeyUp:function(e){var t=_.datepicker._getInst(e.target);if(t.input.val()!==t.lastVal)try{_.datepicker.parseDate(_.datepicker._get(t,"dateFormat"),t.input?t.input.val():null,_.datepicker._getFormatConfig(t))&&(_.datepicker._setDateFromField(t),_.datepicker._updateAlternate(t),_.datepicker._updateDatepicker(t))}catch(e){}return!0},_showDatepicker:function(e){var t,a,s,i,o,n,r;("input"!==(e=e.target||e).nodeName.toLowerCase()&&(e=_("input",e.parentNode)[0]),_.datepicker._isDisabledDatepicker(e)||_.datepicker._lastInput===e)||(t=_.datepicker._getInst(e),_.datepicker._curInst&&_.datepicker._curInst!==t&&(_.datepicker._curInst.dpDiv.stop(!0,!0),t&&_.datepicker._datepickerShowing&&_.datepicker._hideDatepicker(_.datepicker._curInst.input[0])),!1!==(s=(a=_.datepicker._get(t,"beforeShow"))?a.apply(e,[e,t]):{})&&(p(t.settings,s),t.lastVal=null,_.datepicker._lastInput=e,_.datepicker._setDateFromField(t),_.datepicker._inDialog&&(e.value=""),_.datepicker._pos||(_.datepicker._pos=_.datepicker._findPos(e),_.datepicker._pos[1]+=e.offsetHeight),i=!1,_(e).parents().each(function(){return!(i|="fixed"===_(this).css("position"))}),o={left:_.datepicker._pos[0],top:_.datepicker._pos[1]},_.datepicker._pos=null,t.dpDiv.empty(),t.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),_.datepicker._updateDatepicker(t),o=_.datepicker._checkOffset(t,o,i),t.dpDiv.css({position:_.datepicker._inDialog&&_.blockUI?"static":i?"fixed":"absolute",display:"none",left:o.left+"px",top:o.top+"px"}),t.inline||(n=_.datepicker._get(t,"showAnim"),r=_.datepicker._get(t,"duration"),t.dpDiv.css("z-index",function(e){for(var t,a;e.length&&e[0]!==document;){if(("absolute"===(t=e.css("position"))||"relative"===t||"fixed"===t)&&(a=parseInt(e.css("zIndex"),10),!isNaN(a)&&0!==a))return a;e=e.parent()}return 0}(_(e))+1),_.datepicker._datepickerShowing=!0,_.effects&&_.effects.effect[n]?t.dpDiv.show(n,_.datepicker._get(t,"showOptions"),r):t.dpDiv[n||"show"](n?r:null),_.datepicker._shouldFocusInput(t)&&t.input.focus(),_.datepicker._curInst=t)))},_updateDatepicker:function(e){this.maxRows=4,(o=e).dpDiv.empty().append(this._generateHTML(e)),this._attachHandlers(e);var t,a=this._getNumberOfMonths(e),s=a[1],i=e.dpDiv.find("."+this._dayOverClass+" button");0<i.length&&n.apply(i.get(0)),e.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width(""),1<s&&e.dpDiv.addClass("ui-datepicker-multi-"+s).css("width",17*s+"em"),e.dpDiv[(1!==a[0]||1!==a[1]?"add":"remove")+"Class"]("ui-datepicker-multi"),e.dpDiv[(this._get(e,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl"),e===_.datepicker._curInst&&_.datepicker._datepickerShowing&&_.datepicker._shouldFocusInput(e)&&e.input.focus(),e.yearshtml&&(t=e.yearshtml,setTimeout(function(){t===e.yearshtml&&e.yearshtml&&e.dpDiv.find("select.ui-datepicker-year:first").replaceWith(e.yearshtml),t=e.yearshtml=null},0))},_shouldFocusInput:function(e){return e.input&&e.input.is(":visible")&&!e.input.is(":disabled")&&!e.input.is(":focus")},_checkOffset:function(e,t,a){var s=e.dpDiv.outerWidth(),i=e.dpDiv.outerHeight(),o=e.input?e.input.outerWidth():0,n=e.input?e.input.outerHeight():0,r=document.documentElement.clientWidth+(a?0:_(document).scrollLeft()),l=document.documentElement.clientHeight+(a?0:_(document).scrollTop());return t.left-=this._get(e,"isRTL")?s-o:0,t.left-=a&&t.left===e.input.offset().left?_(document).scrollLeft():0,t.top-=a&&t.top===e.input.offset().top+n?_(document).scrollTop():0,t.left-=Math.min(t.left,t.left+s>r&&s<r?Math.abs(t.left+s-r):0),t.top-=Math.min(t.top,t.top+i>l&&i<l?Math.abs(i+n):0),t},_findPos:function(e){for(var t,a=this._getInst(e),s=this._get(a,"isRTL");e&&("hidden"===e.type||1!==e.nodeType||_.expr.filters.hidden(e));)e=e[s?"previousSibling":"nextSibling"];return[(t=_(e).offset()).left,t.top]},_hideDatepicker:function(e){var t,a,s,i,o=this._curInst;!o||e&&o!==_.data(e,"datepicker")||this._datepickerShowing&&(t=this._get(o,"showAnim"),a=this._get(o,"duration"),s=function(){_.datepicker._tidyDialog(o)},_.effects&&(_.effects.effect[t]||_.effects[t])?o.dpDiv.hide(t,_.datepicker._get(o,"showOptions"),a,s):o.dpDiv["slideDown"===t?"slideUp":"fadeIn"===t?"fadeOut":"hide"](t?a:null,s),t||s(),this._datepickerShowing=!1,(i=this._get(o,"onClose"))&&i.apply(o.input?o.input[0]:null,[o.input?o.input.val():"",o]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),_.blockUI&&(_.unblockUI(),_("body").append(this.dpDiv))),this._inDialog=!1)},_tidyDialog:function(e){e.dpDiv.removeClass(this._dialogClass).unbind(".ui-datepicker-calendar")},_checkExternalClick:function(e){if(_.datepicker._curInst){var t=_(e.target),a=_.datepicker._getInst(t[0]);(t[0].id===_.datepicker._mainDivId||0!==t.parents("#"+_.datepicker._mainDivId).length||t.hasClass(_.datepicker.markerClassName)||t.closest("."+_.datepicker._triggerClass).length||!_.datepicker._datepickerShowing||_.datepicker._inDialog&&_.blockUI)&&(!t.hasClass(_.datepicker.markerClassName)||_.datepicker._curInst===a)||_.datepicker._hideDatepicker()}},_adjustDate:function(e,t,a){var s=_(e),i=this._getInst(s[0]);this._isDisabledDatepicker(s[0])||(this._adjustInstDate(i,t+("M"===a?this._get(i,"showCurrentAtPos"):0),a),this._updateDatepicker(i))},_gotoToday:function(e){var t,a=_(e),s=this._getInst(a[0]);this._get(s,"gotoCurrent")&&s.currentDay?(s.selectedDay=s.currentDay,s.drawMonth=s.selectedMonth=s.currentMonth,s.drawYear=s.selectedYear=s.currentYear):(t=new Date,s.selectedDay=t.getDate(),s.drawMonth=s.selectedMonth=t.getMonth(),s.drawYear=s.selectedYear=t.getFullYear()),this._notifyChange(s),this._adjustDate(a)},_selectMonthYear:function(e,t,a){var s=_(e),i=this._getInst(s[0]);i["selected"+("M"===a?"Month":"Year")]=i["draw"+("M"===a?"Month":"Year")]=parseInt(t.options[t.selectedIndex].value,10),this._notifyChange(i),this._adjustDate(s)},_selectDay:function(e,t,a,s){var i,o=_(e);_(s).hasClass(this._unselectableClass)||this._isDisabledDatepicker(o[0])||((i=this._getInst(o[0])).selectedDay=i.currentDay=_("button",s).html(),i.selectedMonth=i.currentMonth=t,i.selectedYear=i.currentYear=a,this._selectDate(e,this._formatDate(i,i.currentDay,i.currentMonth,i.currentYear)))},_clearDate:function(e){var t=_(e);this._selectDate(t,"")},_selectDate:function(e,t){var a,s=_(e),i=this._getInst(s[0]);t=null!=t?t:this._formatDate(i),i.input&&i.input.val(t),this._updateAlternate(i),(a=this._get(i,"onSelect"))?a.apply(i.input?i.input[0]:null,[t,i]):i.input&&i.input.trigger("change"),i.inline?this._updateDatepicker(i):(this._hideDatepicker(),this._lastInput=i.input[0],"object"!=typeof i.input[0]&&i.input.focus(),this._lastInput=null)},_updateAlternate:function(e){var t,a,s,i=this._get(e,"altField");i&&(t=this._get(e,"altFormat")||this._get(e,"dateFormat"),a=this._getDate(e),s=this.formatDate(t,a,this._getFormatConfig(e)),_(i).each(function(){_(this).val(s)}))},noWeekends:function(e){var t=e.getDay();return[0<t&&t<6,""]},iso8601Week:function(e){var t,a=new Date(e.getTime());return a.setDate(a.getDate()+4-(a.getDay()||7)),t=a.getTime(),a.setMonth(0),a.setDate(1),Math.floor(Math.round((t-a)/864e5)/7)+1},parseDate:function(a,o,e){if(null==a||null==o)throw"Invalid arguments";if(""===(o="object"==typeof o?o.toString():o+""))return null;var s,t,i,n,r=0,l=(e?e.shortYearCutoff:null)||this._defaults.shortYearCutoff,c="string"!=typeof l?l:(new Date).getFullYear()%100+parseInt(l,10),d=(e?e.dayNamesShort:null)||this._defaults.dayNamesShort,p=(e?e.dayNames:null)||this._defaults.dayNames,u=(e?e.monthNamesShort:null)||this._defaults.monthNamesShort,h=(e?e.monthNames:null)||this._defaults.monthNames,m=-1,f=-1,g=-1,v=-1,k=!1,y=function(e){var t=s+1<a.length&&a.charAt(s+1)===e;return t&&s++,t},w=function(e){var t=y(e),a="@"===e?14:"!"===e?20:"y"===e&&t?4:"o"===e?3:2,s=new RegExp("^\\d{"+("y"===e?a:1)+","+a+"}"),i=o.substring(r).match(s);if(!i)throw"Missing number at position "+r;return r+=i[0].length,parseInt(i[0],10)},b=function(e,t,a){var s=-1,i=_.map(y(e)?a:t,function(e,t){return[[t,e]]}).sort(function(e,t){return-(e[1].length-t[1].length)});if(_.each(i,function(e,t){var a=t[1];if(o.substr(r,a.length).toLowerCase()===a.toLowerCase())return s=t[0],r+=a.length,!1}),-1!==s)return s+1;throw"Unknown name at position "+r},j=function(){if(o.charAt(r)!==a.charAt(s))throw"Unexpected literal at position "+r;r++};for(s=0;s<a.length;s++)if(k)"'"!==a.charAt(s)||y("'")?j():k=!1;else switch(a.charAt(s)){case"d":g=w("d");break;case"D":b("D",d,p);break;case"o":v=w("o");break;case"m":f=w("m");break;case"M":f=b("M",u,h);break;case"y":m=w("y");break;case"@":m=(n=new Date(w("@"))).getFullYear(),f=n.getMonth()+1,g=n.getDate();break;case"!":m=(n=new Date((w("!")-this._ticksTo1970)/1e4)).getFullYear(),f=n.getMonth()+1,g=n.getDate();break;case"'":y("'")?j():k=!0;break;default:j()}if(r<o.length&&(i=o.substr(r),!/^\s+/.test(i)))throw"Extra/unparsed characters found in date: "+i;if(-1===m?m=(new Date).getFullYear():m<100&&(m+=(new Date).getFullYear()-(new Date).getFullYear()%100+(m<=c?0:-100)),-1<v)for(f=1,g=v;;){if(g<=(t=this._getDaysInMonth(m,f-1)))break;f++,g-=t}if((n=this._daylightSavingAdjust(new Date(m,f-1,g))).getFullYear()!==m||n.getMonth()+1!==f||n.getDate()!==g)throw"Invalid date";return n},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:24*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925))*60*60*1e7,formatDate:function(a,e,t){if(!e)return"";var s,i=(t?t.dayNamesShort:null)||this._defaults.dayNamesShort,o=(t?t.dayNames:null)||this._defaults.dayNames,n=(t?t.monthNamesShort:null)||this._defaults.monthNamesShort,r=(t?t.monthNames:null)||this._defaults.monthNames,l=function(e){var t=s+1<a.length&&a.charAt(s+1)===e;return t&&s++,t},c=function(e,t,a){var s=""+t;if(l(e))for(;s.length<a;)s="0"+s;return s},d=function(e,t,a,s){return l(e)?s[t]:a[t]},p="",u=!1;if(e)for(s=0;s<a.length;s++)if(u)"'"!==a.charAt(s)||l("'")?p+=a.charAt(s):u=!1;else switch(a.charAt(s)){case"d":p+=c("d",e.getDate(),2);break;case"D":p+=d("D",e.getDay(),i,o);break;case"o":p+=c("o",Math.round((new Date(e.getFullYear(),e.getMonth(),e.getDate()).getTime()-new Date(e.getFullYear(),0,0).getTime())/864e5),3);break;case"m":p+=c("m",e.getMonth()+1,2);break;case"M":p+=d("M",e.getMonth(),n,r);break;case"y":p+=l("y")?e.getFullYear():(e.getYear()%100<10?"0":"")+e.getYear()%100;break;case"@":p+=e.getTime();break;case"!":p+=1e4*e.getTime()+this._ticksTo1970;break;case"'":l("'")?p+="'":u=!0;break;default:p+=a.charAt(s)}return p},_possibleChars:function(a){var s,e="",t=!1,i=function(e){var t=s+1<a.length&&a.charAt(s+1)===e;return t&&s++,t};for(s=0;s<a.length;s++)if(t)"'"!==a.charAt(s)||i("'")?e+=a.charAt(s):t=!1;else switch(a.charAt(s)){case"d":case"m":case"y":case"@":e+="0123456789";break;case"D":case"M":return null;case"'":i("'")?e+="'":t=!0;break;default:e+=a.charAt(s)}return e},_get:function(e,t){return void 0!==e.settings[t]?e.settings[t]:this._defaults[t]},_setDateFromField:function(e,t){if(e.input.val()!==e.lastVal){var a=this._get(e,"dateFormat"),s=e.lastVal=e.input?e.input.val():null,i=this._getDefaultDate(e),o=i,n=this._getFormatConfig(e);try{o=this.parseDate(a,s,n)||i}catch(e){s=t?"":s}e.selectedDay=o.getDate(),e.drawMonth=e.selectedMonth=o.getMonth(),e.drawYear=e.selectedYear=o.getFullYear(),e.currentDay=s?o.getDate():0,e.currentMonth=s?o.getMonth():0,e.currentYear=s?o.getFullYear():0,this._adjustInstDate(e)}},_getDefaultDate:function(e){return this._restrictMinMax(e,this._determineDate(e,this._get(e,"defaultDate"),new Date))},_determineDate:function(r,e,t){var a,s,i=null==e||""===e?t:"string"==typeof e?function(e){try{return _.datepicker.parseDate(_.datepicker._get(r,"dateFormat"),e,_.datepicker._getFormatConfig(r))}catch(e){}for(var t=(e.toLowerCase().match(/^c/)?_.datepicker._getDate(r):null)||new Date,a=t.getFullYear(),s=t.getMonth(),i=t.getDate(),o=/([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,n=o.exec(e);n;){switch(n[2]||"d"){case"d":case"D":i+=parseInt(n[1],10);break;case"w":case"W":i+=7*parseInt(n[1],10);break;case"m":case"M":s+=parseInt(n[1],10),i=Math.min(i,_.datepicker._getDaysInMonth(a,s));break;case"y":case"Y":a+=parseInt(n[1],10),i=Math.min(i,_.datepicker._getDaysInMonth(a,s))}n=o.exec(e)}return new Date(a,s,i)}(e):"number"==typeof e?isNaN(e)?t:(a=e,(s=new Date).setDate(s.getDate()+a),s):new Date(e.getTime());return(i=i&&"Invalid Date"===i.toString()?t:i)&&(i.setHours(0),i.setMinutes(0),i.setSeconds(0),i.setMilliseconds(0)),this._daylightSavingAdjust(i)},_daylightSavingAdjust:function(e){return e?(e.setHours(12<e.getHours()?e.getHours()+2:0),e):null},_setDate:function(e,t,a){var s=!t,i=e.selectedMonth,o=e.selectedYear,n=this._restrictMinMax(e,this._determineDate(e,t,new Date));e.selectedDay=e.currentDay=n.getDate(),e.drawMonth=e.selectedMonth=e.currentMonth=n.getMonth(),e.drawYear=e.selectedYear=e.currentYear=n.getFullYear(),i===e.selectedMonth&&o===e.selectedYear||a||this._notifyChange(e),this._adjustInstDate(e),e.input&&e.input.val(s?"":this._formatDate(e))},_getDate:function(e){return!e.currentYear||e.input&&""===e.input.val()?null:this._daylightSavingAdjust(new Date(e.currentYear,e.currentMonth,e.currentDay))},_attachHandlers:function(e){var t=this._get(e,"stepMonths"),a="#"+e.id.replace(/\\\\/g,"\\");e.dpDiv.find("[data-handler]").map(function(){var e={prev:function(){_.datepicker._adjustDate(a,-t,"M")},next:function(){_.datepicker._adjustDate(a,+t,"M")},hide:function(){_.datepicker._hideDatepicker()},today:function(){_.datepicker._gotoToday(a)},selectDay:function(){return _.datepicker._selectDay(a,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this),!1},selectMonth:function(){return _.datepicker._selectMonthYear(a,this,"M"),!1},selectYear:function(){return _.datepicker._selectMonthYear(a,this,"Y"),!1}};_(this).bind(this.getAttribute("data-event"),e[this.getAttribute("data-handler")])})},_generateHTML:function(e){var t,a,s,i,o,n,r,l,c,d,p,u,h,m,f,g,v,k,y,w,b,j,_,C,M,x,D,T,S,L,N,F,z,A,P,E,O,H,I,R=new Date,q=this._daylightSavingAdjust(new Date(R.getFullYear(),R.getMonth(),R.getDate())),B=this._get(e,"isRTL"),Y=this._get(e,"showButtonPanel"),$=this._get(e,"hideIfNoPrevNext"),V=this._get(e,"navigationAsDateFormat"),J=this._getNumberOfMonths(e),U=this._get(e,"showCurrentAtPos"),G=this._get(e,"stepMonths"),W=1!==J[0]||1!==J[1],Q=this._daylightSavingAdjust(e.currentDay?new Date(e.currentYear,e.currentMonth,e.currentDay):new Date(9999,9,9)),K=this._getMinMaxDate(e,"min"),Z=this._getMinMaxDate(e,"max"),X=e.drawMonth-U,ee=e.drawYear;if(X<0&&(X+=12,ee--),Z)for(t=this._daylightSavingAdjust(new Date(Z.getFullYear(),Z.getMonth()-J[0]*J[1]+1,Z.getDate())),t=K&&t<K?K:t;this._daylightSavingAdjust(new Date(ee,X,1))>t;)--X<0&&(X=11,ee--);for(e.drawMonth=X,e.drawYear=ee,a=this._get(e,"prevText"),a=V?this.formatDate(a,this._daylightSavingAdjust(new Date(ee,X-G,1)),this._getFormatConfig(e)):a,s=this._canAdjustMonth(e,-1,ee,X)?"<button type='button' class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click' title='"+a+"'><span class='ui-icon ui-icon-circle-triangle-"+(B?"e":"w")+"'>"+a+"</span></button>":$?"":"<button type='button' class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='"+a+"'><span class='ui-icon ui-icon-circle-triangle-"+(B?"e":"w")+"'>"+a+"</span></button>",i=this._get(e,"nextText"),i=V?this.formatDate(i,this._daylightSavingAdjust(new Date(ee,X+G,1)),this._getFormatConfig(e)):i,o=this._canAdjustMonth(e,1,ee,X)?"<button type='button' class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click' title='"+i+"'><span class='ui-icon ui-icon-circle-triangle-"+(B?"w":"e")+"'>"+i+"</span></button>":$?"":"<button type='button' class='ui-datepicker-next ui-corner-all ui-state-disabled' title='"+i+"'><span class='ui-icon ui-icon-circle-triangle-"+(B?"w":"e")+"'>"+i+"</span></button>",n=this._get(e,"currentText"),r=this._get(e,"gotoCurrent")&&e.currentDay?Q:q,n=V?this.formatDate(n,r,this._getFormatConfig(e)):n,l=e.inline?"":"<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>"+this._get(e,"closeText")+"</button>",c=Y?"<div class='ui-datepicker-buttonpane ui-widget-content'>"+(B?l:"")+(this._isInRange(e,r)?"<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'>"+n+"</button>":"")+(B?"":l)+"</div>":"",d=parseInt(this._get(e,"firstDay"),10),d=isNaN(d)?0:d,p=this._get(e,"showWeek"),u=this._get(e,"dayNames"),h=this._get(e,"dayNamesMin"),m=this._get(e,"monthNames"),f=this._get(e,"monthNamesShort"),g=this._get(e,"beforeShowDay"),v=this._get(e,"showOtherMonths"),k=this._get(e,"selectOtherMonths"),y=this._getDefaultDate(e),w="",j=0;j<J[0];j++){for(_="",this.maxRows=4,C=0;C<J[1];C++){if(M=this._daylightSavingAdjust(new Date(ee,X,e.selectedDay)),x=" ui-corner-all",D="",W){if(D+="<div class='ui-datepicker-group",1<J[1])switch(C){case 0:D+=" ui-datepicker-group-first",x=" ui-corner-"+(B?"right":"left");break;case J[1]-1:D+=" ui-datepicker-group-last",x=" ui-corner-"+(B?"left":"right");break;default:D+=" ui-datepicker-group-middle",x=""}D+="'>"}for(D+="<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix"+x+"'>"+(/all|left/.test(x)&&0===j?B?o:s:"")+(/all|right/.test(x)&&0===j?B?s:o:"")+this._generateMonthYearHeader(e,X,ee,K,Z,0<j||0<C,m,f)+"</div><table class='ui-datepicker-calendar'><thead><tr>",T=p?"<th class='ui-datepicker-week-col'>"+this._get(e,"weekHeader")+"</th>":"",b=0;b<7;b++)T+="<th scope='col'"+(5<=(b+d+6)%7?" class='ui-datepicker-week-end'":"")+"><span title='"+u[S=(b+d)%7]+"'>"+h[S]+"</span></th>";for(D+=T+"</tr></thead><tbody>",L=this._getDaysInMonth(ee,X),ee===e.selectedYear&&X===e.selectedMonth&&(e.selectedDay=Math.min(e.selectedDay,L)),N=(this._getFirstDayOfMonth(ee,X)-d+7)%7,F=Math.ceil((N+L)/7),z=W&&this.maxRows>F?this.maxRows:F,this.maxRows=z,A=this._daylightSavingAdjust(new Date(ee,X,1-N)),P=0;P<z;P++){for(D+="<tr>",E=p?"<td class='ui-datepicker-week-col'>"+this._get(e,"calculateWeek")(A)+"</td>":"",b=0;b<7;b++)O=g?g.apply(e.input?e.input[0]:null,[A]):[!0,""],I=(H=A.getMonth()!==X)&&!k||!O[0]||K&&A<K||Z&&Z<A,E+="<td class='"+(5<=(b+d+6)%7?" ui-datepicker-week-end":"")+(H?" ui-datepicker-other-month":"")+(A.getTime()===M.getTime()&&X===e.selectedMonth&&e._keyEvent||y.getTime()===A.getTime()&&y.getTime()===M.getTime()?" "+this._dayOverClass:"")+(I?" "+this._unselectableClass+" ui-state-disabled":"")+(H&&!v?"":" "+O[1]+(A.getTime()===Q.getTime()?" "+this._currentClass:"")+(A.getTime()===q.getTime()?" ui-datepicker-today":""))+"'"+(H&&!v||!O[2]?"":" title='"+O[2].replace(/'/g,"&#39;")+"'")+(I?"":" data-handler='selectDay' data-event='click' data-month='"+A.getMonth()+"' data-year='"+A.getFullYear()+"'")+">"+(H&&!v?"&#xa0;":I?"<span class='ui-state-default'>"+A.getDate()+"</span>":"<button type='button' class='ui-state-default"+(A.getTime()===q.getTime()?" ui-state-highlight":"")+(A.getTime()===Q.getTime()?" ui-state-active":"")+(H?" ui-priority-secondary":"")+"' >"+A.getDate()+"</button>")+"</td>",A.setDate(A.getDate()+1),A=this._daylightSavingAdjust(A);D+=E+"</tr>"}11<++X&&(X=0,ee++),_+=D+="</tbody></table>"+(W?"</div>"+(0<J[0]&&C===J[1]-1?"<div class='ui-datepicker-row-break'></div>":""):"")}w+=_}return w+=c,e._keyEvent=!1,w},_generateMonthYearHeader:function(e,t,a,s,i,o,n,r){var l,c,d,p,u,h,m,f,g=this._get(e,"changeMonth"),v=this._get(e,"changeYear"),k=this._get(e,"showMonthAfterYear"),y="<div class='ui-datepicker-title'>",w="";if(o||!g)w+="<span class='ui-datepicker-month'>"+n[t]+"</span>";else{for(l=s&&s.getFullYear()===a,c=i&&i.getFullYear()===a,w+="<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>",d=0;d<12;d++)(!l||d>=s.getMonth())&&(!c||d<=i.getMonth())&&(w+="<option value='"+d+"'"+(d===t?" selected='selected'":"")+">"+r[d]+"</option>");w+="</select>"}if(k||(y+=w+(!o&&g&&v?"":"&#xa0;")),!e.yearshtml)if(e.yearshtml="",o||!v)y+="<span class='ui-datepicker-year'>"+a+"</span>";else{for(p=this._get(e,"yearRange").split(":"),u=(new Date).getFullYear(),m=(h=function(e){var t=e.match(/c[+\-].*/)?a+parseInt(e.substring(1),10):e.match(/[+\-].*/)?u+parseInt(e,10):parseInt(e,10);return isNaN(t)?u:t})(p[0]),f=Math.max(m,h(p[1]||"")),m=s?Math.max(m,s.getFullYear()):m,f=i?Math.min(f,i.getFullYear()):f,e.yearshtml+="<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>";m<=f;m++)e.yearshtml+="<option value='"+m+"'"+(m===a?" selected='selected'":"")+">"+m+"</option>";e.yearshtml+="</select>",y+=e.yearshtml,e.yearshtml=null}return y+=this._get(e,"yearSuffix"),k&&(y+=(!o&&g&&v?"":"&#xa0;")+w),y+="</div>"},_adjustInstDate:function(e,t,a){var s=e.drawYear+("Y"===a?t:0),i=e.drawMonth+("M"===a?t:0),o=Math.min(e.selectedDay,this._getDaysInMonth(s,i))+("D"===a?t:0),n=this._restrictMinMax(e,this._daylightSavingAdjust(new Date(s,i,o)));e.selectedDay=n.getDate(),e.drawMonth=e.selectedMonth=n.getMonth(),e.drawYear=e.selectedYear=n.getFullYear(),"M"!==a&&"Y"!==a||this._notifyChange(e)},_restrictMinMax:function(e,t){var a=this._getMinMaxDate(e,"min"),s=this._getMinMaxDate(e,"max"),i=a&&t<a?a:t;return s&&s<i?s:i},_notifyChange:function(e){var t=this._get(e,"onChangeMonthYear");t&&t.apply(e.input?e.input[0]:null,[e.selectedYear,e.selectedMonth+1,e])},_getNumberOfMonths:function(e){var t=this._get(e,"numberOfMonths");return null==t?[1,1]:"number"==typeof t?[1,t]:t},_getMinMaxDate:function(e,t){return this._determineDate(e,this._get(e,t+"Date"),null)},_getDaysInMonth:function(e,t){return 32-this._daylightSavingAdjust(new Date(e,t,32)).getDate()},_getFirstDayOfMonth:function(e,t){return new Date(e,t,1).getDay()},_canAdjustMonth:function(e,t,a,s){var i=this._getNumberOfMonths(e),o=this._daylightSavingAdjust(new Date(a,s+(t<0?t:i[0]*i[1]),1));return t<0&&o.setDate(this._getDaysInMonth(o.getFullYear(),o.getMonth())),this._isInRange(e,o)},_isInRange:function(e,t){var a,s,i=this._getMinMaxDate(e,"min"),o=this._getMinMaxDate(e,"max"),n=null,r=null,l=this._get(e,"yearRange");return l&&(a=l.split(":"),s=(new Date).getFullYear(),n=parseInt(a[0],10),r=parseInt(a[1],10),a[0].match(/[+\-].*/)&&(n+=s),a[1].match(/[+\-].*/)&&(r+=s)),(!i||t.getTime()>=i.getTime())&&(!o||t.getTime()<=o.getTime())&&(!n||t.getFullYear()>=n)&&(!r||t.getFullYear()<=r)},_getFormatConfig:function(e){var t=this._get(e,"shortYearCutoff");return{shortYearCutoff:t="string"!=typeof t?t:(new Date).getFullYear()%100+parseInt(t,10),dayNamesShort:this._get(e,"dayNamesShort"),dayNames:this._get(e,"dayNames"),monthNamesShort:this._get(e,"monthNamesShort"),monthNames:this._get(e,"monthNames")}},_formatDate:function(e,t,a,s){t||(e.currentDay=e.selectedDay,e.currentMonth=e.selectedMonth,e.currentYear=e.selectedYear);var i=t?"object"==typeof t?t:this._daylightSavingAdjust(new Date(s,a,t)):this._daylightSavingAdjust(new Date(e.currentYear,e.currentMonth,e.currentDay));return this.formatDate(this._get(e,"dateFormat"),i,this._getFormatConfig(e))}}),_.fn.datepicker=function(e){if(!this.length)return this;_.datepicker.initialized||(_(document).mousedown(_.datepicker._checkExternalClick),_.datepicker.initialized=!0),0===_("#"+_.datepicker._mainDivId).length&&_("body").append(_.datepicker.dpDiv);var t=Array.prototype.slice.call(arguments,1);return"string"!=typeof e||"isDisabled"!==e&&"getDate"!==e&&"widget"!==e?"option"===e&&2===arguments.length&&"string"==typeof arguments[1]?_.datepicker["_"+e+"Datepicker"].apply(_.datepicker,[this[0]].concat(t)):this.each(function(){"string"==typeof e?_.datepicker["_"+e+"Datepicker"].apply(_.datepicker,[this].concat(t)):_.datepicker._attachDatepicker(this,e)}):_.datepicker["_"+e+"Datepicker"].apply(_.datepicker,[this[0]].concat(t))},_.datepicker=new e,_.datepicker.initialized=!1,_.datepicker.uuid=(new Date).getTime(),_.datepicker.version="1.11.4",_.datepicker}),function(r){function l(e,t){e.deps||(e.deps=[]),"string"==typeof e.deps&&(e.deps=[e.deps]);var a=e.deps.length;if(0==a)return!0;for(var s=0;s<a;++s){if(!t[e.deps[s]])return!1}return!0}window.travel=window.travel||{},window.travel.opts=window.travel.opts||{},travel.modules=travel.modules||{},window.onerror=function(e,t,a,s,i){var o,n="";n+=null!=e?e:"Error w/o msg.",n+=null!=t?" uri: "+t:" uri: "+window.location.href,null!=a&&(n+=" line: "+a),null!=s&&(n+=" column: "+s),null!=i&&void 0!==i.stack&&(n+=" stack: "+i.stack),o=n,void 0===travel.opts.wslogs&&r.ajax({method:"post",url:"/",data:{page:"stat",id:travel.opts.id,t:"ev",c:"Error",a:o,r:Math.floor(1e5*Math.random())}})},r.extend(window.travel,{log:function(){if("undefined"!=typeof console&&console.log&&travel.opts.devel){var e=[].slice.call(arguments,0);console.log.apply(console,e)}},isTouch:function(){return!!("ontouchstart"in window||navigator.maxTouchPoints||navigator.platform&&/iPad|iPhone|iPod/.test(navigator.platform))},isMobile:function(){return!(767<r(window).width())},isSmallMobile:function(){return!(414<r(window).width())},isTablet:function(){return!(1120<r(window).width())},isSmallTablet:function(){return!(1024<r(window).width())},isMercuryTablet:function(){return!(1040<r(window).width())},isABTest:function(e,t){if(""==(e||"")||0==(t||0))return!1;var a=travel.opts.btest||!1;return a&&a.step==e&&a.id==t}}),r(document).ready(function(){try{var e={},t=[];for(var a in travel.modules){(n=travel.modules[a]).init&&t.push(a)}for(;t.length;){for(var s=[],i=t.length,o=0;o<i;++o){a=t[o];var n,r=l(n=travel.modules[a],e);travel.log("checkDeps",a,n.deps,r),r?(n.init(travel.opts),e[a]=1):s.push(a)}t=s}}catch(e){}})}(jQuery),function(e,t){var a=Math.floor(t.opts.theme/100);t.modules.attractionsUtils={generateKey:function(){return{5:"cuk",9:"sv"}[a]||!1}}}(jQuery,travel),function(t,e){var a=Math.floor(e.opts.theme/100);e.modules.autoScroll={init:function(){"hotel"===e.opts.type&&5===a&&e.isMobile()&&t(".js-auto-scroll-link").on("click",function(){var e=t(this).data("anchor");setTimeout(function(){t("html, body").animate({scrollTop:t(e).offset().top},200)},50)})}}}(jQuery,travel),function(s,e){var t=Math.floor(travel.opts.theme/100);function a(e,t){var a=s(e);a.length&&a.autocolumnlist({columns:t})}e.modules.autocolumnlist={init:function(){e.isMobile()?(a(".js-links-container ul",2),7!==t&&a(".js-new-main-facilities ul",2),a(".js-facilities-main-mob",2),a(".js-mob-facilities ul",2)):(a(".js-facilities-wrap .js-facilities",4),a(".facilities-block .facilities-coloumn-3",3),a(".js-facilities-new-wrap .js-facilities",3),a(".js-main-facilities .js-facilities",2),a(".js-new-main-facilities .js-facilities",3),a(".js-info-block",4),a(".js-map-attractions ul",3),a(".js-hotels-by-location",4),a(".js-hotels-by-location-districts",1),a(".js-hotels-by-location-near-by",2),a(".js-hotels-by-location-landmarks",1),a(".js-other-hotels",3),a(".js-other-city-hotels",3))}}}(jQuery,travel),function(r,a){a.modules.autocomplete={init:function(){var t=a.opts.lang_id,e=r(".autocomplete");e.size()&&(e.each(function(){var i=r(this).closest("form"),o=r('input[id="hotel_id"]',i),n=r('input[id="hotel_url"]',i);r(this).autocomplete({source:function(a,s){i.attr("action","/not-found/"),n.val("");var e={page:"hotel_search",langID:t,kw:a.term,limit:"20"};r.ajax({url:"/",dataType:"json",data:e,success:function(e){if(e&&!e.error){var t=new RegExp("(?![^&;]+;)(?!<[^<>]*)("+a.term.replace(/([\^\$\(\)\[\]\{\}\*\.\+\?\|\\])/gi,"\\$1")+")(?![^<>]*>)(?![^&;]+;)","gi");s(r.map(e.results,function(e){return e.name.replace(t,"<strong>$1</strong>"),{id:e.id,value:e.name,label:e.name,url:e.url}}))}}})},select:function(e,t){if(t.item){var a=t.item.id,s=t.item.url;o.length&&o.val(a),n.length&&(n.val(s),i.attr("action",s+"#rooms"))}},delay:100,minLength:2})}),e.each(function(){var e=r(this),t=e.parent().find(".js-clear-btn");e.on("keyup change",function(){""===r(this).val()?t.hide():t.show()}),e.trigger("change"),t.on("click",function(){e.val("").trigger("change")})}))}}}(jQuery,travel),function(i,e){var o=null;e.modules.availProgress={init:function(e){if((o=i(".js-avail-progress")).length){var t=o.data("width"),a=o.data("height");o.dialog({autoOpen:!1,width:t,height:a,bgiframe:!0,modal:!0,title:!1,closeOnEscape:!1,draggable:!1,resizable:!1,position:{collision:"none"}}).parent().find(".ui-dialog-titlebar").remove(),i(".progress",o).progressbar()}else o=null},show:function(e){if(o){var t=i(".progress",o);e&&e.progress?(t.show(),t.progressbar("option","value",e.progress)):(t.show(),t.progressbar("option","value",100));var a=i(".count",o),s=i(".results",o);e&&e.count?(s.show(),a.html(e.count).show()):(a.hide(),s.hide()),o.dialog("open")}},hide:function(){o&&o.dialog("close")}}}(jQuery,travel),function(l,c){var r={maxAdults:4,maxChildren:3,minChildAge:0,maxChildAge:16},o=null,d=null,p={};function u(e){var t=l(".js-children-form1",e).first().text(),a=l(".js-children-form2",e).first().text();1==l("#childs",e).val()?l(".js-popup-form-child-text",e).text(t):l(".js-popup-form-child-text",e).text(a);var s=l(".js-adults-form1",e).first().text(),i=l(".js-adults-form2",e).first().text();1==l("#adults",e).val()?l(".js-popup-form-adults-text",e).text(s):l(".js-popup-form-adults-text",e).text(i)}function h(e,t){var a=Math.floor(c.opts.theme/100),s=(l(".js-child-age",t),l(".js-age-container",t).hide());if(l(".js-ch-error",t).hide(),l(".error-age",t).removeClass("error-age"),0<e){s.show();for(var i=l(".js-child-age",t).size()+1;i<=e;i++){var o=[];9==a?"map"===c.opts.page&&"destination"===c.opts.type?o.push('<fieldset class="adults-child__fieldset js-age'+i+'"><div class="adults-child__field js-child-age"><select class="adults-child__select" id="childAge'+i+'" name="childAge'+i+'">'):o.push('<fieldset class="frm-fieldset js-age'+i+'"><div class="frm-fieldset__field js-child-age"><select id="childAge'+i+'" name="childAge'+i+'">'):o.push('<fieldset class="js-age'+i+'"><select class="js-child-age" id="childAge'+i+'" name="childAge'+i+'">'),o.push('<option value="">&nbsp;-</option>');for(var n=0;n<=r.maxChildAge;n++)o.push('<option value="'+n+'">'),0!==n?o.push("&nbsp;"+n):o.push("&nbsp;&lsaquo;1"),o.push("</option>");9==a?o.push('</select><svg class="icon icon-arrow"><use xlink:href="/build/sprites/img/sprite.svg#icon-arrow"></use></svg></div></fieldset>'):o.push("</select></fieldset>"),s.append(o.join(""))}2==e&&l(".js-age3",t).remove(),1==e&&(l(".js-age2",t).remove(),l(".js-age3",t).remove())}else s.hide(),l(".js-age3, .js-age2, .js-age1",t).remove()}function m(e){var t=Math.floor(c.opts.theme/100),a=0;9==t?l(".js-child-age",e).each(function(){""===l(this).find("select").val()?(l(this).addClass("error-age"),++a):l(this).removeClass("error-age")}):l(3==t||60==t?".js-children-age-select":".js-child-age",e).each(function(){""===l(this).val()?(l(this).addClass("error-age"),++a):l(this).removeClass("error-age")});return l(".js-ch-error",e).hide(),0!==a&&l(".js-ch-error-"+(1===a?"one":"plural"),e).show(),0!==a}function a(t){var r=l(".js-adults-childs",t),a=l(".js-popup-form-adults",t),s=l(".js-popup-form-childs",t),i=l("#adults",t).val(),o=l("#childs",t).val(),e=l(".js-age-container",t).hide();l(".js-adalts-child-text",t).hide(),a.html(i),s.html(o),u(t),0==o?l(".popup-form-child",t).hide():(h(o,t),p.childAge1&&l('#childAge1 option[value="'+p.childAge1+'"]',t).attr("selected","selected"),p.childAge2&&l('#childAge2 option[value="'+p.childAge2+'"]',t).attr("selected","selected"),p.childAge3&&l('#childAge3 option[value="'+p.childAge3+'"]',t).attr("selected","selected"));var n=l(".js-childs",t);l(".js-form-popup",t).click(function(){r.show()}),n.on("change",function(){h(l(this).val(),t),setTimeout(function(){l("#childAge1",t).focus().select()},100)}),t.on("click",".js-cancel-btn",function(){0==o&&(e.hide(),l(".js-child-error").hide()),h(o,t),l("#adults",t).val(i),l("#childs",t).val(o),r.hide()}),t.on("click",".js-ok-btn",function(){if(m(t))return!1;i=l("#adults",t).val(),o=l("#childs",t).val(),a.html(i),s.html(o);var e=l(".popup-form-child",t);0==o?e.hide():e.show(),r.hide(),u()}),!c.isMobile()||"hotel"!=c.opts.type||0!=d&&4!=d&&5!=d&&55!=d&&40!=d&&33!=d&&44!=d||t.attr("action","#main"),t.on("submit",function(e){var t,a,s,i=l(this).find(".js-city-select");if(i.length){if(!i.val())return i.addClass("is-error"),l(this).find(".js-city-error").show(),!1;i.removeClass("is-error"),l(this).find(".js-city-error").hide()}if(t=l(this),a=new Date(t.find("#d_from").val()),s=new Date(t.find("#d_to").val()),30<(Date.parse(s)-Date.parse(a))/864e5)return l(this).find(".js-error-dates-limit").show(),l(this).find(".js-calendar-text").addClass("error-date"),!1;if(l(this).find(".js-error-dates-limit").hide(),l(this).find(".js-calendar-text").removeClass("error-date"),m(l(this)))return r.show(),e.preventDefault(),!1;if("1"!=c.opts.is_apartment&&"0"!=c.opts.stars||l.get("/metric.php",{page:"stat",fn:"increment",mn:"click.check-avail_apartment"+c.opts.is_apartment,args:{}},function(e,t,a){console.log(e,t,a)}),"hotel"==c.opts.type){l(".js-exit-popup").remove();var o=location.pathname||"/",n=l(this).attr("action");o+="?"+l(this).serialize(),o+="&_"+(new Date).getTime(),o+=n;if(-1<navigator.appVersion.indexOf("Edge")||/\bTrident\/[567]\b|\bMSIE (?:9|10)\.0\b/.test(navigator.userAgent))return location.href=o,void e.preventDefault()}return!0})}function n(){o=travel.opts.theme,d=Math.floor(o/100);var t=l(".js-avail-popup"),e=(l(".js-avail-popup-show-btn"),t.find(".js-avail-popup-close-btn")),a=t.find(".js-avail-popup-content");1==l.cookie("avail-popup")||1==c.opts.av_params.use||c.isMobile()||"hotel"!=c.opts.type||"book"===c.opts.page||2!=d&&6!=d&&50!=d&&30!=d||setTimeout(function(){t.fadeIn(),l("body").addClass("is-open-popup"),l.cookie("avail-popup",1,{path:"/",expires:3})},5e3),l("body").on("click",".js-avail-popup-show-btn",function(){t.fadeIn(),l("body").addClass("is-open-popup")}),e.on("click",function(){l("body").removeClass("is-open-popup"),t.hide()}),l("body").on("click",function(e){0<l(e.target).closest(t).length&&0==l(e.target).closest(a).length&&(l("body").removeClass("is-open-popup"),t.hide())})}c.modules.availbox={init:function(){var e,t;o=travel.opts.theme,d=Math.floor(o/100),p=c.opts.av_params,l(".js-avail-form").each(function(){a(l(this))}),l(".js-params-block").on("click",".js-params-modify-d2",function(){l(".page-title").hide(),l(".js-availbox, .js-search-title-top").show()}),l(".js-avail-info .js-change-dates").on("click",function(){l(".js-avail-info").detach(),l(".js-availbox-cont").removeClass("hide-mob")}),5==d&&"book"!==c.opts.page&&"hotel"===travel.opts.type&&(e=l(".js-fixed-availform"),t=l(".js-fixed-availbox"),1==travel.opts.av_params.use&&t.addClass("is-checked"),"book"!==!c.opts.page&&e.addClass("is-min-height"),l(window).on("scroll",function(){c.isMobile()&&(t=l(".js-fixed-date-mob")),e.offset().top<l(window).scrollTop()?t.addClass("is-fixed"):t.removeClass("is-fixed")}),n()),5!=d&&55!=d||(i=l(".js-select-test"),i.hasClass("js-init")||(i.addClass("js-init"),i.on("click",".js-prev-quantity, .js-next-quantity",function(){var e=l(this).closest(i).find("select"),t=l(this).hasClass("js-next-quantity"),a=e.hasClass("js-adults")?r.maxAdults:r.maxChildren;l("option",e).each(function(){if(l(this).is(":selected")){if(t){if(a==parseFloat(l(this).val()))return!1;s=parseFloat(l(this).val())+1}else s=parseFloat(l(this).val())-1;l(this).prop("selected",!1)}}),l("option",e).each(function(){if(l(this).val()==s)return l(this).prop("selected",!0).trigger("change"),!1}),l(".js-fixed-availbox").removeClass("is-checked")}))),7!=d&&20!=d||!c.isTablet()||l(".js-booked-online-btn").on("click",function(){l(".__fixed-block").toggleClass("is-fixed-h7"),l(".__fixed-block").hasClass("is-fixed-h7")?(l("body").css("overflow-y","hidden"),l("body").addClass("is-open")):(l("body").css("overflow-y","auto"),l("body").removeClass("is-open"))}),2!=d&&9!=d&&6!=d&&50!=d&&30!=d||n();var s,i},isChildAgeError:m}}(jQuery,travel),function(n,r){r.modules.book={init:function(e){var t=n("#booking-frame"),a=!1,s=r.opts.page;t.length&&(window.scrollTo(0,0),r.isMobile()&&window.addEventListener("message",function(e){a=!0,"contact_details"===e.data?o(1100):"payments_details"===e.data&&o(500)},!1),"group_book"===s?t.height(15e3):t.height(3500),t.on("load",function(){a||window.scrollTo(0,0),a=!1}));var i=n("#booking-form");function o(e){var t=0,a=setInterval(function(){window.scrollTo(0,t),e<=(t+=10)&&clearInterval(a)},20)}i.length&&i.submit()}}}(jQuery,travel),function(w,b){function j(e,t){var a=b.opts.lang_id,s="zh"===b.opts.lang?"ZH_CN":b.opts.lang,i=e.getDate(),o=e.getDay(),n=e.getMonth(),r=e.getFullYear(),l={16:"日",17:"白",24:"일"},c={16:"年",17:"年",24:"년"},d=t.find(".js-calendar-text"),p="";"ja"!==b.opts.lang&&"zh"!==b.opts.lang&&"ko"!==b.opts.lang&&(p+=moment.localeData(s).weekdaysShort()[o]+" "),"ja"===b.opts.lang||"zh"===b.opts.lang?p+=r+c[a]+" ":(p+=i+" ","ko"===b.opts.lang&&(p+=l[a]+" ")),"zh"===b.opts.lang?p+=moment.localeData(s).months()[n]+" ":p+=moment.localeData(s).monthsShort()[n]+" ","ja"===b.opts.lang||"zh"===b.opts.lang?p+=i+l[a]:(p+=r,"ko"===b.opts.lang&&(p+=" "+c[a])),d.html(p)}b.modules.newCalendarAdditional={init:function(){if(33===Math.floor(travel.opts.theme/100)){var e=w(".js-availbox-cont");"book"!==b.opts.page&&"group_book"!==b.opts.page&&e.each(function(){!function(u){var h=b.opts.lang,e=u.closest(".js-price-popup").length,t='<div class="custom-header__text">'+b.opts.messages.f_calendar+"</div>",a=w(".js-avail-info-submit-btn",u),s=w(".js-new-calendar-from",u),i=w(".js-new-calendar-to",u),o=new Date,n="monday";"ar"!==h&&"zh"!==h&&"pt"!==h&&"he"!==h||(n="sunday");var r,l,c,d,p,m=w(".js-new-calendar-from-input",u),f=w(".js-new-calendar-to-input",u),g=w(".js-new-calendar-wrapper",u);function v(){r=m.val(),l=f.val(),c=new Date(m.val()),d=new Date(f.val())}function k(e,t,a){var s="zh"===h?"ZH_CN":h,i=w(".js-plural-night-1",u).html(),o=w(".js-plural-night-2",u).html(),n=w(".js-plural-night-5",u).html(),r=w("<div>").addClass("calendar-hover-nights"),l=moment(t).locale(s).format("dd DD MMM"),c=moment(a).locale(s).format("dd DD MMM"),d=e,p='<div class="calendar-hover-range">'+l+'<span class="calendar-hover-range-icon"> — </span>'+c+"</div>";1===d?r.append(i):1<d&&d<5?r.append(o):r.append(n),w(".js-custom-footer",u).empty().append(p),w(".js-custom-footer",u).append(r).find(".js-night-count").append(e)}function y(){g.hasClass("is-disable-close")||(g.eq(0).data("dateRangePicker").close(),g.removeClass("is-open-calendar"))}p="zh"===(p=h)?"ZH_CN":p,w.dateRangePickerLanguages.default["month-name"]=moment.localeData(p).months(),w.dateRangePickerLanguages.default["day-name"]=moment.localeData(p).weekdays(),w.dateRangePickerLanguages.default["day-names-short"]=moment.localeData(p).weekdaysMin(),w.dateRangePickerLanguages.default["week-1"]=moment.localeData(p).weekdaysMin()[1],w.dateRangePickerLanguages.default["week-2"]=moment.localeData(p).weekdaysMin()[2],w.dateRangePickerLanguages.default["week-3"]=moment.localeData(p).weekdaysMin()[3],w.dateRangePickerLanguages.default["week-4"]=moment.localeData(p).weekdaysMin()[4],w.dateRangePickerLanguages.default["week-5"]=moment.localeData(p).weekdaysMin()[5],w.dateRangePickerLanguages.default["week-6"]=moment.localeData(p).weekdaysMin()[6],w.dateRangePickerLanguages.default["week-7"]=moment.localeData(p).weekdaysMin()[0],w.dateRangePickerLanguages.zh=w.dateRangePickerLanguages.cn,g.dateRangePicker({autoClose:!0,language:"ar"===h?"ar2":h,startDate:o,endDate:!1,stickyMonths:!0,minDays:2,maxDays:30,customHeader:e?null:t,customFooter:'<div class="custom-footer__content js-custom-footer"></div>',customArrowPrevSymbol:'<img class="calendar-arrow calendar-arrow--left icon icon-arrow" src="/templates/hotel33/images/arrow-758f4bc1ad.svg">',customArrowNextSymbol:'<img class="calendar-arrow calendar-arrow--right icon icon-arrow" src="/templates/hotel33/images/arrow-758f4bc1ad.svg">',extraClass:e?"is-price-popup-calendar":"is-main-form-calendar",inline:!0,alwaysOpen:!1,container:g,singleMonth:b.isMobile(),hoveringTooltip:!1,startOfWeek:n,customOpenAnimation:function(e){w(this).show(0,e)},customCloseAnimation:function(e){w(this).hide(0,e)}}).on("datepicker-open",function(){v();var e,t,a=(e=c,t=d,Math.abs(moment(e).diff(moment(t),"d")));k(a,c,d),g.addClass("is-open-first")}).on("datepicker-first-date-selected",function(e,t){var a=moment(t.date1).add(1,"days");j(t.date1,s),m.val(moment(t.date1).format("YYYY-MM-DD")),f.val(moment(a).format("YYYY-MM-DD")),g.addClass("is-disable-close is-open-next").removeClass("is-open-first")}).on("datepicker-start-hovering",function(e,t){var a;t.selectedBefore?(k(t.nights,t.hoverDate,t.selectedDate),j(new Date(t.hoverDate),s),j(new Date(t.selectedDate),i),g.addClass("is-open-first").removeClass("is-open-next")):(k(t.nights,t.selectedDate,t.hoverDate),j(new Date(t.selectedDate),s),j(new Date(t.hoverDate),i),g.addClass("is-open-next").removeClass("is-open-first")),a=t.selectedBefore,w(".js-day:not(.checked)",u).removeClass("first-date-selected").removeClass("last-date-selected"),w(".js-day-wrapper:not(.is-checked)",u).removeClass("is-first-date-selected").removeClass("is-last-date-selected"),a?(w(".js-day.first-date-selected.checked",u).removeClass("first-date-selected").addClass("last-date-selected"),w(".js-day-wrapper.is-first-date-selected.is-checked",u).removeClass("is-first-date-selected").addClass("is-last-date-selected"),w(".js-day.hovering:not(.nextMonth)",u).first().addClass("first-date-selected").closest(".js-day-wrapper").addClass("is-first-date-selected")):(w(".js-day.last-date-selected.checked",u).removeClass("last-date-selected").addClass("first-date-selected"),w(".js-day-wrapper.is-last-date-selected.is-checked",u).removeClass("is-last-date-selected").addClass("is-first-date-selected"),w(".js-day.hovering:not(.lastMonth)",u).last().addClass("last-date-selected").closest(".js-day-wrapper").addClass("is-last-date-selected"))}).on("datepicker-change",function(e,t){j(t.date1,s),j(t.date2,i),m.val(moment(t.date1).format("YYYY-MM-DD")),f.val(moment(t.date2).format("YYYY-MM-DD")),g.removeClass("is-disable-close is-open-first is-open-next"),y(),function(){clearTimeout(e),clearTimeout(t);var e=setTimeout(function(){a.addClass("is-animated")},1e3),t=setTimeout(function(){a.removeClass("is-animated")},3e3)}()}).on("datepicker-close",function(){g.hasClass("is-disable-close")?(v(),j(c,s),j(d,i),g.eq(0).data("dateRangePicker").setDateRange(r,l),g.removeClass("is-disable-close is-open-calendar is-open-first is-open-next")):g.removeClass("is-open-calendar is-open-first is-open-next")}),v(),j(c,s),j(d,i),g.eq(0).data("dateRangePicker").setDateRange(r,l),g.on("click",function(e){e.stopPropagation(),g.hasClass("is-open-calendar")?y():(g.find(".date-picker-wrapper").show(),g.addClass("is-open-calendar is-open-first"))}),w("body").on("click",".js-open-calendar-btn",function(e){var t,a=w(".js-new-calendar-wrapper",".js-availbox-cont").eq(0);clearTimeout(t),w.scrollTo(w(".js-avail-scroll-point"),500),a.hasClass("is-open-calendar")||(t=setTimeout(function(){a.find(".date-picker-wrapper").show(),a.addClass("is-open-calendar is-open-first")},500))})}(w(this))}),"hotel"!==b.opts.type||"main"!==b.opts.page||"0"!==b.opts.av_params.use||b.isMobile()||window.location.hash||function(){"scrollRestoration"in history&&(history.scrollRestoration="manual");var e=w(".js-new-calendar-onboard-wrapper"),t=w(".js-new-calendar-onboard");e.addClass("is-open-onboard");var a=setTimeout(function(){w(".js-new-calendar-wrapper",".js-availbox-cont").eq(0).data("dateRangePicker").open()},1e3);t.on("click",function(){e.removeClass("is-open-onboard"),clearTimeout(a)})}()}}}}(jQuery,travel),function(b,j){function _(e,t){var a=j.opts.lang_id,s="zh"===j.opts.lang?"ZH_CN":j.opts.lang,i=e.getDate(),o=e.getMonth(),n=e.getFullYear(),r={16:"日",17:"白",24:"일"},l={16:"年",17:"年",24:"년"},c="";"ja"===j.opts.lang||"zh"===j.opts.lang?c+=n+l[a]+" ":(c+=i+" ","ko"===j.opts.lang&&(c+=r[a]+" ")),"zh"===j.opts.lang?c+=moment.localeData(s).months()[o]+" ":c+=moment.localeData(s).monthsShort()[o]+" ","ja"===j.opts.lang||"zh"===j.opts.lang?c+=i+r[a]:(c+=n,"ko"===j.opts.lang&&(c+=" "+l[a])),t.html(c)}j.modules.newCalendarSC={init:function(){7===Math.floor(travel.opts.theme/100)&&"hotel"===j.opts.type&&("1120"<b(window).width()&&b(".js-mob-form").find(".js-avail-form").remove(),b(".js-avail-form").each(function(){!function(u){var h=j.opts.lang,e=u.closest(".js-avail-popup").length,t='<div class="custom-header__text">'+j.opts.messages.f_calendar+"</div>",a=b(".js-avail-info-submit-btn",u),s=b(".js-new-calendar-from-text",u),i=b(".js-new-calendar-to-text",u),o=new Date,n="monday";"ar"!==h&&"zh"!==h&&"pt"!==h&&"he"!==h||(n="sunday");var r,l,c,d,p,m=b(".js-new-calendar-from-input",u),f=b(".js-new-calendar-to-input",u),g=b(".js-new-calendar-wrapper",u);function v(){r=m.val(),l=f.val(),c=new Date(m.val()),d=new Date(f.val())}function k(e,t,a){var s="zh"===h?"ZH_CN":h,i=b(".js-plural-night-1",u).html(),o=b(".js-plural-night-2",u).html(),n=b(".js-plural-night-5",u).html(),r=b("<div>").addClass("calendar-hover-nights"),l=moment(t).locale(s).format("ddd, DD MMM"),c=moment(a).locale(s).format("ddd, DD MMM"),d=e,p='<div class="calendar-hover-range">'+l+'<span class="calendar-hover-range-icon"> - </span>'+c+"</div>";1===d?r.append(i):1<d&&d<5?r.append(o):r.append(n),b(".js-custom-footer",u).empty().append(p),b(".js-custom-footer",u).append(r).find(".js-night-count").append(e)}function y(){g.hasClass("is-disable-close")||(g.eq(0).data("dateRangePicker").close(),g.removeClass("is-open-calendar"))}function w(e,t){return Math.abs(moment(e).diff(moment(t),"d"))}p="zh"===(p=h)?"ZH_CN":p,b.dateRangePickerLanguages.default["month-name"]=moment.localeData(p).months(),b.dateRangePickerLanguages.default["day-name"]=moment.localeData(p).weekdays(),b.dateRangePickerLanguages.default["day-names-short"]=moment.localeData(p).weekdaysShort(),b.dateRangePickerLanguages.default["week-1"]=moment.localeData(p).weekdaysShort()[1],b.dateRangePickerLanguages.default["week-2"]=moment.localeData(p).weekdaysShort()[2],b.dateRangePickerLanguages.default["week-3"]=moment.localeData(p).weekdaysShort()[3],b.dateRangePickerLanguages.default["week-4"]=moment.localeData(p).weekdaysShort()[4],b.dateRangePickerLanguages.default["week-5"]=moment.localeData(p).weekdaysShort()[5],b.dateRangePickerLanguages.default["week-6"]=moment.localeData(p).weekdaysShort()[6],b.dateRangePickerLanguages.default["week-7"]=moment.localeData(p).weekdaysShort()[0],b.dateRangePickerLanguages.zh=b.dateRangePickerLanguages.cn,g.dateRangePicker({autoClose:!0,language:"ar"===h?"ar2":h,startDate:o,endDate:!1,stickyMonths:!0,minDays:2,maxDays:30,customArrowPrevSymbol:'<img class="calendar-arrow calendar-arrow--left icon icon-arrow" src="/templates/hotel7/images/arrow-9856b2a3e4.svg">',customArrowNextSymbol:'<img class="calendar-arrow calendar-arrow--right icon icon-arrow" src="/templates/hotel7/images/arrow-9856b2a3e4.svg">',customHeader:e?null:t,customFooter:'<div class="custom-footer__content"></div>',extraClass:e?"is-avail-popup-calendar":"is-main-form-calendar",inline:!0,alwaysOpen:!1,container:g,singleMonth:j.isMobile(),hoveringTooltip:!1,startOfWeek:n,customOpenAnimation:function(e){j.isMobile()?b(this).stop().slideDown(300,e):b(this).stop().show(0,e)},customCloseAnimation:function(e){j.isTouch()?b(this).delay(800).slideUp(300,e):b(this).hide(0,e)}}).on("datepicker-open",function(){v();var e=w(c,d);k(e,c,d)}).on("datepicker-first-date-selected",function(e,t){var a=moment(t.date1).add(1,"days");_(t.date1,s),m.val(moment(t.date1).format("YYYY-MM-DD")),f.val(moment(a).format("YYYY-MM-DD")),g.addClass("is-disable-close")}).on("datepicker-start-hovering",function(e,t){var a;t.selectedBefore?(k(t.nights,t.hoverDate,t.selectedDate),_(new Date(t.hoverDate),s),_(new Date(t.selectedDate),i)):(k(t.nights,t.selectedDate,t.hoverDate),_(new Date(t.selectedDate),s),_(new Date(t.hoverDate),i)),a=t.selectedBefore,b(".js-day:not(.checked)",u).removeClass("first-date-selected").removeClass("last-date-selected"),b(".js-day-wrapper:not(.is-checked)",u).removeClass("is-first-date-selected").removeClass("is-last-date-selected"),a?(b(".js-day.first-date-selected.checked",u).removeClass("first-date-selected").addClass("last-date-selected"),b(".js-day-wrapper.is-first-date-selected.is-checked",u).removeClass("is-first-date-selected").addClass("is-last-date-selected"),b(".js-day.hovering:not(.nextMonth)",u).first().addClass("first-date-selected").closest(".js-day-wrapper").addClass("is-first-date-selected")):(b(".js-day.last-date-selected.checked",u).removeClass("last-date-selected").addClass("first-date-selected"),b(".js-day-wrapper.is-last-date-selected.is-checked",u).removeClass("is-last-date-selected").addClass("is-first-date-selected"),b(".js-day.hovering:not(.lastMonth)",u).last().addClass("last-date-selected").closest(".js-day-wrapper").addClass("is-last-date-selected"))}).on("datepicker-change",function(e,t){_(t.date1,s),_(t.date2,i),m.val(moment(t.date1).format("YYYY-MM-DD")),f.val(moment(t.date2).format("YYYY-MM-DD")),g.removeClass("is-disable-close"),y(),function(){clearTimeout(e),clearTimeout(t);var e=setTimeout(function(){a.addClass("is-animated")},1e3),t=setTimeout(function(){a.removeClass("is-animated")},3e3)}()}).on("datepicker-close",function(){g.hasClass("is-disable-close")?(v(),_(c,s),_(d,i),g.eq(0).data("dateRangePicker").setDateRange(r,l),g.removeClass("is-disable-close is-open-calendar")):g.removeClass("is-open-calendar")}),v(),_(c,s),_(d,i),k(w(c,d),c,d),g.eq(0).data("dateRangePicker").setDateRange(r,l),g.on("click",function(e){e.stopPropagation(),g.hasClass("is-open-calendar")?y():(g.find(".date-picker-wrapper").show(),g.addClass("is-open-calendar"))})}(b(this))}),"main"!==j.opts.page||"0"!==j.opts.av_params.use||j.isMobile()||window.location.hash||function(){"scrollRestoration"in history&&(history.scrollRestoration="manual");var e=b(".js-new-calendar-onboard-wrapper"),t=b(".js-new-calendar-onboard");e.addClass("is-open-onboard");var a=setTimeout(function(){b(".js-new-calendar-wrapper",".js-avail-form").eq(0).data("dateRangePicker").open()},1e3);t.on("click",function(){e.removeClass("is-open-onboard"),clearTimeout(a)})}())}}}(jQuery,travel),function(b,j){function _(e,t){var a=j.opts.lang,s="zh"===a?"ZH_CN":a,i=moment(e).locale(s).format("ddd, DD MMM"),o=b(".js-fixed-menu");j.isMobile()&&(o=b(".js-fixed-menu-mob")),o.length&&(t?o.find(".js-fixed-date.js-fixed-date-from"):o.find(".js-fixed-date.js-fixed-date-to")).html(i)}function C(e,t){var a=j.opts.lang_id,s="zh"===j.opts.lang?"ZH_CN":j.opts.lang,i=e.getDate(),o=e.getMonth(),n=e.getFullYear(),r={16:"日",17:"白",24:"일"},l={16:"年",17:"年",24:"년"},c="";"ja"===j.opts.lang||"zh"===j.opts.lang?c+=n+l[a]+" ":(c+=i+" ","ko"===j.opts.lang&&(c+=r[a]+" ")),"zh"===j.opts.lang?c+=moment.localeData(s).months()[o]+" ":c+=moment.localeData(s).monthsShort()[o]+" ","ja"===j.opts.lang||"zh"===j.opts.lang?c+=i+r[a]:(c+=n,"ko"===j.opts.lang&&(c+=" "+l[a])),t.html(c)}j.modules.newCalendarSV={init:function(){9===Math.floor(travel.opts.theme/100)&&"hotel"===j.opts.type&&(b(".js-avail-form").each(function(){!function(u){var h=j.opts.lang,e=u.closest(".js-avail-popup").length,t='<div class="custom-header__text">'+j.opts.messages.f_calendar+"</div>",a=b(".js-avail-info-submit-btn",u),s=b(".js-new-calendar-from-text",u),i=b(".js-new-calendar-to-text",u),o=new Date,n="monday";"ar"!==h&&"zh"!==h&&"pt"!==h&&"he"!==h||(n="sunday");var r,l,c,d,p,m=b(".js-new-calendar-from-input",u),f=b(".js-new-calendar-to-input",u),g=b(".js-new-calendar-wrapper",u);function v(){r=m.val(),l=f.val(),c=new Date(m.val()),d=new Date(f.val())}function k(e,t,a){var s="zh"===h?"ZH_CN":h,i=b(".js-plural-night-1",u).html(),o=b(".js-plural-night-2",u).html(),n=b(".js-plural-night-5",u).html(),r=b("<div>").addClass("calendar-hover-nights"),l=moment(t).locale(s).format("ddd, DD MMM"),c=moment(a).locale(s).format("ddd, DD MMM"),d=e,p='<div class="calendar-hover-range">'+l+'<span class="calendar-hover-range-icon"> - </span>'+c+"</div>";1===d?r.append(i):1<d&&d<5?r.append(o):r.append(n),b(".js-custom-footer",u).empty().append(p),b(".js-custom-footer",u).append(r).find(".js-night-count").append(e)}function y(){g.hasClass("is-disable-close")||(g.eq(0).data("dateRangePicker").close(),g.removeClass("is-open-calendar"))}function w(e,t){return Math.abs(moment(e).diff(moment(t),"d"))}p="zh"===(p=h)?"ZH_CN":p,b.dateRangePickerLanguages.default["month-name"]=moment.localeData(p).months(),b.dateRangePickerLanguages.default["day-name"]=moment.localeData(p).weekdays(),b.dateRangePickerLanguages.default["day-names-short"]=moment.localeData(p).weekdaysShort(),b.dateRangePickerLanguages.default["week-1"]=moment.localeData(p).weekdaysShort()[1],b.dateRangePickerLanguages.default["week-2"]=moment.localeData(p).weekdaysShort()[2],b.dateRangePickerLanguages.default["week-3"]=moment.localeData(p).weekdaysShort()[3],b.dateRangePickerLanguages.default["week-4"]=moment.localeData(p).weekdaysShort()[4],b.dateRangePickerLanguages.default["week-5"]=moment.localeData(p).weekdaysShort()[5],b.dateRangePickerLanguages.default["week-6"]=moment.localeData(p).weekdaysShort()[6],b.dateRangePickerLanguages.default["week-7"]=moment.localeData(p).weekdaysShort()[0],b.dateRangePickerLanguages.zh=b.dateRangePickerLanguages.cn,g.dateRangePicker({autoClose:!0,language:"ar"===h?"ar2":h,startDate:o,endDate:!1,stickyMonths:!0,minDays:2,maxDays:30,customArrowPrevSymbol:'<img class="calendar-arrow calendar-arrow--left icon icon-arrow" src="/templates/hotel9/images/arrow-758f4bc1ad.svg">',customArrowNextSymbol:'<img class="calendar-arrow calendar-arrow--right icon icon-arrow" src="/templates/hotel9/images/arrow-758f4bc1ad.svg">',customHeader:e?null:t,customFooter:'<div class="custom-footer__content"></div>',extraClass:e?"is-avail-popup-calendar":"is-main-form-calendar",inline:!0,alwaysOpen:!1,container:g,singleMonth:j.isMobile(),hoveringTooltip:!1,startOfWeek:n,customOpenAnimation:function(e){j.isMobile()?b(this).stop().slideDown(300,e):b(this).stop().show(0,e)},customCloseAnimation:function(e){j.isTouch()?b(this).delay(800).slideUp(300,e):b(this).hide(0,e)}}).on("datepicker-open",function(){v();var e=w(c,d);k(e,c,d)}).on("datepicker-first-date-selected",function(e,t){var a=moment(t.date1).add(1,"days");C(t.date1,s),_(t.date1,!0),m.val(moment(t.date1).format("YYYY-MM-DD")),f.val(moment(a).format("YYYY-MM-DD")),g.addClass("is-disable-close")}).on("datepicker-start-hovering",function(e,t){var a;t.selectedBefore?(k(t.nights,t.hoverDate,t.selectedDate),C(new Date(t.hoverDate),s),C(new Date(t.selectedDate),i),_(new Date(t.hoverDate),!0),_(new Date(t.selectedDate),!1)):(k(t.nights,t.selectedDate,t.hoverDate),C(new Date(t.selectedDate),s),C(new Date(t.hoverDate),i),_(new Date(t.hoverDate),!1),_(new Date(t.selectedDate),!0)),a=t.selectedBefore,b(".js-day:not(.checked)",u).removeClass("first-date-selected").removeClass("last-date-selected"),b(".js-day-wrapper:not(.is-checked)",u).removeClass("is-first-date-selected").removeClass("is-last-date-selected"),a?(b(".js-day.first-date-selected.checked",u).removeClass("first-date-selected").addClass("last-date-selected"),b(".js-day-wrapper.is-first-date-selected.is-checked",u).removeClass("is-first-date-selected").addClass("is-last-date-selected"),b(".js-day.hovering:not(.nextMonth)",u).first().addClass("first-date-selected").closest(".js-day-wrapper").addClass("is-first-date-selected")):(b(".js-day.last-date-selected.checked",u).removeClass("last-date-selected").addClass("first-date-selected"),b(".js-day-wrapper.is-last-date-selected.is-checked",u).removeClass("is-last-date-selected").addClass("is-first-date-selected"),b(".js-day.hovering:not(.lastMonth)",u).last().addClass("last-date-selected").closest(".js-day-wrapper").addClass("is-last-date-selected"))}).on("datepicker-change",function(e,t){C(t.date1,s),_(t.date1,!0),C(t.date2,i),_(t.date2,!1),m.val(moment(t.date1).format("YYYY-MM-DD")),f.val(moment(t.date2).format("YYYY-MM-DD")),g.removeClass("is-disable-close"),y(),function(){clearTimeout(e),clearTimeout(t);var e=setTimeout(function(){a.addClass("is-animated")},1e3),t=setTimeout(function(){a.removeClass("is-animated")},3e3)}()}).on("datepicker-close",function(){g.hasClass("is-disable-close")?(v(),C(c,s),_(c,!0),C(d,i),_(d,!1),g.eq(0).data("dateRangePicker").setDateRange(r,l),g.removeClass("is-disable-close is-open-calendar")):g.removeClass("is-open-calendar")}),v(),C(c,s),_(c,!0),C(d,i),_(d,!1),k(w(c,d),c,d),g.eq(0).data("dateRangePicker").setDateRange(r,l),g.on("click",function(e){e.stopPropagation(),g.hasClass("is-open-calendar")?y():(g.find(".date-picker-wrapper").show(),g.addClass("is-open-calendar"))})}(b(this))}),"main"!==j.opts.page||"0"!==j.opts.av_params.use||j.isMobile()||window.location.hash||function(){"scrollRestoration"in history&&(history.scrollRestoration="manual");var e=b(".js-new-calendar-onboard-wrapper"),t=b(".js-new-calendar-onboard");e.addClass("is-open-onboard");var a=setTimeout(function(){b(".js-new-calendar-wrapper",".js-avail-form").eq(0).data("dateRangePicker").open()},1e3);t.on("click",function(){e.removeClass("is-open-onboard"),clearTimeout(a)})}())}}}(jQuery,travel),function(w,b){function j(e,t){var a=b.opts.lang_id,s="zh"===b.opts.lang?"ZH_CN":b.opts.lang,i=e.getDate(),o=e.getDay(),n=e.getMonth(),r=e.getFullYear(),l={16:"日",17:"白",24:"일"},c={16:"年",17:"年",24:"년"},d=t.find(".js-calendar-text"),p="";"ja"!==b.opts.lang&&"zh"!==b.opts.lang&&"ko"!==b.opts.lang&&(p+=moment.localeData(s).weekdaysShort()[o]+" "),"ja"===b.opts.lang||"zh"===b.opts.lang?p+=r+c[a]+" ":(p+=i+" ","ko"===b.opts.lang&&(p+=l[a]+" ")),"zh"===b.opts.lang?p+=moment.localeData(s).months()[n]+" ":p+=moment.localeData(s).monthsShort()[n]+" ","ja"===b.opts.lang||"zh"===b.opts.lang?p+=i+l[a]:(p+=r,"ko"===b.opts.lang&&(p+=" "+c[a])),d.html(p)}b.modules.newCalendarUK={init:function(){5===Math.floor(travel.opts.theme/100)&&(w(".js-availbox-cont").each(function(){!function(u){var h=b.opts.lang,e=u.closest(".js-avail-popup").length,t='<div class="custom-header__text">'+b.opts.messages.f_calendar+"</div>",a=w(".js-avail-info-submit-btn",u),s=w(".js-new-calendar-from",u),i=w(".js-new-calendar-to",u),o=new Date,n="monday";"ar"!==h&&"zh"!==h&&"pt"!==h&&"he"!==h||(n="sunday");var r,l,c,d,p,m=w(".js-new-calendar-from-input",u),f=w(".js-new-calendar-to-input",u),g=w(".js-new-calendar-wrapper",u);function v(){r=m.val(),l=f.val(),c=new Date(m.val()),d=new Date(f.val())}function k(e,t,a){var s="zh"===h?"ZH_CN":h,i=w(".js-plural-night-1",u).html(),o=w(".js-plural-night-2",u).html(),n=w(".js-plural-night-5",u).html(),r=w("<div>").addClass("calendar-hover-nights"),l=moment(t).locale(s).format("dd DD MMM"),c=moment(a).locale(s).format("dd DD MMM"),d=e,p='<div class="calendar-hover-range">'+l+'<span class="calendar-hover-range-icon"><svg class="icon icon-swap"><use xlink:href="/build/sprites/img/sprite.svg#icon-swap"></use></svg></span>'+c+"</div>";1===d?r.append(i):1<d&&d<5?r.append(o):r.append(n),w(".js-custom-footer",u).empty().append(p),w(".js-custom-footer",u).append(r).find(".js-night-count").append(e)}function y(){g.hasClass("is-disable-close")||(g.eq(0).data("dateRangePicker").close(),g.removeClass("is-open-calendar"))}p="zh"===(p=h)?"ZH_CN":p,w.dateRangePickerLanguages.default["month-name"]=moment.localeData(p).months(),w.dateRangePickerLanguages.default["day-name"]=moment.localeData(p).weekdays(),w.dateRangePickerLanguages.default["day-names-short"]=moment.localeData(p).weekdaysShort(),w.dateRangePickerLanguages.default["week-1"]=moment.localeData(p).weekdaysShort()[1],w.dateRangePickerLanguages.default["week-2"]=moment.localeData(p).weekdaysShort()[2],w.dateRangePickerLanguages.default["week-3"]=moment.localeData(p).weekdaysShort()[3],w.dateRangePickerLanguages.default["week-4"]=moment.localeData(p).weekdaysShort()[4],w.dateRangePickerLanguages.default["week-5"]=moment.localeData(p).weekdaysShort()[5],w.dateRangePickerLanguages.default["week-6"]=moment.localeData(p).weekdaysShort()[6],w.dateRangePickerLanguages.default["week-7"]=moment.localeData(p).weekdaysShort()[0],w.dateRangePickerLanguages.zh=w.dateRangePickerLanguages.cn,g.dateRangePicker({autoClose:!0,language:"ar"===h?"ar2":h,startDate:o,endDate:!1,stickyMonths:!0,minDays:2,maxDays:30,customHeader:e?null:t,customFooter:'<div class="custom-footer__content"></div>',extraClass:e?"is-price-popup-calendar":"is-main-form-calendar",inline:!0,alwaysOpen:!1,container:g,singleMonth:b.isMobile(),hoveringTooltip:!1,startOfWeek:n,customOpenAnimation:function(e){w(this).show(0,e)},customCloseAnimation:function(e){w(this).hide(0,e)}}).on("datepicker-open",function(){v();var e,t,a=(e=c,t=d,Math.abs(moment(e).diff(moment(t),"d")));k(a,c,d),g.addClass("is-open-first")}).on("datepicker-first-date-selected",function(e,t){var a=moment(t.date1).add(1,"days");j(t.date1,s),m.val(moment(t.date1).format("YYYY-MM-DD")),f.val(moment(a).format("YYYY-MM-DD")),g.addClass("is-disable-close is-open-next").removeClass("is-open-first")}).on("datepicker-start-hovering",function(e,t){var a;t.selectedBefore?(k(t.nights,t.hoverDate,t.selectedDate),j(new Date(t.hoverDate),s),j(new Date(t.selectedDate),i),g.addClass("is-open-first").removeClass("is-open-next")):(k(t.nights,t.selectedDate,t.hoverDate),j(new Date(t.selectedDate),s),j(new Date(t.hoverDate),i),g.addClass("is-open-next").removeClass("is-open-first")),a=t.selectedBefore,w(".js-day:not(.checked)",u).removeClass("first-date-selected").removeClass("last-date-selected"),w(".js-day-wrapper:not(.is-checked)",u).removeClass("is-first-date-selected").removeClass("is-last-date-selected"),a?(w(".js-day.first-date-selected.checked",u).removeClass("first-date-selected").addClass("last-date-selected"),w(".js-day-wrapper.is-first-date-selected.is-checked",u).removeClass("is-first-date-selected").addClass("is-last-date-selected"),w(".js-day.hovering:not(.nextMonth)",u).first().addClass("first-date-selected").closest(".js-day-wrapper").addClass("is-first-date-selected")):(w(".js-day.last-date-selected.checked",u).removeClass("last-date-selected").addClass("first-date-selected"),w(".js-day-wrapper.is-last-date-selected.is-checked",u).removeClass("is-last-date-selected").addClass("is-first-date-selected"),w(".js-day.hovering:not(.lastMonth)",u).last().addClass("last-date-selected").closest(".js-day-wrapper").addClass("is-last-date-selected"))}).on("datepicker-change",function(e,t){j(t.date1,s),j(t.date2,i),m.val(moment(t.date1).format("YYYY-MM-DD")),f.val(moment(t.date2).format("YYYY-MM-DD")),g.removeClass("is-disable-close is-open-first is-open-next"),y(),function(){clearTimeout(e),clearTimeout(t);var e=setTimeout(function(){a.addClass("is-animated")},1e3),t=setTimeout(function(){a.removeClass("is-animated")},3e3)}()}).on("datepicker-close",function(){g.hasClass("is-disable-close")?(v(),j(c,s),j(d,i),g.eq(0).data("dateRangePicker").setDateRange(r,l),g.removeClass("is-disable-close is-open-calendar is-open-first is-open-next")):g.removeClass("is-open-calendar is-open-first is-open-next")}),v(),j(c,s),j(d,i),g.eq(0).data("dateRangePicker").setDateRange(r,l),g.on("click",function(e){e.stopPropagation(),g.hasClass("is-open-calendar")?y():(g.find(".date-picker-wrapper").show(),g.addClass("is-open-calendar is-open-first"))}),w("body").on("click",".js-open-calendar-btn",function(e){var t,a=w(".js-new-calendar-wrapper",".js-availbox-cont").eq(0);clearTimeout(t),w.scrollTo(w(".js-avail-scroll-point"),500),a.hasClass("is-open-calendar")||(t=setTimeout(function(){a.find(".date-picker-wrapper").show(),a.addClass("is-open-calendar is-open-first")},500))})}(w(this))}),"hotel"!==b.opts.type||"main"!==b.opts.page||"0"!==b.opts.av_params.use||b.isMobile()||window.location.hash||function(){"scrollRestoration"in history&&(history.scrollRestoration="manual");var e=w(".js-new-calendar-onboard-wrapper"),t=w(".js-new-calendar-onboard");e.addClass("is-open-onboard");var a=setTimeout(function(){w(".js-new-calendar-wrapper",".js-availbox-cont").eq(0).data("dateRangePicker").open()},1e3);t.on("click",function(){e.removeClass("is-open-onboard"),clearTimeout(a)})}())}}}(jQuery,travel),function(h,c){var u={langid:1,showDelay:c.isMobile()?800:0,checkInText:h(".js-check-in-text").text(),checkOutText:h(".js-check-out-text").text()},r=c.opts.type,l=Math.floor(c.opts.theme/100),t=(c.opts.btest,!1),d=null,a={de:{closeText:"Schließen",prevText:"&#x3C;Zurück",nextText:"Vor&#x3E;",currentText:"Heute",monthNames:["Januar","Februar","März","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember"],monthNamesShort:["Jan","Feb","Mär","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Dez"],dayNames:["Sonntag","Montag","Dienstag","Mittwoch","Donnerstag","Freitag","Samstag"],dayNamesShort:["So","Mo","Di","Mi","Do","Fr","Sa"],dayNamesMin:["So","Mo","Di","Mi","Do","Fr","Sa"],weekHeader:"KW",dateFormat:"dd.mm.yy",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},fr:{closeText:"Fermer",prevText:"Précédent",nextText:"Suivant",currentText:"Aujourd'hui",monthNames:["janvier","février","mars","avril","mai","juin","juillet","août","septembre","octobre","novembre","décembre"],monthNamesShort:["janv.","févr.","mars","avr.","mai","juin","juil.","août","sept.","oct.","nov.","déc."],dayNames:["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"],dayNamesShort:["dim.","lun.","mar.","mer.","jeu.","ven.","sam."],dayNamesMin:["D","L","M","M","J","V","S"],weekHeader:"Sem.",dateFormat:"dd/mm/yy",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},es:{closeText:"Cerrar",prevText:"&#x3C;Ant",nextText:"Sig&#x3E;",currentText:"Hoy",monthNames:["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"],monthNamesShort:["ene","feb","mar","abr","may","jun","jul","ago","sep","oct","nov","dic"],dayNames:["domingo","lunes","martes","miércoles","jueves","viernes","sábado"],dayNamesShort:["dom","lun","mar","mié","jue","vie","sáb"],dayNamesMin:["D","L","M","X","J","V","S"],weekHeader:"Sm",dateFormat:"dd/mm/yy",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},it:{closeText:"Chiudi",prevText:"&#x3C;Prec",nextText:"Succ&#x3E;",currentText:"Oggi",monthNames:["Gennaio","Febbraio","Marzo","Aprile","Maggio","Giugno","Luglio","Agosto","Settembre","Ottobre","Novembre","Dicembre"],monthNamesShort:["Gen","Feb","Mar","Apr","Mag","Giu","Lug","Ago","Set","Ott","Nov","Dic"],dayNames:["Domenica","Lunedì","Martedì","Mercoledì","Giovedì","Venerdì","Sabato"],dayNamesShort:["Dom","Lun","Mar","Mer","Gio","Ven","Sab"],dayNamesMin:["Do","Lu","Ma","Me","Gi","Ve","Sa"],weekHeader:"Sm",dateFormat:"dd/mm/yy",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},nl:{closeText:"Sluiten",prevText:"←",nextText:"→",currentText:"Vandaag",monthNames:["januari","februari","maart","april","mei","juni","juli","augustus","september","oktober","november","december"],monthNamesShort:["jan","feb","mrt","apr","mei","jun","jul","aug","sep","okt","nov","dec"],dayNames:["zondag","maandag","dinsdag","woensdag","donderdag","vrijdag","zaterdag"],dayNamesShort:["zon","maa","din","woe","don","vri","zat"],dayNamesMin:["zo","ma","di","wo","do","vr","za"],weekHeader:"Wk",dateFormat:"dd-mm-yy",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},pt:{closeText:"Fechar",prevText:"Anterior",nextText:"Seguinte",currentText:"Hoje",monthNames:["Janeiro","Fevereiro","Março","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],monthNamesShort:["Jan","Fev","Mar","Abr","Mai","Jun","Jul","Ago","Set","Out","Nov","Dez"],dayNames:["Domingo","Segunda-feira","Terça-feira","Quarta-feira","Quinta-feira","Sexta-feira","Sábado"],dayNamesShort:["Dom","Seg","Ter","Qua","Qui","Sex","Sáb"],dayNamesMin:["Dom","Seg","Ter","Qua","Qui","Sex","Sáb"],weekHeader:"Sem",dateFormat:"dd/mm/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},sv:{closeText:"Stäng",prevText:"&#xAB;Förra",nextText:"Nästa&#xBB;",currentText:"Idag",monthNames:["Januari","Februari","Mars","April","Maj","Juni","Juli","Augusti","September","Oktober","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","Maj","Jun","Jul","Aug","Sep","Okt","Nov","Dec"],dayNamesShort:["Sön","Mån","Tis","Ons","Tor","Fre","Lör"],dayNames:["Söndag","Måndag","Tisdag","Onsdag","Torsdag","Fredag","Lördag"],dayNamesMin:["Sö","Må","Ti","On","To","Fr","Lö"],weekHeader:"Ve",dateFormat:"yy-mm-dd",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},da:{closeText:"Luk",prevText:"&#x3C;Forrige",nextText:"Næste&#x3E;",currentText:"Idag",monthNames:["Januar","Februar","Marts","April","Maj","Juni","Juli","August","September","Oktober","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","Maj","Jun","Jul","Aug","Sep","Okt","Nov","Dec"],dayNames:["Søndag","Mandag","Tirsdag","Onsdag","Torsdag","Fredag","Lørdag"],dayNamesShort:["Søn","Man","Tir","Ons","Tor","Fre","Lør"],dayNamesMin:["Sø","Ma","Ti","On","To","Fr","Lø"],weekHeader:"Uge",dateFormat:"dd-mm-yy",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},cs:{closeText:"Zavřít",prevText:"&#x3C;Dříve",nextText:"Později&#x3E;",currentText:"Nyní",monthNames:["leden","únor","březen","duben","květen","červen","červenec","srpen","září","říjen","listopad","prosinec"],monthNamesShort:["led","úno","bře","dub","kvě","čer","čvc","srp","zář","říj","lis","pro"],dayNames:["neděle","pondělí","úterý","středa","čtvrtek","pátek","sobota"],dayNamesShort:["ne","po","út","st","čt","pá","so"],dayNamesMin:["ne","po","út","st","čt","pá","so"],weekHeader:"Týd",dateFormat:"dd.mm.yy",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},hu:{closeText:"bezár",prevText:"vissza",nextText:"előre",currentText:"ma",monthNames:["Január","Február","Március","Április","Május","Június","Július","Augusztus","Szeptember","Október","November","December"],monthNamesShort:["Jan","Feb","Már","Ápr","Máj","Jún","Júl","Aug","Szep","Okt","Nov","Dec"],dayNames:["Vasárnap","Hétfő","Kedd","Szerda","Csütörtök","Péntek","Szombat"],dayNamesShort:["Vas","Hét","Ked","Sze","Csü","Pén","Szo"],dayNamesMin:["V","H","K","Sze","Cs","P","Szo"],weekHeader:"Hét",dateFormat:"yy.mm.dd.",firstDay:1,isRTL:!1,showMonthAfterYear:!0,yearSuffix:""},ja:{closeText:"閉じる",prevText:"&#x3C;前",nextText:"次&#x3E;",currentText:"今日",monthNames:["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"],monthNamesShort:["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"],dayNames:["日曜日","月曜日","火曜日","水曜日","木曜日","金曜日","土曜日"],dayNamesShort:["日","月","火","水","木","金","土"],dayNamesMin:["日","月","火","水","木","金","土"],weekHeader:"週",dateFormat:"yy/mm/dd",firstDay:0,isRTL:!1,showMonthAfterYear:!0,yearSuffix:"年"},zh:{closeText:"关闭",prevText:"&#x3C;上月",nextText:"下月&#x3E;",currentText:"今天",monthNames:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],monthNamesShort:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],dayNames:["星期日","星期一","星期二","星期三","星期四","星期五","星期六"],dayNamesShort:["周日","周一","周二","周三","周四","周五","周六"],dayNamesMin:["日","一","二","三","四","五","六"],weekHeader:"周",dateFormat:"yy-mm-dd",firstDay:1,isRTL:!1,showMonthAfterYear:!0,yearSuffix:"年"},pl:{closeText:"Zamknij",prevText:"&#x3C;Poprzedni",nextText:"Następny&#x3E;",currentText:"Dziś",monthNames:["Styczeń","Luty","Marzec","Kwiecień","Maj","Czerwiec","Lipiec","Sierpień","Wrzesień","Październik","Listopad","Grudzień"],monthNamesShort:["Sty","Lu","Mar","Kw","Maj","Cze","Lip","Sie","Wrz","Pa","Lis","Gru"],dayNames:["Niedziela","Poniedziałek","Wtorek","Środa","Czwartek","Piątek","Sobota"],dayNamesShort:["Nie","Pn","Wt","Śr","Czw","Pt","So"],dayNamesMin:["N","Pn","Wt","Śr","Cz","Pt","So"],weekHeader:"Tydz",dateFormat:"dd.mm.yy",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},el:{closeText:"Κλείσιμο",prevText:"Προηγούμενος",nextText:"Επόμενος",currentText:"Σήμερα",monthNames:["Ιανουάριος","Φεβρουάριος","Μάρτιος","Απρίλιος","Μάιος","Ιούνιος","Ιούλιος","Αύγουστος","Σεπτέμβριος","Οκτώβριος","Νοέμβριος","Δεκέμβριος"],monthNamesShort:["Ιαν","Φεβ","Μαρ","Απρ","Μαι","Ιουν","Ιουλ","Αυγ","Σεπ","Οκτ","Νοε","Δεκ"],dayNames:["Κυριακή","Δευτέρα","Τρίτη","Τετάρτη","Πέμπτη","Παρασκευή","Σάββατο"],dayNamesShort:["Κυρ","Δευ","Τρι","Τετ","Πεμ","Παρ","Σαβ"],dayNamesMin:["Κυ","Δε","Τρ","Τε","Πε","Πα","Σα"],weekHeader:"Εβδ",dateFormat:"dd/mm/yy",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},ru:{closeText:"Закрыть",prevText:"&#x3C;Пред",nextText:"След&#x3E;",currentText:"Сегодня",monthNames:["Январь","Февраль","Март","Апрель","Май","Июнь","Июль","Август","Сентябрь","Октябрь","Ноябрь","Декабрь"],monthNamesShort:["Янв","Фев","Мар","Апр","Май","Июн","Июл","Авг","Сен","Окт","Ноя","Дек"],dayNames:["воскресенье","понедельник","вторник","среда","четверг","пятница","суббота"],dayNamesShort:["Вс","Пн","Вт","Ср","Чт","Пт","Сб"],dayNamesMin:["Вс","Пн","Вт","Ср","Чт","Пт","Сб"],weekHeader:"Нед",dateFormat:"dd.mm.yy",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},uk:{closeText:"Закрити",prevText:"&#x3C;Назад",nextText:"Далі&#x3E;",currentText:"Сьогодні",monthNames:["Січень","Лютий","Березень","Квітень","Травень","Червень","Липень","Серпень","Вересень","Жовтень","Листопад","Грудень"],monthNamesShort:["Січ","Лют","Бер","Кві","Тра","Чер","Лип","Сер","Вер","Жов","Лис","Гру"],dayNames:["неділя","понеділок","вівторок","середа","четвер","п'ятниця","субота"],dayNamesShort:["Нд","Пн","Вт","Ср","Чт","Пт","Сб"],dayNamesMin:["Нд","Пн","Вт","Ср","Чт","Пт","Сб"],weekHeader:"Тиж",dateFormat:"dd.mm.yy",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},tr:{closeText:"kapat",prevText:"&#x3C;geri",nextText:"ileri&#x3e",currentText:"bugün",monthNames:["Ocak","Şubat","Mart","Nisan","Mayıs","Haziran","Temmuz","Ağustos","Eylül","Ekim","Kasım","Aralık"],monthNamesShort:["Oca","Şub","Mar","Nis","May","Haz","Tem","Ağu","Eyl","Eki","Kas","Ara"],dayNames:["Pazar","Pazartesi","Salı","Çarşamba","Perşembe","Cuma","Cumartesi"],dayNamesShort:["Pz","Pt","Sa","Ça","Pe","Cu","Ct"],dayNamesMin:["Pz","Pt","Sa","Ça","Pe","Cu","Ct"],weekHeader:"Hf",dateFormat:"dd.mm.yy",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},ar:{closeText:"إغلاق",prevText:"&#x3C;السابق",nextText:"التالي&#x3E;",currentText:"اليوم",monthNames:["يناير","فبراير","مارس","أبريل","مايو","يونيو","يوليو","أغسطس","سبتمبر","أكتوبر","نوفمبر","ديسمبر"],monthNamesShort:["1","2","3","4","5","6","7","8","9","10","11","12"],dayNames:["الأحد","الاثنين","الثلاثاء","الأربعاء","الخميس","الجمعة","السبت"],dayNamesShort:["أحد","اثنين","ثلاثاء","أربعاء","خميس","جمعة","سبت"],dayNamesMin:["ح","ن","ث","ر","خ","ج","س"],weekHeader:"أسبوع",dateFormat:"dd/mm/yy",firstDay:0,isRTL:!0,showMonthAfterYear:!1,yearSuffix:""},ko:{closeText:"닫기",prevText:"이전달",nextText:"다음달",currentText:"오늘",monthNames:["1월","2월","3월","4월","5월","6월","7월","8월","9월","10월","11월","12월"],monthNamesShort:["1월","2월","3월","4월","5월","6월","7월","8월","9월","10월","11월","12월"],dayNames:["일요일","월요일","화요일","수요일","목요일","금요일","토요일"],dayNamesShort:["일","월","화","수","목","금","토"],dayNamesMin:["일","월","화","수","목","금","토"],weekHeader:"Wk",dateFormat:"yy-mm-dd",firstDay:0,isRTL:!1,showMonthAfterYear:!0,yearSuffix:"년"},he:{closeText:"סגור",prevText:"&#x3C;הקודם",nextText:"הבא&#x3E;",currentText:"היום",monthNames:["ינואר","פברואר","מרץ","אפריל","מאי","יוני","יולי","אוגוסט","ספטמבר","אוקטובר","נובמבר","דצמבר"],monthNamesShort:["ינו","פבר","מרץ","אפר","מאי","יוני","יולי","אוג","ספט","אוק","נוב","דצמ"],dayNames:["ראשון","שני","שלישי","רביעי","חמישי","שישי","שבת"],dayNamesShort:["א'","ב'","ג'","ד'","ה'","ו'","שבת"],dayNamesMin:["א'","ב'","ג'","ד'","ה'","ו'","שבת"],weekHeader:"Wk",dateFormat:"dd/mm/yy",firstDay:0,isRTL:!0,showMonthAfterYear:!1,yearSuffix:""},us:{closeText:"Close",prevText:"&#x3C;Previous",nextText:"Next&#x3E;",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sept","Oct","Nov","Dec"],dayNames:["sunday","monday","tuesday","wednesday","thursday","friday","saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Week",dateFormat:"mm.dd.yy",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},no:{monthNames:["Januar","Februar","Mars","April","Mai","Juni","Juli","August","September","Oktober","November","Desember"],monthNamesShort:["jan","feb","mar","apr","mai","jun","jul","aug","sep","okt","nov","des"],dayNamesShort:["søn","mån","tir","ons","tor","fre","lau"],dayNamesMin:["Sø","Ma","Ti","On","To","Fr","Lø"]},br:{monthNames:["Janeiro","Fevereiro","Março","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],monthNamesShort:["Jan","Fev","Mar","Abr","Mai","Jun","Jul","Ago","Set","Out","Nov","Dez"],dayNamesShort:["Dom","Seg","Terç","Qua","Qui","Sex","Sáb"],dayNamesMin:["Do","Se","Te","Qa","Qi","Sx","Sa"],firstDay:0}},p={day:{1:"Day",2:"Tag",3:"Jour",4:"Día",5:"Giorno",6:"Dag",7:"Day",8:"Dia",9:"Day",10:"Day",11:"Dag",12:"Dag",13:"Den",14:"Nap",16:"日",17:"白 天",18:"Dzień",19:"ημέρα",20:"День",29:"День",21:"Gün",22:"يوم",23:"Day",24:"일",25:"יום"},day_add:{16:"日",17:"日"},month:{1:"Month",2:"Monat",3:"Mois",4:"Mes",5:"Mese",6:"Maand",7:"Month",8:"Mês",9:"Month",10:"Month",11:"Månad",12:"Måned",13:"Měsíc",14:"Hónap",15:"Month",16:"月/年",17:"本月",18:"Miesiąc",19:"μήνα",20:"Месяц",29:"Місяць",21:"Ay",22:"شهر",23:"Month",24:"월",25:"חודש"},year:{16:"年",17:"年",24:"년"}};function m(e){return e&&""!=e?(fields=e.split("-"),fields.length<3?null:new Date(parseInt(fields[0],10),parseInt(fields[1],10)-1,parseInt(fields[2],10))):new Date}function f(e){var t="";if(-1!=e.indexOf(",")){var a=e.split(",");e=a[0],t=a[1]}var s=e;14==s.length&&(s=e.substr(0,4)+"-"+e.substr(4,2)+"-"+e.substr(6,2));var i=m(s);if(!i)return"";year=i.getYear(),month=i.getMonth()+1,day=i.getDate(),year<2e3&&(year+=1900);var o=h.datepicker._defaults.monthNamesShort,n=h.datepicker._defaults.dayNamesShort,r=new Date(year,month-1,1).getDay(),l="";return l=16==u.lang_id||17==u.lang_id?year+p.year[u.lang_id]+" "+o[month-1]+" "+day+p.day_add[u.lang_id]:24==u.lang_id?day+" "+p.day[24]+" "+o[month-1]+" "+year+p.year[24]:n[(r+day-1)%7]+" "+day+" "+o[month-1]+" "+year,""!=t&&(l+=", "+t),l}function g(e,t){var a=e.split("-");if(3!=a.length)return null;t=parseInt(t);return m(parseInt(a[0])-t+"-"+a[1]+"-"+a[2])}function s(e,t,a){var s=e.dpDiv,i=s.width();if(c.isMobile())t.top=h(document).scrollTop()+(h(window).height()-s.height())/2,d.css({top:t.top-35+"px"});else{var o=e.input.closest(".js-calendar-cont");if(!o.length)return;var n=h(".js-calendar-text",o);if(!n.length)return;(t=n.offset()).top+=n.get(0).offsetHeight,t.left+=this._get(e,"isRTL")?i:0}return h.datepicker._checkOffsetOld(e,t,a)}function i(e,t){this._inlineDatepickerOld(e,t);var a=h.datepicker._get(t,"beforeShow");a&&function(e,t){for(var a in h.extend(e,t),t)null==t[a]&&(e[a]=t[a])}(t.settings,a?a.apply(e,[e,t]):{})}function o(e){for(var t;e&&("hidden"===e.type||1!==e.nodeType||h.expr.filters.hidden(e));)e=e.nextSibling;return[(t=h(e).offset()).left,t.top]}function n(e){if(c.isMobile()&&!u.isInline){var t=h(".js-calendar-bg");0==t.length&&(h("body").append('<div class="js-calendar-bg mobile-calendar-bg"></div>'),t=h(".js-calendar-bg")),t.fadeIn(u.showDelay),-1!=h(this).attr("id").indexOf("_from")?text=u.checkInText:text=u.checkOutText,d.html(text).fadeIn(u.showDelay)}return function(e){if(e.closest(".js-avail-form"),"object"==typeof e){var t=h(e).closest(".js-avail-form");if(h(e).hasClass("js-calendar-div")){var a=h(e).closest(".js-calendar-cont");e=h(".js-calendar",a)}e=h(e).attr("id")}else t=h("#"+e).closest(".js-avail-form");var s=e.replace("_to","_from"),i=s.replace("_from","_to");if(s!=i){var o=new Date,n=(l=h("#"+s,t)).data("date");n||(n=l.val());var r=m(n);return(null==r||isNaN(r.getTime()))&&r.setTime(o.getTime()),r.setDate(r.getDate()+1),result={minDate:e==i?r:o,maxDate:null},result}var l=h("#"+s,t),c=h(l).data();if(""!=c.age){var d=parseInt(c.age),p=c.till;if(""!=p){var u=g(p,d+1);return u.setDate(u.getDate()+1),{minDate:u,maxDate:g(p,d)}}}}(h(this))}function v(e,t){t.skipFade||c.isMobile()&&(h(".js-calendar-bg").fadeOut(u.showDelay),d.fadeOut(u.showDelay)),t.skipFade=!1}function k(e,t){var a=h(this),s=h(t.input);if(s.hasClass("js-calendar-div")){var i=s.closest(".js-calendar-cont");c.log("cont",i),s=h(".js-calendar",i),c.log("c",s),s.datepicker("setDate",e),w(h(t.input)),h(".js-calendar",h(this).closest(".js-calendar-cont")).trigger("change-date")}var o=s.attr("id"),n=h(t.input).closest(".js-calendar-cont"),r=n.closest(".js-avail-form");if(h("#d_to",n).length?r.hasClass("js-d-from")||r.addClass("js-d-to"):r.hasClass("js-d-to")||r.addClass("js-d-from"),s.trigger("date-changed"),-1!=o.indexOf("_from")){var l=o.replace("_from","_to");t.skipFade=!0,setTimeout(function(){var e=h("#"+l,a.closest(".js-avail-form")).closest(".js-calendar-cont"),t=h(".js-calendar-show",e).get(0);h(t).trigger("click")},100)}else t.skipFade=!1}function y(e){var t=e.closest(".js-calendar-cont");if(t.length){var a=h(".js-calendar-text",t);if(a.length){var s,i,o=e.val();if(""!==o){var n=f(o);a.html(n),"hotel"==r&&9==l&&e.closest(".js-avail-popup").length&&(s=e,i=function(e){var t=e;14==t.length&&(t=e.substr(0,4)+"-"+e.substr(4,2)+"-"+e.substr(6,2));var a=m(t);month=a.getMonth()+1,day=a.getDate();var s=h.datepicker._defaults.monthNamesShort,i=h.datepicker._defaults.dayNamesShort,o=new Date(year,month-1,1).getDay();return 16==u.lang_id?s[month-1]+" "+day+p.day_add[16]+" ("+i[(o+day-1)%7]+")":i[(o+day-1)%7]+" "+day+" "+s[month-1]}(o),"from"==s.attr("name")?h(".js-fixed-date-from").html(i):h(".js-fixed-date-to").html(i))}}}}function e(){var e=h(this);y(e),function(e){var t=e.closest(".js-avail-form"),a=e.attr("id").replace("_to","_from"),s=a.replace("_from","_to"),i=t.find("#"+a),o=t.find("#"+s);if(a!=s&&i.size()&&o.size()){var n=i.val(),r=o.val(),l=m(n),c=m(r),d=new Date;if(l||(l=d),c||(c=d),c<=l){if((c=l).setDate(c.getDate()+1),o.val(h.datepicker.formatDate("yy-mm-dd",c)).trigger("date-changed"),u.isInline){var p=o.closest(".js-calendar-cont");h(".js-calendar-div",p).detach()}return}}}(e)}function w(e){e&&e.slideUp(300,function(){e.detach()})}function b(){h(".js-avail-form").each(function(){h(this).on("click",".js-calendar-show",function(){var e=h(this).closest(".js-calendar-cont");if(e.length){var t=h(".js-calendar",e);if(u.isInline){var a=h(".js-calendar-div",e);w(h(".js-calendar-div").not(a)),a.length?w(a):h('<div class="js-calendar-div"></div>').css({display:"none"}).data("id",t.attr("id")).appendTo(e).datepicker({}).datepicker("setDate",t.datepicker("getDate")).slideToggle(300)}else t.datepicker("show")}}),h(this).on("change",".js-calendar",function(){h(this).trigger("date-changed")}).on("date-changed",".js-calendar",e)})}function j(){if(void 0!==h&&void 0!==h.datepicker){u.isInline=c.isMobile()&&0==l||"hotel"==r&&(9==l||3==l||2==l||6==l||50==l||30==l||33==l||44==l||c.isMobile()&&5==l)||"destination"==r&&c.isMobile()&&(3==l||60==l||33==l||44==l)||"destination"==r&&(8==l||9==l||10==l),h.extend(h.datepicker,{_checkOffsetOld:h.datepicker._checkOffset,_checkOffset:s,_inlineDatepickerOld:h.datepicker._inlineDatepicker,_inlineDatepicker:i,_findPosOld:h.datepicker._findPos,_findPos:o});var e=c.opts.lang||c.opts.lang_code||"";void 0!==a[e]&&h.datepicker.setDefaults(a[e]),h.datepicker.setDefaults({showOn:"button",buttonImageOnly:!1,numberOfMonths:1,showOtherMonths:!0,showAnim:"fadeIn",speed:"",duration:u.showDelay,dateFormat:"yy-mm-dd",showButtonPanel:!0,beforeShow:n,onClose:v,onSelect:k}),t||(t=!0,b()),d=h("<div class='datepicker-text' style='display: none'></div>"),h("body").append(d),C(),1==h.cookie("show-calendar")||"book"===c.opts.page||"1"===c.opts.av_params.use||c.isMobile()||"hotel"!=c.opts.type||4!=l&&40!=l||35!=c.opts.nid&&39!=c.opts.nid&&37!=c.opts.nid||(h(window).on("scroll",function(){if(1==h.cookie("show-calendar"))return!1;_()}),_()),h(".ui-datepicker-trigger").addClass("js-calendar-show").off("click")}}function _(){var e=h(window).scrollTop(),t=h(window).height(),a=h(".js-calendar").eq(0),s=a.closest(".js-calendar-cont"),i=s.height(),o=s.offset(),n=7==l?300:200;e<=o.top&&i+o.top+n<e+t&&(a.datepicker("show"),h.cookie("show-calendar",1,{path:"/",expires:3}))}function C(){var e=h(".js-calendar").not(".hasDatepicker");e.datepicker({}).addClass("hasDatepicker"),e.each(function(){y(h(this))})}function M(e,t){e<h(window).scrollTop()?t.addClass("is-fixed"):t.removeClass("is-fixed")}c.modules.calendar={init:function(e){h.extend(!0,u,e),j(),"hotel"==r&&9==l&&"book"!==c.opts.page&&h(window).on("scroll",function(){var e=h(".js-fixed-menu").eq(0),t=h(".js-fixed-menu-mob").eq(0),a=h(".js-main-desktop-menu").offset().top,s=h(".js-avail-scroll-point").offset().top+100;c.isMobile()?M(s,t):M(a,e)})},reinit:C,ajaxinit:b}}(jQuery,travel),function(i,e){travel.modules.advcheckbox={init:function(e){i(document).on("change",".js-adv-checkbox input",function(){var s,e,t,a;$cb=i(this),s=$cb,e=s.closest(".js-hotellist-filters"),t=s.attr("name"),a=s.attr("value"),e.find('input[name="'+t+'"][value="'+a+'"]').each(function(e,t){var a=i(t).closest(".js-adv-checkbox");s.is(":checked")?(a.addClass("is-checked"),i(t).attr("checked",!0)):(a.removeClass("is-checked"),i(t).attr("checked",!1))}),$cont=$cb.closest(".js-adv-checkbox"),$cb.is(":checked")?$cont.addClass("is-checked"):$cont.removeClass("is-checked")})}}}(jQuery),function(s,e){travel.modules.cities={init:function(){s("body").on("click",".js-cities-toggle-btn",function(e){var t=s(e.currentTarget),a=t.closest(".js-cities-wrap").find(".js-cities-hidden");0<a.length&&(a.toggleClass("hidden"),t.toggleClass("is-active"))}),s("body").on("click",".js-other-hotels-btn",function(e){s(this).closest(".js-other-hotels-wrap").toggleClass("is-open")}),s(".js-popular-cities").on("click",".js-show",function(e){return s(e.delegateTarget).hide(),s(".js-all-cities").show(),!1}),s(document).delegate(".js-filter-popup","click",function(e){return s(e.target).closest("label").trigger("click"),!1});var e=travel.opts.type,t=Math.floor(travel.opts.theme/100);8!=t&&10!=t||"destination"!=e?s(".js-mobile-bot-menu").on("click",".js-search-form-btn>a",function(e){return"/"!=(s(this).attr("href")||"/")||(s(".search-title, .header-bottom").show(),s(".js-avail-form-mob").toggleClass("hide-mob-form"),7!==t&&55!==t&&(s(".js-mobile-bot-menu, .d-logo").toggleClass("show-mob").toggleClass("hide-mob"),s(".js-mob-filter, .right-col, .page-title").hide()),!1)}):(s(document).on("click",".js-call-avail-popup",function(){s(".js-avail-popup-mercury").fadeIn(),s("body").addClass("is-disable-scroll")}),s(".js-avail-popup-close-btn-mercury").on("click",function(){s(this).closest(".js-avail-popup-mercury").hide(),s("body").removeClass("is-disable-scroll")}),s(document).on("click",".js-avail-popup-mercury",function(e){0<s(e.target).closest(".js-avail-popup-mercury").length&&0==s(e.target).closest(".js-avail-form-mob").length&&(s(this).closest(".js-avail-popup-mercury").hide(),s("body").removeClass("is-disable-scroll"))}),s(".js-filter-btn").on("click",function(){(s(".js-filters-cont").length||s(".js-filters-menu").length)&&(s(".js-filters-menu").slideToggle(),s(".js-filters-cont").slideToggle(),s(".js-right-column").slideToggle())}))}}}(jQuery),function(d,p){var e='.js-avail-form button[type="submit"]';function o(e){var t=p.opts.clicktrip;d.cookie("click-trip",1,d.extend({expires:3},p.opts.sdom?{domain:"."+t.dom}:{})),d.get("/metric.php",{page:"stat",fn:"increment",mn:"clickunder.click-trip_counter",args:{}},function(e,t,a){console.log(e,t,a)});var a;a=e.closest(".js-avail-form");var s=Math.floor(p.opts.theme/100),i=d('input[name="from"]',a).val(),o=d('input[name="to"]',a).val(),n=d('select[name="adults"] option:selected',a).val(),r=d('select[name="children"] option:selected',a).val(),l=d(".js-child-age",a);if(3==s&&(l=d(".js-children-age-select",a)),p.opts.clickunderUrl&&!p.isMobile())return c=p.opts.clickunderUrl,c+=p.opts.lang+"/",c+="?"+d(a).serialize(),c+="&sid="+p.opts.sid,c+="&hid="+p.opts.obj_id,t.subacc&&(c+="&subacc="+t.subacc),c;var c="";return"countryEmptyBcomID"==t.dest_type?c="https://www.booking.com/country/"+t.city_id+".html?lang="+p.opts.lang:(c="https://www.booking.com/searchresults.html?lang="+p.opts.lang,c+="&dest_type="+t.dest_type,c+="&dest_id="+t.city_id),c+="&aid=1549630",t.hotel_id&&(c+="&highlighted_hotels="+t.hotel_id),c+="&checkin="+i,c+="&checkout="+o,c+="&group_adults="+n,c+="&group_children="+r,l.each(function(){c+="&age="+d(this).find("option:selected").val()}),t.subacc&&(c+="&label=",c+=t.subacc,p.isMobile()&&(c+="-mob")),c}p.modules.clickunder={init:function(){if("hotel"==p.opts.type&&p.opts.clicktrip)return 1!=d.cookie("click-trip")&&(p.log("attachTabUnder"),void d(e).on("click",function(){var s=d(this);s.attr("target","_blank");var i=s.closest(".js-avail-form");i.one("submit_prevented",function(){d(this).on("submit",function(e){if(e.isDefaultPrevented()&&0==e.result)return!1;e.preventDefault();var t=location.pathname||"/",a=i.attr("action");t+="?"+i.serialize(),t+="&_"+(new Date).getTime(),t+="&clirder=1",t+=a,-1<navigator.appVersion.indexOf("Edge")||p.isMobile()||/\bTrident\/[567]\b|\bMSIE (?:9|10)\.0\b/.test(navigator.userAgent)?(window.stop&&window.stop()||document.execCommand("Stop"),window.open(t),setTimeout(function(){location.href=o(s)},50)):setTimeout(function(){window.open(t),location.href=o(s)},200)})}).trigger("submit_prevented")}))}}}(jQuery,travel),jQuery,travel.modules.crypto={hexToAscii:function(e){for(var t=e.toString(),a="",s=0;s<t.length;s+=2)a+=String.fromCharCode(parseInt(t.substr(s,2),16));for(var i=a.split("."),o="",n=0;n<i.length;n++)o+=String.fromCharCode(+i[n]);return o},asciiToHex:function(e){for(var t=[],a=0;a<e.length;a++)t.push(e.charCodeAt(a));e=t.join(".");for(var s=[],i=0;i<e.length;i++)s.push(Number(e.charCodeAt(i)).toString(16));return s.join("")}},function(l,e){var c={de:{monthNames:["Januar","Februar","März","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember"],monthNamesShort:["Jan","Feb","Mär","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Dez"],dayNames:["Sonntag","Montag","Dienstag","Mittwoch","Donnerstag","Freitag","Samstag"],dayNamesShort:["So","Mo","Di","Mi","Do","Fr","Sa"]},fr:{monthNames:["janvier","février","mars","avril","mai","juin","juillet","août","septembre","octobre","novembre","décembre"],monthNamesShort:["janv.","févr.","mars","avr.","mai","juin","juil.","août","sept.","oct.","nov.","déc."],dayNames:["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"],dayNamesShort:["dim.","lun.","mar.","mer.","jeu.","ven.","sam."]},es:{monthNames:["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"],monthNamesShort:["ene","feb","mar","abr","may","jun","jul","ago","sep","oct","nov","dic"],dayNames:["domingo","lunes","martes","miércoles","jueves","viernes","sábado"],dayNamesShort:["dom","lun","mar","mié","jue","vie","sáb"]},it:{monthNames:["Gennaio","Febbraio","Marzo","Aprile","Maggio","Giugno","Luglio","Agosto","Settembre","Ottobre","Novembre","Dicembre"],monthNamesShort:["Gen","Feb","Mar","Apr","Mag","Giu","Lug","Ago","Set","Ott","Nov","Dic"],dayNames:["Domenica","Lunedì","Martedì","Mercoledì","Giovedì","Venerdì","Sabato"],dayNamesShort:["Dom","Lun","Mar","Mer","Gio","Ven","Sab"]},nl:{monthNames:["januari","februari","maart","april","mei","juni","juli","augustus","september","oktober","november","december"],monthNamesShort:["jan","feb","mrt","apr","mei","jun","jul","aug","sep","okt","nov","dec"],dayNames:["zondag","maandag","dinsdag","woensdag","donderdag","vrijdag","zaterdag"],dayNamesShort:["zon","maa","din","woe","don","vri","zat"]},pt:{monthNames:["Janeiro","Fevereiro","Março","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],monthNamesShort:["Jan","Fev","Mar","Abr","Mai","Jun","Jul","Ago","Set","Out","Nov","Dez"],dayNames:["Domingo","Segunda-feira","Terça-feira","Quarta-feira","Quinta-feira","Sexta-feira","Sábado"],dayNamesShort:["Dom","Seg","Ter","Qua","Qui","Sex","Sáb"]},sv:{monthNames:["Januari","Februari","Mars","April","Maj","Juni","Juli","Augusti","September","Oktober","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","Maj","Jun","Jul","Aug","Sep","Okt","Nov","Dec"],dayNamesShort:["Sön","Mån","Tis","Ons","Tor","Fre","Lör"],dayNames:["Söndag","Måndag","Tisdag","Onsdag","Torsdag","Fredag","Lördag"]},da:{monthNames:["Januar","Februar","Marts","April","Maj","Juni","Juli","August","September","Oktober","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","Maj","Jun","Jul","Aug","Sep","Okt","Nov","Dec"],dayNames:["Søndag","Mandag","Tirsdag","Onsdag","Torsdag","Fredag","Lørdag"],dayNamesShort:["Søn","Man","Tir","Ons","Tor","Fre","Lør"]},cs:{monthNames:["leden","únor","březen","duben","květen","červen","červenec","srpen","září","říjen","listopad","prosinec"],monthNamesShort:["led","úno","bře","dub","kvě","čer","čvc","srp","zář","říj","lis","pro"],dayNames:["neděle","pondělí","úterý","středa","čtvrtek","pátek","sobota"],dayNamesShort:["ne","po","út","st","čt","pá","so"]},hu:{monthNames:["Január","Február","Március","Április","Május","Június","Július","Augusztus","Szeptember","Október","November","December"],monthNamesShort:["Jan","Feb","Már","Ápr","Máj","Jún","Júl","Aug","Szep","Okt","Nov","Dec"],dayNames:["Vasárnap","Hétfő","Kedd","Szerda","Csütörtök","Péntek","Szombat"],dayNamesShort:["Vas","Hét","Ked","Sze","Csü","Pén","Szo"]},ja:{monthNames:["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"],monthNamesShort:["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"],dayNames:["日曜日","月曜日","火曜日","水曜日","木曜日","金曜日","土曜日"],dayNamesShort:["日","月","火","水","木","金","土"]},zh:{monthNames:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],monthNamesShort:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],dayNames:["星期日","星期一","星期二","星期三","星期四","星期五","星期六"],dayNamesShort:["周日","周一","周二","周三","周四","周五","周六"]},pl:{monthNames:["Styczeń","Luty","Marzec","Kwiecień","Maj","Czerwiec","Lipiec","Sierpień","Wrzesień","Październik","Listopad","Grudzień"],monthNamesShort:["Sty","Lu","Mar","Kw","Maj","Cze","Lip","Sie","Wrz","Pa","Lis","Gru"],dayNames:["Niedziela","Poniedziałek","Wtorek","Środa","Czwartek","Piątek","Sobota"],dayNamesShort:["Nie","Pn","Wt","Śr","Czw","Pt","So"]},el:{monthNames:["Ιανουάριος","Φεβρουάριος","Μάρτιος","Απρίλιος","Μάιος","Ιούνιος","Ιούλιος","Αύγουστος","Σεπτέμβριος","Οκτώβριος","Νοέμβριος","Δεκέμβριος"],monthNamesShort:["Ιαν","Φεβ","Μαρ","Απρ","Μαι","Ιουν","Ιουλ","Αυγ","Σεπ","Οκτ","Νοε","Δεκ"],dayNames:["Κυριακή","Δευτέρα","Τρίτη","Τετάρτη","Πέμπτη","Παρασκευή","Σάββατο"],dayNamesShort:["Κυρ","Δευ","Τρι","Τετ","Πεμ","Παρ","Σαβ"]},ru:{monthNames:["Январь","Февраль","Март","Апрель","Май","Июнь","Июль","Август","Сентябрь","Октябрь","Ноябрь","Декабрь"],monthNamesShort:["Янв","Фев","Мар","Апр","Май","Июн","Июл","Авг","Сен","Окт","Ноя","Дек"],dayNames:["воскресенье","понедельник","вторник","среда","четверг","пятница","суббота"],dayNamesShort:["Вс","Пн","Вт","Ср","Чт","Пт","Сб"]},uk:{monthNames:["Січень","Лютий","Березень","Квітень","Травень","Червень","Липень","Серпень","Вересень","Жовтень","Листопад","Грудень"],monthNamesShort:["Січ","Лют","Бер","Кві","Тра","Чер","Лип","Сер","Вер","Жов","Лис","Гру"],dayNames:["неділя","понеділок","вівторок","середа","четвер","п'ятниця","субота"],dayNamesShort:["Нд","Пн","Вт","Ср","Чт","Пт","Сб"]},tr:{monthNames:["Ocak","Şubat","Mart","Nisan","Mayıs","Haziran","Temmuz","Ağustos","Eylül","Ekim","Kasım","Aralık"],monthNamesShort:["Oca","Şub","Mar","Nis","May","Haz","Tem","Ağu","Eyl","Eki","Kas","Ara"],dayNames:["Pazar","Pazartesi","Salı","Çarşamba","Perşembe","Cuma","Cumartesi"],dayNamesShort:["Pz","Pt","Sa","Ça","Pe","Cu","Ct"]},ar:{monthNames:["يناير","فبراير","مارس","أبريل","مايو","يونيو","يوليو","أغسطس","سبتمبر","أكتوبر","نوفمبر","ديسمبر"],monthNamesShort:["1","2","3","4","5","6","7","8","9","10","11","12"],dayNames:["الأحد","الاثنين","الثلاثاء","الأربعاء","الخميس","الجمعة","السبت"],dayNamesShort:["أحد","اثنين","ثلاثاء","أربعاء","خميس","جمعة","سبت"]},ko:{monthNames:["1월","2월","3월","4월","5월","6월","7월","8월","9월","10월","11월","12월"],monthNamesShort:["1월","2월","3월","4월","5월","6월","7월","8월","9월","10월","11월","12월"],dayNames:["일요일","월요일","화요일","수요일","목요일","금요일","토요일"],dayNamesShort:["일","월","화","수","목","금","토"]},he:{monthNames:["ינואר","פברואר","מרץ","אפריל","מאי","יוני","יולי","אוגוסט","ספטמבר","אוקטובר","נובמבר","דצמבר"],monthNamesShort:["ינו","פבר","מרץ","אפר","מאי","יוני","יולי","אוג","ספט","אוק","נוב","דצמ"],dayNames:["ראשון","שני","שלישי","רביעי","חמישי","שישי","שבת"],dayNamesShort:["א'","ב'","ג'","ד'","ה'","ו'","שבת"]},no:{monthNames:["Januar","Februar","Mars","April","Mai","Juni","Juli","August","September","Oktober","November","Desember"],monthNamesShort:["jan","feb","mar","apr","mai","jun","jul","aug","sep","okt","nov","des"],dayNames:["søn","mån","tir","ons","tor","fre","lau"],dayNamesShort:["søn","mån","tir","ons","tor","fre","lau"]},br:{monthNames:["Janeiro","Fevereiro","Março","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],monthNamesShort:["Jan","Fev","Mar","Abr","Mai","Jun","Jul","Ago","Set","Out","Nov","Dez"],dayNames:["Domingo","Segunda-feira","Terça-feira","Quarta-feira","Quinta-feira","Sexta-feira","Sábado"],dayNamesShort:["Dom","Seg","Terç","Qua","Qui","Sex","Sáb"]},en:{monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sept","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},us:{monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sept","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]}},d=travel.opts.lang?travel.opts.lang:"en";null==c[d]&&(d="en"),Date.prototype.isValid=function(){return this.getTime()==this.getTime()},e.modules.dateFormat={changeFormatDate:function(e){e.each(function(){var e,t,a,s,i,o,n,r;e=this,a=new Date(e.innerHTML),s=a.getFullYear(),i=a.getDate(),o=a.getMonth(),n=c[d].monthNamesShort[o],r=c[d].monthNames[o],a.isValid()&&(l(e).hasClass("js-format-date-monthnameshort-year")||l(e).hasClass("js-format-date-monthnamelong-year"))&&(l(e).hasClass("js-format-date-monthnameshort-year")?t=n:l(e).hasClass("js-format-date-monthnamelong-year")&&(t=r),"ja"===d?l(e).text(s+"年 "+t+" "+i+"日"):"zh"===d?l(e).text(s+"年 "+t+" "+i+"日"):"ko"===d?l(e).text(i+"일 "+t+" "+s+"년"):l(e).text(i+" "+t+" "+s))})},languages:c}}(jQuery,travel),function(s,e){var t=s(".js-delete-cookie");if(e.opts.clicktrip&&e.opts.clicktrip.dom)var a="."+e.opts.clicktrip.dom;if(e.opts.sdom)var i=e.opts.sdom.replace(/^(.*\/\/[^\.]+)/,"");var o=a||i;t.on("click",function(e){for(var t=e.target.dataset.cookie.split(" "),a=0;a<t.length;a++)s.removeCookie(t[a],s.extend(o?{domain:o}:{},{path:"/"}))})}(jQuery,travel),function(d,p){function u(e){var t=location.href;setTimeout(function(){location.href=h(e)},100),window.open(t,"_blank")}function h(e){var t=p.opts.clicktrip||{},a="";return"countryEmptyBcomID"==t.dest_type?a="https://www.booking.com/country/"+t.city_id+".html?lang="+p.opts.lang:(a="https://www.booking.com/searchresults.html?lang="+p.opts.lang,a+="&dest_type="+t.dest_type,t.city_id&&(a+="&dest_id="+t.city_id)),a+="&aid=1474702",t.hotel_id&&(a+="&highlighted_hotels="+t.hotel_id),a+="&label="+(t.subacc||""),"check-hotels"===e?a+=(t.subacc?"-":"")+"check_hotels":"close-no"===e?a+=(t.subacc?"-":"")+"close_no":"close-x"===e?a+=(t.subacc?"-":"")+"close_x":"close-around"===e&&(a+=(t.subacc?"-":"")+"close_around"),0!=p.opts.is_apartment||12!=p.opts.htype_id&&16!=p.opts.htype_id?1==p.opts.is_apartment&&3==p.opts.htype_id||2==p.opts.htype_id?a+="&nflt=at_bun%3D1%3Bht_id=201":10==p.opts.htype_id?a+="&nflt=at_bun%3D30%3Bht_id=216":11==p.opts.htype_id?a+="&nflt=at_bun%3D3%3Bht_id=203":4==p.opts.htype_id?a+="&nflt=at_bun%3D30%3Bht_id=208":24==p.opts.htype_id&&(a+="&nflt=at_bun%3D10%3Bht_id=213"):(a+="&nflt=at_bun%3D2%3Bht_id=204%3bclass%3d"+p.opts.stars+"%3b",a+="&rdf=class-"+p.opts.stars),a}p.modules.exitPopup={init:function(){0<d(".js-exit-popup").length&&"hotel"==p.opts.type&&"main"==p.opts.page&&!p.isMobile()&&setTimeout(function(){!function(){var s=d("body"),i=d(".js-exit-popup"),e=i.find(".js-exit-popup-close-btn"),t=i.find(".js-exit-popup-no-thanks"),a=i.find(".js-exit-popup-content"),o=i.find(".js-exit-popup-checkbox"),n=i.find(".js-exit-popup-clickunder"),r=(p.opts.lang.toUpperCase(),Math.floor(p.opts.theme/100));if(1!=d.cookie("exit-popup")){var l=p.opts.clicktrip||{};s.mouseleave(function(e){var t=d(".js-avail-info-bg"),a=t.length&&!t.hasClass("is-open");e.clientY<20&&a&&(i.show(),s.addClass("body-no-scroll"),s.unbind("mouseleave"),d(".js-exit-popup-text")&&d(".js-exit-popup-text").text(" booking.com"),d.cookie("exit-popup",1,d.extend({path:"/"},p.opts.sdom&&l.dom?{domain:"."+l.dom}:{})),3===r&&_paq.push(["trackEvent","TOP100 ExitPopup","show","WasShown"]))})}function c(){s.removeClass("body-no-scroll"),i.hide()}e.on("click",function(){o.is(":checked")&&u("close-x"),c()}),t.on("click",function(){o.is(":checked")&&u("close-no"),c()}),i.on("click",function(e){0<d(e.target).closest(i).length&&0==d(e.target).closest(a).length&&(o.is(":checked")&&u("close-around"),c())}),n.on("click",function(){c(),window.open(h("check-hotels"),"_blank")})}()},5e3)}}}(jQuery,travel),function(d,p){function u(e,t){var a=d(".js-thanks-modal"),s=a.find(".js-thanks-modal-title"),i=a.find(".js-thanks-modal-close");t||(t=3e3),s.hide(),s.filter('[data-title="'+e+'"]').show(),d("body").hasClass("body-no-scroll")||d("body").addClass("body-no-scroll"),a.fadeIn(),"no-hide"!==t&&setTimeout(function(){a.hide(),d("body").removeClass("body-no-scroll")},t),i.on("click",function(){a.hide(),d("body").removeClass("body-no-scroll")}),d(document).on("click",function(e){if(d("body").hasClass("body-no-scroll")){var t=d(".js-thanks-modal-content");e.target==t[0]||t.has(e.target).length||(a.hide(),d("body").removeClass("body-no-scroll"))}})}function s(){var s=Math.floor(p.opts.theme/100),e=d(".js-show-feedback-modal"),t=d(".js-feedback-close"),a=d(".js-feedback-modal"),i=d(".js-feedback-inner"),o=d(".js-feedback-form"),n=o.find(".js-feedback-textarea"),r=o.find('input[name="t_user_mess"]');function l(){var e,t,a;c(),3!=s&&60!=s||u("feedback"),9==s&&(e=d(".js-feedback-widget"),t=e.find(".js-feedback-inner"),a=e.find(".js-feedback-thanks"),t.hide(),a.show())}function c(){a.hide(),d("body").removeClass("body-no-scroll"),n.val("")}e.on("click",function(){a.fadeIn(),d("body").hasClass("body-no-scroll")||d("body").addClass("body-no-scroll")}),o.on("submit",function(e){e.preventDefault();var t=n.val(),a=r.val();if(!(t.length<1||0<a.length)){var s={f_message:t},i=p.opts.k,o=p.opts.v;s[i]=o,d.ajax({url:"/missing-info",data:s,type:"POST",dataType:"json"}).success(function(e){l()}).error(function(){l()})}}),t.on("click",function(){c()}),a.on("click",function(e){0<d(e.target).closest(a).length&&0==d(e.target).closest(i).length&&c()})}p.modules.footerModals={init:function(){var e,t,a=Math.floor(p.opts.theme/100);3!=a&&60!=a&&5!=a&&7!=a&&9!=a||(function(){var e=d(".js-footer-subscribe"),o=e.find("#email");function n(){u("subscribe"),o.val("")}e.on("submit",function(e){e.preventDefault();var t=o.val();if(!(t.length<5||150<t.length)){var a={email:t},s=p.opts.k,i=p.opts.v;a[s]=i,d.ajax({url:"/subscribe",data:a,type:"POST",dataType:"json"}).success(function(e){n()}).error(function(){n()})}})}(),s()),9==a&&(d(".js-scroll-top-btn").on("click",function(){d("html, body").animate({scrollTop:0},1e3)}),e=d(".js-feedback-widget-show"),t=d(".js-feedback-thanks-close"),e.on("click",function(){var e=d(this).closest(".js-feedback-widget"),t=e.find(".js-feedback-textarea");e.toggleClass("is-open"),t.val("")}),t.on("click",function(){var e=d(this).closest(".js-feedback-widget"),t=e.find(".js-feedback-inner"),a=e.find(".js-feedback-thanks");e.toggleClass("is-open"),t.show(),a.hide()}))}}}(jQuery,travel),function(r,l){var c=null,d=null;travel.opts.lang_id;function n(e,t){if(t)for(var a=e,s=e,i=0;i<t;++i)n(a=r(a).prev()),n(s=r(s).next());if(e.is("img")||(e=e.find("img")),e.is("img")){var o=e.data("original");o&&""!=o&&e.attr("src",o).data("original",null),e.parent().removeClass("gallery__loading")}}function p(e){if(r(e.items.old).each(function(){n(r(this))}),e.items&&e.items.visible){var t=e.items.visible;t.size()&&(r(t).each(function(){n(r(this))}),n(r(t.get(0)),2),n(r(t.get(t.length-1)),2))}else r(e.items).each(function(){n(r(this))})}function u(e,t){var a=e.triggerHandler("currentVisible").data("id")+1;0!=a&&a%(1==d?5:6)==0&&t.trigger("nextPage"),r(".active",t).removeClass("active"),r(".thumb[data-id="+a+"]",t).addClass("active")}function h(e){var o=r(".js-gallery-thumbs"),t=r(".js-main-gallery-container");t.carouFredSel({circular:!1,items:1,infinite:!1,auto:{play:!0,timeoutDuration:5e3,onBefore:function(e){p(e),u(t,o)}},direction:"left",height:325,scroll:{items:1,fx:"crossfade",duration:600,easing:"swing",pauseOnHover:!1,onBefore:p},prev:".js-prev",next:".js-next",mousewheel:!0,swipe:e,onCreate:p}),r(".photo-deck").on("click",".js-next, .js-prev",function(){var e=t.triggerHandler("currentVisible").data("id")+1;r(this).hasClass("js-next")&&e%5==1?o.trigger("nextPage"):e%5!=0||r(this).hasClass("js-next")||o.trigger("prevPage"),r(".active",o).removeClass("active"),r(".thumb[data-id="+(e-1)+"]",o).addClass("active")}),r(".thumb:first-child",o).addClass("active");o.carouFredSel({circular:!1,items:5,infinite:!1,auto:{play:!1},direction:"top",height:300,prev:".js-pager-prev",next:".js-pager-next",scroll:{items:5,duration:300,pauseOnHover:!1,onBefore:p},pagination:".js-pager-thumbs",onCreate:p}),o.bind("updatePageStatus.cfs",function(){var e=r(".js-pager-thumbs").children();e.removeClass("hidden").removeClass("ellipsis");var t=r(this).children().length,a=r(this).triggerHandler("currentPosition");if(a/5==0?r(".js-pager-prev").hide():r(".js-pager-prev").show(),a/5==e.length-1?r(".js-pager-next").hide():r(".js-pager-next").show(),a/5<=2){var s=a/5+2+2,i=e.length-1;e.eq(a/5+2+1).addClass("ellipsis"),k(e,s,i)}if(2<a/5){var s=2+a/5,i=t-2+1;e.removeClass("ellipsis"),e.eq(a/5-2).addClass("ellipsis"),k(e,s,i)}!(a/5)<2&&3<=a/5&&(k(e,s=1,i=a/5-2),(i=e.length)-2<=a/5||e.eq(i-2).addClass("ellipsis").removeClass("hidden"),e.eq(i-1).removeClass("hidden"));r(".thumb",o).removeClass("active"),r(".thumb[data-id="+a+"]",o).addClass("active").click()}).trigger("updatePageStatus.cfs"),o.on("click","a",function(){r(".thumb",o).removeClass("active"),r(this).addClass("active");var e=r(this).data("id");return t.trigger("slideTo",e),!1}),v()}function m(){var e=r(".js-photos-gallery");e.wrap('<div class="js-gallery-container"></div>');var t=r(".js-gallery-container"),a=r(".js-btn-all-photo");if(t.append('<div class="nav-controls"><a class="nav-controls__prev js-prev" title="Previous"></a><a class="nav-controls__next js-next" title="Next" ></a></div>').append(a),r(".js-photos img",e).each(function(){r(this).unwrap(".photo-hover"),0!=d&&3!=d&&60!=d&&4!=d&&40!=d&&33!=d&&44!=d||r(this).closest(".js-photos-gallery").find(".photo-hover").remove(),r(this).attr("data-original",r(this).attr("data-original").replace("Large4","Large5").replace("Medium3","Large5")),r(this).attr("height","")}),o(e),l.isMobile()&&(0==d||3==d||60==d||4==d||40==d||5==d||6==d||50==d||30==d||33==d||44==d)){r("body");var s=r("img",e);r(".__hover",t).remove(),3!==d&&60!==d&&t.append('<div class="slider-counter"><span class="js-current-position">'+(e.triggerHandler("currentPosition")+1)+"</span> - <span>"+s.length+'</span></div><a class="main-slider-icn"><i class="icn-sprite icn-new-zoom js-show-big-gallery"></i></a>'),r(".js-show-big-gallery").on("click",function(){w(s)});var i=r(".js-current-position");r(".js-prev, .js-next").on("click",function(){i.text(e.triggerHandler("currentPosition")+1)}),e.swipe({excludedElements:"button, input, select, textarea, .noSwipe",swipeLeft:function(){i.text(e.triggerHandler("currentPosition")+1)},swipeRight:function(){i.text(e.triggerHandler("currentPosition")+1)}}),4!=d&&5!=d&&3!=d&&60!=d&&6!=d&&7!=d&&40!=d&&50!=d&&30!=d&&33!=d&&44!=d||t.addClass("iphn-fix")}a.on("click",function(){setTimeout(function(){window.location="#photo"},500)})}function t(){var e=r(".js-room-photos");r(".js-photo img",e).each(function(){r(this).attr("src",r(this).attr("src").replace("Medium2","Large5")),r(this).attr("height",""),r(this).attr("width","100%")}),e.each(function(){r(this).addClass("is-moz-fix-wrap"),r(this).find(".js-photo").addClass("is-moz-fix-img"),r(this).closest(".js-gallery-container").append('<div class="nav-controls"><a class="js-prev" title="Previous"></a><a class="js-next" title="Next" ></a></div>'),r(this).carouFredSel({circular:!0,responsive:!0,width:"100%",height:"60%",items:{visible:1,height:"variable"},infinite:!1,auto:{play:!1},direction:"left",scroll:{items:1,duration:300,pauseOnHover:!1,onBefore:p},prev:{button:function(){return r(this).closest(".js-gallery-container").find(".js-prev")}},next:{button:function(){return r(this).closest(".js-gallery-container").find(".js-next")}},mousewheel:!0,swipe:{onMouse:!0,onTouch:!0},onCreate:p})})}function f(e){var t=e.attr("data-width"),a=e.attr("data-height");return{common:2<=window.devicePixelRatio?2*t+"x"+2*a:t+"x"+a,small:e.attr("data-image-size")}}function g(e,t){var a=("/_.gif"===e.attr("src")?e.attr("data-original"):e.attr("src")).replace(t.small,t.common);e.attr("data-original",a),"/_.gif"!==e.attr("src")&&e.attr("src",a)}function v(){r(".results").on("click",".js-room-photos .js-photo",function(){var e=r(this);e.closest(".js-room-photos").find(".js-main-photo").attr("src",r("img",e).attr("src").replace("Thumb3","LargePhoto"))})}function k(e,t,a){for(var s=t;s<a;s++)e.eq(s).addClass("hidden")}function y(e){e||(e=r(".js-carousel")),e.each(function(){!function(e){if(e.attr("data-modified"))return;var t=e.find(".js-photo"),a=f(e);t.each(function(){g(r(this),a)}),e.attr("data-modified",1)}(r(this)),3!==d&&60!==d&&9!==d||"map"!==travel.opts.page||r(this).find(".js-prev").addClass("disabled"),r(this).one("click",".js-prev, .js-next",function(e){var t=r(e.delegateTarget),a=t.data("width"),s=l.isMobile()?"60%":t.data("height");r(".js-carousel-photos",t).carouFredSel({circular:!1,responsive:!0,width:a,height:s,items:{visible:1,height:"variable"},infinite:!1,auto:{play:!1},direction:"left",scroll:{items:1,duration:300,pauseOnHover:!1,onBefore:p},prev:{button:function(){return t.find(".js-prev")}},next:{button:function(){return t.find(".js-next")}},mousewheel:!1,swipe:{onMouse:!0,onTouch:!0},onCreate:p}),r(this).trigger("click")})})}function o(e){e.carouFredSel({circular:!0,responsive:!0,width:"100%",height:"60%",items:{visible:1,height:"variable"},infinite:!1,auto:{play:(6==d||50==d||30==d)&&!l.isMobile(),timeoutDuration:6e3,onBefore:p},direction:"left",scroll:{items:1,duration:300,pauseOnHover:!1,onBefore:p},prev:{button:function(){return r(this).closest(".js-gallery-container").find(".js-prev")}},next:{button:function(){return r(this).closest(".js-gallery-container").find(".js-next")}},mousewheel:!0,swipe:{onMouse:!0,onTouch:!0},onCreate:p}),!l.isMobile()||0!=d&&3!=d&&60!=d&&4!=d&&5!=d&&40!=d&&33!=d&&44!=d||r(window).on("orientationchange",function(){setTimeout(function(){e.trigger("updateSizes")},300)})}function w(e){var t,a=r("body");a.append("<div class='js-slider-shadow slider-shadow'><i class='icn-sprite icn-close-icon-m js-close-slider'></i><div class='js-gallery-container big-mob-slider-wrap'><div class='js-photo-append js-photos-gallery-big'></div><div class=\"nav-controls\">"+'<a class="js-prev" title="Previous"></a><a class="js-next" title="Next" ></a></div></div></div>'),t=r(".js-photo-append"),e.each(function(){t.append(r(this).clone())}),o(r(".js-photos-gallery-big")),a.addClass("slider-scroll-off"),r(".js-close-slider").on("click",function(){a.removeClass("slider-scroll-off"),r(".js-slider-shadow").remove()})}l.modules.gallery={init:function(){var e,t,a,s,i,o,n;c=travel.opts.theme,1==(d=Math.floor(c/100))?l.isMobile()?h({onMouse:!0,onTouch:!0}):h():2==d||0==d||3==d||60==d||4==d||8==d||10==d||9==d||5==d||40==d||33==d||44==d?(2!=d&&8!=d&&10!=d&&9!=d||l.isMobile()||(a=r(".js-gallery-thumbs"),s=r(".js-photos-gallery"),r("img",s).length,s.carouFredSel({circular:!1,items:1,infinite:!1,auto:{play:!0,timeoutDuration:4e3,onBefore:function(e){p(e),u(s,a)}},direction:"left",height:390,scroll:{items:1,fx:"cover-fade",duration:600,pauseOnHover:!1,onBefore:p},prev:".js-prev-slide",next:".js-next-slide",mousewheel:!0,swipe:t,onCreate:p}),r(".main-gallery-wrap").on("click",".js-next-slide, .js-prev-slide",function(){var e=s.triggerHandler("currentVisible").data("id")+1;r(this).hasClass("js-next-slide")&&e%6==1?a.trigger("nextPage"):e%6!=0||r(this).hasClass("js-next-slide")||a.trigger("prevPage"),r(".active",a).removeClass("active"),r(".thumb[data-id="+(e-1)+"]",a).addClass("active")}),r(".thumb:first-child",a).addClass("active"),a.carouFredSel({circular:!1,items:6,infinite:!1,auto:{play:!1},direction:"left",height:50,width:638,prev:".js-pager-prev",next:".js-pager-next",scroll:{items:6,duration:300,pauseOnHover:!1,onBefore:p},onCreate:p}),a.on("click","a, span",function(){r(".thumb",a).removeClass("active"),r(this).addClass("active");var e=r(this).data("id");return s.trigger("slideTo",e),!1}),v()),l.isMobile()&&m(),3==d&&"hotel"===l.opts.type&&r('[data-fancybox="gallery-big-photo"], [data-fancybox="sunset-main-gallery"], [data-fancybox="sunset-mobile-gallery"], [data-fancybox="sunset-gallery-all-photo"], [data-fancybox="sunset-gallery-all-photo-btn"]').fancybox({infobar:!0,loop:!0,buttons:["close"],btnTpl:{arrowLeft:'<button data-fancybox-prev class="fancybox-button fancybox-button--arrow_left"></button>',arrowRight:'<button data-fancybox-next class="fancybox-button fancybox-button--arrow_right"></button>'}}),r(".js-sunset-main-gallery").each(function(){var e=4;r(window).width()<=1024&&(e=3),r(window).width()<=850&&(e=2),r(window).width()<=480&&(e=1),r(this).closest(".js-sunset-main-gallery-wrapper").append('<div class="nav-controls main-hotels__carouse-control"><a class="main-hotels__carousel-toggle js-prev" title="Previous"><svg class="main-hotels__carousel-toggle-icon icon icon-carousel-arrow"><use xlink:href="/build/sprites/img/sprite.svg#icon-carousel-arrow"></use></svg></a><a class="main-hotels__carousel-toggle main-hotels__carousel-toggle--next js-next" title="Next" ><svg class="main-hotels__carousel-toggle-icon icon icon-carousel-arrow-r"><use xlink:href="/build/sprites/img/sprite.svg#icon-carousel-arrow-r"></use></svg></a></div>'),r(this).carouFredSel({circular:!0,responsive:!0,width:"100%",items:{visible:e,height:"variable"},infinite:!1,auto:{play:!1},direction:"left",scroll:{items:e,duration:300,pauseOnHover:!1,onBefore:p},prev:{button:function(){return r(this).closest(".js-sunset-main-gallery-wrapper").find(".js-prev")}},next:{button:function(){return r(this).closest(".js-sunset-main-gallery-wrapper").find(".js-next")}},onCreate:p})}),3!=d&&60!=d||"destination"!==l.opts.type||!l.isMobile()||r(".js-sunset-best-hotel").each(function(){var e=4;l.isMobile()&&(e=3),r(window).width()<=480&&(e=2),r(this).carouFredSel({circular:!0,responsive:!0,width:"100%",items:{visible:e},infinite:!0,auto:{play:!1},direction:"left",scroll:{items:1,duration:300,pauseOnHover:!1,onBefore:p},swipe:{onTouch:!0},onCreate:p}),r(this).swipe({click:function(e,t){r(t).click()}})}),r(".js-sunset-landmark-carousel").each(function(){r(this).closest(".js-sunset-landmark-carousel-wrapper").append('<div class="nav-controls landmark__carousel-control"><a class="landmark__carousel-toggle js-prev" title="Previous"><svg class="icon icon-carousel-arrow landmark__carousel-toggle-icon"><use xlink:href="/build/sprites/img/sprite.svg#icon-carousel-arrow"></use></svg></a><a class="landmark__carousel-toggle landmark__carousel-toggle--next js-next" title="Next" ><svg class="icon icon-carousel-arrow-r landmark__carousel-toggle-icon"><use xlink:href="/build/sprites/img/sprite.svg#icon-carousel-arrow-r"></use></svg></a></div><div class="landmark__carousel-dots js-dots"></div>');var e=3;r(window).width()<=850&&(e=2),r(window).width()<=480&&(e=1),r(this).carouFredSel({circular:!0,responsive:!0,pagination:".js-dots",items:{visible:e,height:"variable"},infinite:!1,auto:{play:!1},direction:"left",scroll:{items:e,duration:300,pauseOnHover:!1,onBefore:p},prev:{button:function(){return r(this).closest(".js-sunset-landmark-carousel-wrapper").find(".js-prev")}},next:{button:function(){return r(this).closest(".js-sunset-landmark-carousel-wrapper").find(".js-next")}},onCreate:p})}),e=4,r(window).width()<=1024&&(e=3),l.isMobile()&&(e=2),r(window).width()<=414&&(e=1),r(".js-sunset-seo-footer-carousel").each(function(){r(this).carouFredSel({circular:!0,responsive:!0,pagination:".js-dots",width:"100%",padding:[0,15],items:{visible:e,height:"variable"},infinite:!1,auto:{play:!1},direction:"left",scroll:{items:"page",duration:300,pauseOnHover:!1,onBefore:p},prev:{button:function(){return r(this).closest(".js-sunset-seo-footer-carousel-wrapper").find(".js-prev")}},next:{button:function(){return r(this).closest(".js-sunset-seo-footer-carousel-wrapper").find(".js-next")}},onCreate:p})}),r(".js-supertop-seo-footer-carousel").each(function(){r(this).carouFredSel({circular:!0,responsive:!0,pagination:".js-dots",width:"100%",padding:[0,15],items:{visible:e,height:"variable"},infinite:!1,auto:{play:!1},direction:"left",scroll:{items:"page",duration:300,pauseOnHover:!1,onBefore:p},prev:{button:function(){return r(this).closest(".js-supertop-seo-footer-carousel-wrapper").find(".js-prev")}},next:{button:function(){return r(this).closest(".js-supertop-seo-footer-carousel-wrapper").find(".js-next")}},onCreate:p})})):6==d||50==d||30==d?m():7!=d&&20!=d||!l.isMobile()||m(),33===d&&"destination"===l.opts.type&&r(".js-special-hotel-block").each(function(){r(this).closest(".js-hotels-carousel").append('<div class="nav-controls"><a class="js-prev hotels-wrapper__control hotels-wrapper__control--prev" title="Previous"><span class="hotels-wrapper__control-border"></span></a><a class="js-next hotels-wrapper__control hotels-wrapper__control--next" title="Next"><span class="hotels-wrapper__control-border"></span></a></div>'),r(this).carouFredSel({items:3,circular:!0,infinite:!1,auto:{play:!1},direction:"left",scroll:{items:1,duration:300,pauseOnHover:!1,onBefore:p},prev:{button:function(){return r(this).closest(".js-hotels-carousel").find(".js-prev")}},next:{button:function(){return r(this).closest(".js-hotels-carousel").find(".js-next")}},mousewheel:!1,swipe:{onTouch:!0},onCreate:p})}),9===d&&"hotel"===l.opts.type&&(o=f(r(".js-photos-gallery")),travel.isMobile()&&(o.common=2<=window.devicePixelRatio?"700x500":"350x250"),r(".js-gallery-item").each(function(e){g(r(this),o)}),i=f(r(".js-gallery")),travel.isMobile()&&(i.common=2<=window.devicePixelRatio?"540x340":"270x170"),r(".js-gallery-tab-item").each(function(){g(r(this),i)})),lightbox.option({disableScrolling:!0,fadeDuration:0,resizeDuration:0}),n=!1,r(document).on("page-photo-active",function(){if(!n){n=!0;var e=r(".js-gallery");r("img",e).each(function(){var e=r(this).data("large");e&&""!=e||(e=r(this).data("original")),e&&""!=e||(e=r(this).attr("src"));var t='<span class="js-tiles-wrp js-lightbox js-trackevent-gallery-page-photo" data-href="'+(e=(e=(e=(e=(e=(e=e.replace("/Large/","/OriginalPhoto/")).replace("/Large5/","/OriginalPhoto/")).replace("/Medium/","/OriginalPhoto/")).replace("/Medium2/","/OriginalPhoto/")).replace("/370x200/","/OriginalPhoto/")).replace("/740x400/","/OriginalPhoto/"))+'" data-lightbox="gallery"></span>';r(this).wrap(t),9==d?r(this).closest(".js-tiles-wrp").append("<span class='__hover'><svg class='icon icon-zoom'><use xlink:href='/build/sprites/img/sprite.svg#icon-zoom'></use></svg></span>"):r(this).closest(".js-tiles-wrp").append("<span class='__hover'><i class='icn-sprite icn-view-photo'></i></span>")}),l.modules.lazy.load(e)}}),y()},initCarousels:y,initRoomsGalleries:function(){var e;2==d||9==d?(9==d&&(l.modules.lazy.load(r(".js-rates-photo")),e=f(r(".js-rates-photo")),r(".js-rate-photo").each(function(){g(r(this),e)})),l.isMobile()&&t()):(1!=d&&33!=d||44==d)&&t(),l.isMobile()||0!=d&&33!=d&&44!=d||t(),!l.isMobile()||0!=d&&3!=d&&60!=d&&4!=d&&40!=d&&33!=d&&44!=d||r("body").on("click",".js-mob-room-slide, .js-mob-room-slide-2",function(){var e=r(this).closest(".js-room").find(".js-room-photos");w(r("img",e))}),3!=d&&60!=d||r("[data-fancybox-carusel]").fancybox({infobar:!0,infinite:!0,loop:!0,buttons:["zoom","thumbs","close"]}),5==d&&r(".js-rooms-cont-mobile").find("[data-fancybox]").each(function(e,t){var a=r(t).attr("data-fancybox");r(t).attr("data-fancybox",a+"-mob")})},initSunsetHotelListGallery:function(){r("[data-fancybox-carusel]").fancybox({infobar:!1,infinite:!0,loop:!0,buttons:["close"]})}}}(jQuery,travel),jQuery,travel.modules.highlightsLandmarksTypeIcons={mapTypeWithIcon:function(e){var t="highlights-landmarks-pin";return 4===e||7===e||58===e||70===e||96===e||98===e||136===e||195===e||196===e?t="hl-landmark-type-museum":104===e?t="hl-landmark-type-airport":240===e||257===e||272===e?t="hl-landmark-type-barrel":45===e?t="hl-landmark-type-aquapark":126===e?t="hl-landmark-type-beach":204===e?t="hl-landmark-type-bobsleigh":83===e||128===e?t="hl-landmark-type-bridge":129===e||9===e||201===e||95===e||267===e||161===e?t="hl-landmark-type-building":199===e||149===e||271===e?t="hl-landmark-type-bus":268===e?t="hl-landmark-type-camping":233===e||237===e?t="hl-landmark-type-canyon":170===e||147===e?t="hl-landmark-type-cars":8===e?t="hl-landmark-type-casino":238===e||152===e?t="hl-landmark-type-cave":131===e?t="hl-landmark-type-cemetery":223===e?t="hl-landmark-type-cinema":206===e||207===e||259===e||202===e||187===e||234===e||230===e?t="hl-landmark-type-circuit-track":222===e?t="hl-landmark-type-circus":214===e||217===e?t="hl-landmark-type-cliff":57===e?t="hl-landmark-type-concert-venue-stadium":140===e||200===e?t="hl-landmark-type-golf-club":166===e||112===e?t="hl-landmark-type-greenhouse":231===e||185===e?t="hl-landmark-type-gym":154===e||258===e?t="hl-landmark-type-hills-mountains":168===e?t="hl-landmark-type-horse":68===e?t="hl-landmark-type-hospital":142===e?t="hl-landmark-type-island":146===e?t="hl-landmark-type-kayak":265===e?t="hl-landmark-type-kindergarten":157===e||244===e||210===e||216===e||143===e||159===e||215===e||255===e||171===e||137===e?t="hl-landmark-type-lakes-seas":167===e||158===e||40===e||192===e?t="hl-landmark-type-marina":119===e?t="hl-landmark-type-military-base":102===e?t="hl-landmark-type-mosque":256===e||111===e||116===e||135===e||114===e||156===e||219===e||5===e||115===e||198===e?t="hl-landmark-type-nature-parks-trails":105===e?t="hl-landmark-type-night-club":108===e||18===e||225===e||44===e?t="hl-landmark-type-observation-wheel":208===e||165===e?t="hl-landmark-type-parking":153===e||209===e?t="hl-landmark-type-peak":239===e?t="hl-landmark-type-planetarium":162===e?t="hl-landmark-type-square":100===e||263===e||269===e||236===e||274===e||101===e?t="hl-landmark-type-pray":278===e?t="hl-landmark-type-transports":109===e||212===e?t="hl-landmark-type-reef":232===e?t="hl-landmark-type-rink":97===e?t="hl-landmark-type-school":173===e||177===e||174===e||176===e?t="hl-landmark-type-shopping":226===e||81===e||118===e||266===e||254===e||277===e||220===e||87===e||253===e||260===e||213===e||227===e||246===e||243===e||224===e||228===e||275===e||30===e||270===e||245===e||273===e||261===e||241===e||164===e||242===e||262===e||229===e||190===e||218===e||221===e||276===e||264===e?t="hl-landmark-type-sights-landmarks":178===e||180===e||169===e||179===e||203===e?t="hl-landmark-type-ski":181===e?t="hl-landmark-type-spa":124===e||48===e||123===e||46===e||52===e||141===e||134===e||3===e?t="hl-landmark-type-stadium":235===e?t="hl-landmark-type-synagogue":188===e||72===e?t="hl-landmark-type-theater":251===e||250===e||249===e||248===e||247===e||252===e||211===e||205===e||145===e?t="hl-landmark-type-trails":279!==e&&35!==e&&33!==e||(t="hl-landmark-type-train-station-train"),t}},function(p,u){var h=u.opts||{};if(h.isBot)return;var m=Math.floor(u.opts.theme/100);function e(){var i=h.endpointHotelAttractions,o=null;if(!(i&&h.endpointHotelAttractions.ids&&h.endpointHotelAttractions.ids.length))return d(),!1;o=h.endpointHotelAttractions.ids;var n=null,s="",r=1,t=p(".js-highlights-landmarks-list"),a=p(".js-highlights-landmarks");function l(e,s){return e.filter(function(e){var t=e.properties;t.distance=i.data[e.id].distance,t.nameData=t.Name?t.Name:t.NameEng;var a=function(e,t){var a={valid:!0,url:"",tooltip:"",noTooltipClass:""},s='<svg class="highlights-landmarks__info-icon icon icon-'+t+'-info-hl"><use xlink:href="/build/sprites/img/sprite.svg#icon-'+t+'-info-hl"></use></svg>',i=function(e){var t="";if(e){var a=e.split("|"),s="";a.length&&(3<a.length&&a.splice(3),a.forEach(function(e){s+='<div class="hl-tooltip__tag">'+e+"</div>"}),t='<div class="hl-tooltip__tag-list">'+s+"</div>")}return t}(e.TagNames);e.PhotoUrl&&"NULL"!==e.PhotoUrl?0<e.PhotoUrl.toLocaleLowerCase().indexOf("ta_brand_logo")||-1!==e.PhotoUrl.toLocaleLowerCase().indexOf("ta_brand_logo")?(a.noTooltipClass="is-no-tooltip",a.valid=!1):(a.url=decodeURIComponent(JSON.parse('"'+e.PhotoUrl+'"')),a.tooltip='<span class="highlights-landmarks__info">&nbsp;'+s+'<div class="hl-tooltip"><div class="hl-tooltip__img" style="background-image: url('+a.url+')"></div>'+i+'<div class="hl-tooltip__triangle"></div></div></span>'):(a.noTooltipClass="is-no-tooltip",a.valid=!1);return a}(t,s);return t.noTooltipClass=a.noTooltipClass,t.tooltip=a.tooltip,t.icon=function(e,t){var a=u.modules.highlightsLandmarksTypeIcons.mapTypeWithIcon(),s='<svg class="highlights-landmarks__icon icon icon-'+t+"-"+a+'"><use xlink:href="/build/sprites/img/sprite.svg#icon-'+t+"-"+a+'"></use></svg>',i=[],o=e.Types;o&&(i=o.split("|"));if(i.length){var n=parseInt(i[0]);a=u.modules.highlightsLandmarksTypeIcons.mapTypeWithIcon(n),s='<svg class="highlights-landmarks__icon icon-'+t+"-"+a+'"><use xlink:href="/build/sprites/img/sprite.svg#icon-'+t+"-"+a+'"></use></svg>'}return s}(t,s),t}).map(function(e){return e.properties})}function c(e){if(!e.length)return!1;e.forEach(function(e,t){var a='<li class="highlights-landmarks__item '+e.noTooltipClass+'"><span class="highlights-landmarks__key">'+e.icon+e.nameData+'</span><span class="highlights-landmarks__value">&nbsp;&mdash;&nbsp;'+e.distance+"</span>"+e.tooltip+"</li>";t<5&&(s+=a)}),t.html(s),a.slideDown()}function d(){var e=p(".js-highlights-reviews"),t=p(".js-highlights-container"),a=p(".js-highlights-landmarks-map");e.length||(5===m?(a.addClass("is-full-width"),u.modules.mapbox.initSmallClusterMap(!0)):t.fadeOut())}!function t(){var e=o.join(",");var a={page:"landmarkinfo",ids:e,lang_id:h.lang_id};var s=u.modules.attractionsUtils.generateKey();s&&(a[s]=travel.opts.nid);p.ajax({method:"get",url:"/geo-data/landmarks/",data:a,success:function(e){if(!(n=e.features))return d(),!1;switch(m){case 5:c(l(n,"uk")),u.modules.mapbox.initSmallClusterMap(!0);break;case 9:c(l(n,"sv")),u.modules.mapbox.initSmallVillageMapSmall(!0)}},error:function(e){if(travel.log(e),!(r<=3))return d(),!1;setTimeout(function(){r++,t()},1e3*r)}})}()}u.modules.highlightsLandmarks={init:function(){"hotel"!==h.type||5!==m&&9!==m||"book"===h.page||e()}}}(jQuery,travel),function(o,n){n.modules.highlights={init:function(){var e=n.opts.type,t=Math.floor(n.opts.theme/100);if("hotel"==e&&(5==t||9==t)){var a=n.isMobile()?-40:-90,s=o(".js-keyfacilities-scroll-btn"),i=o(".js-keyfacilities-scroll-point");s.on("click",function(){o.scrollTo(i,500,{offset:{top:a}})})}}}}(jQuery,travel),function(n,c){var l,d={activatedHotel:[],activatedHotelMobile:[],deactivatedHotel:[]};function r(){document.getElementById("js-hotel-list").innerHTML=""}function p(e,t){t=t||{};var a=document.getElementById("hotel-card-template"),s=document.createElement("div");s.innerHTML=a.innerHTML.trim(),s.querySelector(".card-hotel").dataset.id="hotel-"+e.ID,s.querySelector(".card-hotel").setAttribute("data-multihotelavail-hotel-id",e.ID),t.className&&s.querySelector(".card-hotel").classList.add(t.className);var i=s.querySelector(".js-carousel-photos");e.Photos.forEach(function(e){var t=document.createElement("img");t.setAttribute("class","item__image js-photo"),t.setAttribute("src","/_.gif"),9==Math.floor(c.opts.theme/100)?t.setAttribute("data-original","/data/Photos/30x20/"+e):t.setAttribute("data-original","/data/Photos/390x390/"+e),i.insertBefore(t,i.firstChild)});var o=i.querySelectorAll("img")[0];o.style.display="block",o.setAttribute("src",o.getAttribute("data-original")),0!==e.AvgMark&&e.AvgMark<=10&&(s.querySelector(".js-hotel-reviews").classList.add("map-hotel-reviews--active"),s.querySelector(".js-hotel-reviews-number").innerText=e.AvgMark,s.querySelector(".js-hotel-reviews-text").innerText=e.AvgMarkName,s.querySelector(".js-hotel-reviews-count").innerText=e.ReviewCountText),s.querySelector(".map-hotel__title-text").innerText=e.Name;var n=s.querySelector(".map-hotel__link");n.setAttribute("href",e.HotelURL+n.getAttribute("href"));var r=s.querySelector(".map-hotel__stars");if(1<parseInt(e.Stars))for(var l=0;l<parseInt(e.Stars)-1;l++)r.appendChild(r.querySelector("svg").cloneNode(!0));else r.classList.add("map-hotel__stars--no-stars");return s.querySelector(".map-hotel__price .map-hotel__price-value").innerText=e.Price,s.firstChild}function u(i){return function(e){var t=e.target.closest(".card-hotel");if(t){var a=t.dataset.id.split("-")[1],s={placeID:parseInt(a),hotelCard:t};i(s)}}}c.modules.hotelListMapGenerator={init:function(){var e,t,a,s,i,o,n,r;"map"!==c.opts.page||3!==Math.floor(c.opts.theme/100)&&60!==Math.floor(c.opts.theme/100)&&5!==Math.floor(c.opts.theme/100)&&9!==Math.floor(c.opts.theme/100)||(e=document.getElementById("js-hotel-list"),t={capture:!0,passive:!0},s=(a=function(e){return function(t){d[e].forEach(function(e){e(t)})}})("activatedHotelMobile"),i=a("activatedHotel"),o=a("deactivatedHotel"),travel.isSmallTablet()?e.addEventListener("click",u(s),t):(e.addEventListener("mouseenter",u(i),t),e.addEventListener("mouseleave",u(o),t)),c.isSmallTablet()||(n="js-custom-scroll",(r=document.getElementById(n)).style.maxHeight=r.clientHeight+"px",l=new SimpleBar(r,{autoHide:!1,scrollbarMinSize:200})))},create:function(e){var t,a,s,i,o;r(),c.isSmallTablet()?(i=e,o=document.getElementById("js-hotel-list"),i.forEach(function(e){var t=p(e);c.modules.gallery.initCarousels(n(".js-carousel",t)),o.appendChild(t)})):(a=e,s=document.getElementById("js-hotel-list"),a.forEach(function(e){var t=p(e);c.modules.gallery.initCarousels(n(".js-carousel",t)),s.appendChild(t)}),(t=l.wrapperEl).style.maxHeight="auto",t.style.maxHeight=t.clientHeight+"px",l.recalculate())},clear:r,createHotelCard:p,addCallback:function(e,t){d[e]&&d[e].push(t)}}}(jQuery,travel),function(n,e){travel.modules.hotelService={create:function(){var o={beforeFetch:[],emptyResult:[],success:[]};return{load:function(e,t){var a,s,i;o.beforeFetch.forEach(function(e){e()}),!1!==function(e){function t(e){return!isNaN(parseInt(e))&&isFinite(e)}return!(null!==e.cityID&&!t(e.cityID)||!t(e.part)||!t(e.use_avail))}(e)?(s=t,i={page:"hotel_filter",part:(a=e).part,use_avail:a.use_avail,NELng:a.mapOrigBounds.getEast(),NELat:a.mapOrigBounds.getNorth(),SWLng:a.mapOrigBounds.getWest(),SWLat:a.mapOrigBounds.getSouth(),limit:30},null!==a.cityID&&(i.cityID=a.cityID),n.ajax({url:"/map.php?"+a.filters,method:"POST",data:i,success:function(t){0===t.hotels.length?o.emptyResult.forEach(function(e){e({hotels:[]})}):(o.success.forEach(function(e){e(t)}),s&&s(t))}})):o.emptyResult.forEach(function(e){e({hotels:[]})})},addCallback:function(e,t){o[e]?o[e].push(t):o[e]=[t]}}}}}(jQuery),function(p,s){var t=Math.floor(s.opts.theme/100);if("map"!==s.opts.page)return;if(3!==t&&60!==t&&5!==t&&9!==t)return;function i(e){if("map"!==s.opts.page)return!1;this.form=p(e),this.init(),5!=t&&9!=t||this._updateAvailFormAction()}function e(){i.apply(this,arguments)}i.prototype.init=function(){this._initProperties(),this._initEvents()},i.prototype._initProperties=function(){this._initStaticProperties(),this._initDynamicProperties()},i.prototype._initStaticProperties=function(){this.list=this.form.find(".js-map-filters-list"),this.submitBtn=this.form.find(".js-map-filters-submit"),this.clearBtn=this.form.find(".js-map-filters-clear"),this._typeTitles=JSON.parse(p("#js-filters-titles").text())},i.prototype._initDynamicProperties=function(){this.items=this.form.find(".js-map-filters-item"),this.labels=this.form.find(".js-map-filters-label"),this.textInputs=this.form.find(".js-map-filters-input-textfield")},i.prototype._initEvents=function(){this._initStaticEvents(),this._initDynamicEvents()},i.prototype._initStaticEvents=function(){var t=this;this.submitBtn.on("click",function(e){e.preventDefault(),t._submitCallback()}),this.clearBtn.on("click",function(){t._clearCallback()})},i.prototype._initDynamicEvents=function(){this.labels.on("click",function(){p(this).closest(".js-map-filters-item").toggleClass("is-checked-input")})},i.prototype._submitCallback=function(){this.submit()},i.prototype._clearCallback=function(){this.clearFilters(),this.submit()},i.prototype.render=function(e){this._clearMarkup(),this._addMarkup(e),this._initDynamicProperties(),this._initDynamicEvents()},i.prototype._addMarkup=function(e){for(var t in e){var a=e[t];Array.isArray(a)&&a.length?this._createCheckboxesBlock(t,a):"string"==typeof a&&"Name"===t&&this._createTextfieldBlock(t,a)}},i.prototype._createCheckboxesBlock=function(a,e){var s=this,i=this._createBlock(".js-map-filters-checkbox-block-tpl",a),o=i.find(".js-map-filters-block-list");e.forEach(function(e){var t=s._createCheckbox(e,a);o.append(t),s.list.append(i)})},i.prototype._createTextfieldBlock=function(e,t){var a=this._createBlock(".js-map-filters-textfield-block-tpl",e),s=a.find(".js-map-filters-input-textfield");s.attr("name",e),t.length&&(s.addClass("is-active-input"),s.val(t)),this.list.append(a)},i.prototype._createBlock=function(e,t){var a=p(e),s=p(document.createElement("div"));return s.html(a.html()),s.addClass("map-filters__block js-map-filters-block map-filters__block--"+t.toLowerCase()),s.attr("data-filter",t),s.find(".map-filters__block-title").html(this._typeTitles[t]),s},i.prototype._createCheckbox=function(e,t){var a=p(".js-map-filters-checkbox-tpl"),s=p(document.createElement("div")),i="RAmenityID"===t?"AmenityID":t;s.addClass("map-filters__block-item filters-item js-map-filters-item"),e.Selected&&s.addClass("is-active-input is-checked-input"),s.html(a.html());var o=s.find(".js-map-filters-input"),n=i+"_"+e.ID;o.attr("id",n),o.attr("value",e.ID),o.attr("name",i+"[]"),e.Selected&&o.prop("checked",!0),s.find(".js-map-filters-label").attr("for",n);var r=s.find(".filters-item__title");if(s.find(".filters-item__title-text").html(e.Name),s.find(".filters-item__title-count").html("("+e.Count+")"),"Stars"===t&&2<=e.ID){r.addClass("filters-item__title--stars");for(var l=s.find(".filters-item__title-stars"),c=s.find(".filters-item__title-star"),d=1;d<e.ID;d++)l.append(c.clone())}return s},i.prototype._clearMarkup=function(e){this.list.empty()},i.prototype.clearFilters=function(){this.clearChecked(),this.clearActive(),this.clearTextInputs()},i.prototype._setInputsChecked=function(e,t){for(var a=0;a<e.length;a++){p(e[a]).find(".js-map-filters-input").prop("checked",t)}},i.prototype.submit=function(){s.modules.hotellistMapForm.notifyFormUpdate(this.form.serialize()),this.clearActive(),this.setActive(),this.checkActiveTextInputs(),this._updateHistory(),5!=t&&9!=t||this._updateAvailFormAction()},i.prototype.initCountUpdate=function(e){this.countBlock=p(e),i.prototype._updateCount=function(){if(!this.countBlock)return!1;var e=this.getActiveItems().length;this.countBlock.html(e),0<e?this.countBlock.addClass("is-active"):this.countBlock.removeClass("is-active")};var t=this.submit;i.prototype.submit=function(){t.call(this),this._updateCount()};var a=this.render;i.prototype.render=function(e){a.call(this,e),this._updateCount()},this._updateCount()},i.prototype._updateHistory=function(){if(window.history&&window.history.replaceState){var e="?"+this.form.serialize();window.history.replaceState({},"",e)}},i.prototype._updateAvailFormAction=function(){var e=p(".js-avail-form"),t=e.attr("data-action")+"?"+this.form.serialize();e.attr("action",t)},i.prototype.getActiveItems=function(){return this.form.find(".is-active-input")},i.prototype.setActive=function(){var e=this.getCheckedItems();this._setInputsChecked(e,!0),e.addClass("is-active-input")},i.prototype.clearActive=function(){this._setInputsChecked(this.getActiveItems(),!1),this._clearActiveItems()},i.prototype._clearActiveItems=function(){this.items.removeClass("is-active-input")},i.prototype.getCheckedItems=function(){return this.form.find(".is-checked-input")},i.prototype.setChecked=function(){var e=this.getActiveItems();this._setInputsChecked(e,!0),e.addClass("is-checked-input")},i.prototype.clearChecked=function(){this._setInputsChecked(this.getCheckedItems(),!1),this._clearCheckedItems()},i.prototype._clearCheckedItems=function(){this.items.removeClass("is-checked-input")},i.prototype.clearTextInputs=function(){this.textInputs.removeClass("is-active-input"),this.textInputs.val("")},i.prototype.checkActiveTextInputs=function(){for(var e=0;e<this.textInputs.length;e++){var t=p(this.textInputs[e]);t.val().length?t.addClass("is-active-input"):t.removeClass("is-active-input")}},i.prototype.sort=function(e){this.setSortData(e),this.submit()},i.prototype.setSortData=function(e){this.form.find('input[name="sort"]').val(e.sort),this.form.find('input[name="order"]').val(e.order),this.form.find('input[name="part"]').val(e.part)},i.prototype.getSortInfo=function(){return{sort:this.form.find('input[name="sort"]').val(),order:this.form.find('input[name="order"]').val()}},((e.prototype=Object.create(i.prototype)).constructor=e).prototype.init=function(){this._initProperties(),this._initEvents()},e.prototype._initStaticProperties=function(){i.prototype._initStaticProperties.call(this),this.pk=this.form.attr("data-filters-pk"),this.popup=this.form.closest(".js-map-filters-popup"),this.openPopupBtn=p('.js-map-filters-open[data-filters-pk="'+this.pk+'"]'),this.closePopupBtn=this.popup.find(".js-map-filters-close")},e.prototype._initDynamicProperties=function(){i.prototype._initDynamicProperties.call(this),this.toggleBlocks=this.form.find(".js-map-filters-block"),this.toggleBlockLists=this.form.find(".js-map-filters-block-list"),this.toggleBlockBtn=this.form.find(".js-map-filters-block-btn")},e.prototype._initStaticEvents=function(){i.prototype._initStaticEvents.call(this);var e=this;this.openPopupBtn.on("click",function(){e.openPopup(),s.isMobile()&&e._openFirstBlock()}),this.closePopupBtn.on("click",function(){e.clearChecked(),e.setChecked(),e.closePopup()})},e.prototype._initDynamicEvents=function(){i.prototype._initDynamicEvents.call(this);var e=this;this.toggleBlockBtn.on("click",function(){e._blockToggle(p(this))})},e.prototype._submitCallback=function(){i.prototype._submitCallback.call(this),this.closePopup()},e.prototype._clearCallback=function(){i.prototype._clearCallback.call(this),this.closePopup()},e.prototype._blockToggle=function(e){if(s.isMobile()){var t=e.closest(".js-map-filters-block"),a=t.find(".js-map-filters-block-list");this.toggleBlocks.not(t).removeClass("is-open"),t.toggleClass("is-open"),this.toggleBlockLists.not(a).slideUp(),a.slideToggle()}},e.prototype._openFirstBlock=function(){var e=this.toggleBlocks.first(),t=e.find(".js-map-filters-block-list");e.addClass("is-open"),t.slideDown()},e.prototype.openPopup=function(){this.popup.addClass("is-active")},e.prototype.closePopup=function(){this.popup.removeClass("is-active")};var a=new e(".js-map-filters");a.initCountUpdate(".js-map-filters-count"),s.modules.hotellistMapFilters={deps:["mapUtils"],init:function(){},mapFilters:a}}(jQuery,travel),function(o,n){var r,l,e,c=Math.floor(n.opts.theme/100),a={formUpdate:[]},t=(e="formUpdate",function(t){a[e].forEach(function(e){e(t)})});n.modules.hotellistMapForm={deps:["mapUtils"],init:function(){var e;"map"!==n.opts.page||3!==c&&60!==c&&5!==c&&9!==c||(l=n.modules.hotellistMapFilters.mapFilters,r=n.modules.mapUtils.toggleElements("#js-form-popup"),toggleFormFromDatepicker=n.modules.mapUtils.toggleClass(".js-date-from-field","is-active"),(e=document.querySelector("#js-form-popup")).addEventListener("click",function(e){e.target===this&&r.hide(),e.stopPropagation()}),e.querySelector(".js-form-popup-close").addEventListener("click",function(){r.hide()}))},notifyFormUpdate:t,initCalendar:function(){var e=document.querySelector("#map-calendar"),t=new Date(n.opts.av_params.from),a=new Date(n.opts.av_params.to),s=!0;function i(e,t){var a=travel.opts.lang||"en",s=n.modules.dateFormat.languages[a],i=o(e);i.find(".js-date").text(t.getDate()),i.find(".js-month").text(s.monthNamesShort[t.getMonth()]),i.find(".js-year").text(t.getFullYear())}e.addEventListener("click",function(){r.show(),function(){switch(c){case 9:s&&!n.isMobile()&&(s=!1,o(".js-first-open-calendar").trigger("click"));break;case 3:toggleFormFromDatepicker.add();break;case 5:toggleFormFromDatepicker.add(),setTimeout(function(){o(".js-new-calendar-wrapper",".js-availbox-cont").eq(0).data("dateRangePicker").open()},0);break;case 60:toggleFormFromDatepicker.add()}}()}),i("#checkin-date",t),i("#checkout-date",a)},addCallback:function(e,t){a[e]&&a[e].push(t)},initSorting:function(){var e=document.querySelector(".js-sort-select-block"),t=n.modules.mapUtils.getUrlParam("sort"),a=n.modules.mapUtils.getUrlParam("order");if(t&&a){var s={sort:t,order:a,part:1},i=o("#sort-by").find('.js-sort-item[data-sort="'+t+'"]');o("#sort-by").find(".sort__select-text").text(i.text()),l.setSortData(s)}e.addEventListener("click",function(e){if(e.target.classList.contains("js-sort-item")){e.preventDefault(),e.stopPropagation(),o(".js-sort-select-block").hide(),o(this).closest(".js-sort-select").removeClass("is-open");var t=o(e.target).data("sort"),a=o(e.target).data("order");o("#sort-by").find(".sort__select-text").text(o(e.target).text()),o(e.target).hasClass("is-active")||(o(".js-sort-item").removeClass("is-active"),o(e.target).addClass("is-active"));var s={sort:t,order:a,part:1};l.sort(s)}},{capture:!0})}}}(jQuery,travel),function(c,e){e.modules.hotelListMapPagination={initPagination:function(a){var s,i,l=30,o=e.modules.mapUtils.toggleElements(".js-pane-list-prev"),n=e.modules.mapUtils.createDynamicVocab(".js-pane-list-prev-text");return{update:function(e,t){var r;s&&s.pagination("destroy"),t=t||1,s=c("#pagination-container").pagination2({dataSource:new Array(e),pageSize:l,pageRange:1,pageNumber:t,autoHidePrevious:!0,callback:function(e,t){a(t)}}),travel.isSmallTablet()&&(i||(i=document.querySelector(".js-pane-list-prev")).addEventListener("click",function(){s.pagination2("previous")}),r=e,document.querySelectorAll(".J-paginationjs-page").forEach(function(e){var t=e.querySelector("a"),a=+e.dataset.num,s=(a-1)*l+1,i=l*a,o=r<=i?r:i,n=s+"-"+o;t.innerHTML=n}),function(){var e=document.querySelector(".js-pane-pagination").querySelector(".J-paginationjs-previous");if(e){var t=e.dataset.num,a=(t-1)*l+1,s=l*t;i.dataset.num=t,n.set({"<number_from>":a,"<number_to>":s}),o.show()}else o.hide()}())}}}}}(jQuery,travel),function(i,o){var s,n,r,l,e,t,a,c,d,p,u,h,m,f,g,v,k,y,w={},b=o.modules.hotelListMapGenerator;function j(){(p=new PlaceMap({provider:o.modules.mapboxProvider.create({container:"destination-map"})})).addListener("init",function(){if(w.notAvailHotel){p.addNotAvailMarker(w.notAvailHotel);var e={};o.isSmallTablet()&&(e={padding:{top:106,bottom:270,left:10,right:10}}),p.setBounds(o.modules.mapUtils.getBoundAroundPoint({lat:w.notAvailHotel.Latitude,lng:w.notAvailHotel.Longitude},5),e);var t=document.querySelector("#not-avail-hotel-card"),a=b.createHotelCard(w.notAvailHotel,{className:"card-hotel-not-avail"});t.appendChild(a)}w.mapOrigBounds=p.getBounds(),w.use_avail=o.opts.av_params.use,w.cityID=o.opts.c_id,s.load(w),p.viewportСhanged(function(){w.mapOrigBounds=p.getBounds(),w.use_avail=o.opts.av_params.use,w.part=1,w.cityID=o.opts.c_id,u.show(function(){s.load(w)}),p.updateMarkersSize()})}),document.querySelector("#js-active-hotel-pane .js-active-hotel-pane-close").addEventListener("click",function(){p.resetActivePlaces()}),document.querySelector(".js-pane-list").addEventListener("click",function(e){travel.isSmallTablet()&!e.target.closest(".map-hotel")&&(p.resetActivePlaces(),d.remove(),C())}),p.addListener("markerEnter",function(e){var t=document.querySelector("#js-active-hotel-pane"),a=document.querySelector("#js-active-hotel-pane-content"),s=document.querySelector("#js-hotel-list [data-id="+e+"], #not-avail-hotel-card [data-id="+e+"]");t.classList.contains("pane-lock")||t.querySelector(e)||s&&(a.innerHTML="",a.appendChild(s.cloneNode(!0)),o.modules.gallery.initCarousels(i(a).find(".js-carousel")),c.show())}),p.addListener("markerLeave",function(){document.querySelector("#js-active-hotel-pane").classList.contains("pane-lock")||(document.querySelector("#js-active-hotel-pane-content").innerHTML="",c.hide())}),p.addListener("markerLockDesktop",function(e){var t=document.querySelector("#js-active-hotel-pane");t.classList.add("pane-lock");var a=document.querySelector("#js-active-hotel-pane-content"),s=document.querySelector("#js-hotel-list [data-id="+e+"], #not-avail-hotel-card [data-id="+e+"]");t.querySelector(e)||s&&(a.innerHTML="",a.appendChild(s.cloneNode(!0)),o.modules.gallery.initCarousels(i(a).find(".js-carousel")),c.show())}),p.addListener("markerLockMobile",function(e){var t=document.querySelector("#js-hotel-list [data-id="+e+"], #not-avail-hotel-card [data-id="+e+"]");C(t),_(t),d.add()}),p.addListener("markerLockMobileNotAvail",function(e){var t=document.querySelector(".js-pane-mobile-not-avail"),a=document.querySelector("#not-avail-hotel-card [data-id="+e+"]");a&&(t.innerHTML="",t.appendChild(a.cloneNode(!0)),o.modules.gallery.initCarousels(i(t).find(".js-carousel")),v.show(),o.isSmallTablet()&&(f.hide(),o.modules.mapUtils.onClick(".js-not-avail-hotel-close",function(){v.hide(),p.resetActivePlaces(),f.show()})))}),p.addListener("markerUnlock",function(){document.querySelector("#js-active-hotel-pane").classList.remove("pane-lock"),c.hide(),v.hide(),f.show(),o.isSmallTablet()&&(C(),d.remove())})}function _(e,t){t=t||"auto";var a=document.querySelector(".js-pane-list"),s=e.offsetLeft-window.innerWidth/2+e.offsetWidth/2;a.scrollTo({left:s,behavior:t})}function C(e){o.modules.mapUtils.toggleClass(".map-hotel","map-hotel--active").remove(),e&&e.classList.add("map-hotel--active")}function M(e){var t=e.hotels,a=e.texts,s=e.filters;k.set(a.init_title),y.set(a.upd_title),paginationTextVocab.set(a.pagination_text),r.hide(),e.total>=n&&l.show(),p.resetActivePlaces(),p.removePlaceGroup(t.reduce(function(e,t){return e.push(t.HotelID),e},[])),p.showPlaceGroup(t),b.create(t),h.update(e.total,w.part),d.remove(),m.render(s)}function x(){r.hide(),t.hide(),a.show(),c.hide(),f.hide(),g.hide(),p.removePlaceGroup()}function D(e){w.part=1,w.filters=e,s.load(w)}function T(){toggleUpdatedTitle.add()}function S(){r.show(),t.show(),a.hide(),f.show(),g.show(),l.hide(),e.hide(),b.clear()}function L(e){e.pageNumber!==w.part&&(w.part=e.pageNumber,p.removePlaceGroup(),s.load(w))}o.modules.hotellistMap={deps:["mapUtils","hotellistMapForm"],init:function(){"map"!==o.opts.page||3!==Math.floor(o.opts.theme/100)&&60!==Math.floor(o.opts.theme/100)&&5!==Math.floor(o.opts.theme/100)&&9!==Math.floor(o.opts.theme/100)||(n=30,m=o.modules.hotellistMapFilters.mapFilters,r=o.modules.mapUtils.toggleElements(".js-hotellist-loader"),l=o.modules.mapUtils.toggleElements(".js-pane-pagination, .js-pane-pagination-text"),e=o.modules.mapUtils.toggleElements(".js-pane-list-prev"),t=o.modules.mapUtils.toggleElements(".js-wrapper-hotel-list"),a=o.modules.mapUtils.toggleElements("#js-not-found-hotels"),c=o.modules.mapUtils.toggleElements("#js-active-hotel-pane"),toggleUpdatedTitle=o.modules.mapUtils.toggleClass(".js-pane-title","pane__title--updated"),d=o.modules.mapUtils.toggleClass(".js-pane-list","is-active-card"),f=o.modules.mapUtils.toggleElements(".js-sort-select"),g=o.modules.mapUtils.toggleElements(".js-pane-title"),v=o.modules.mapUtils.toggleElements(".js-pane-mobile-not-avail"),k=o.modules.mapUtils.createVocab(".js-pane-title-init"),y=o.modules.mapUtils.createVocab(".js-pane-title-updated"),paginationTextVocab=o.modules.mapUtils.createVocab(".js-pane-pagination-vocab"),w={notAvailHotel:null,hotelPriceObject:{},mapOrigBounds:null,part:1,use_avail:0,filters:window.location.search.replace("?","")},j(),u=new function(){this.btn=document.querySelector(".js-map-refresh"),this.toggleMapRefresh=o.modules.mapUtils.toggleClass(".js-map-refresh","is-active"),this.isActive=!1,this.sendRequest=null;var t=this;this.show=function(e){this.sendRequest=e,this.isActive&&this.preventRefresh(),setTimeout(function(){t.toggleMapRefresh.add()},100),this.isActive=setTimeout(function(){t.sendRequest(),t.toggleMapRefresh.remove(),t.isActive=!0},3e3)},this.preventRefresh=function(){clearTimeout(this.isActive),this.toggleMapRefresh.remove(),this.isActive=!1},this.btn.addEventListener("click",function(){t.preventRefresh(),t.sendRequest()})},o.modules.hotellistMapForm.initCalendar(),o.modules.hotellistMapForm.initSorting(),o.modules.hotellistMapForm.addCallback("formUpdate",D),o.modules.hotellistMapForm.addCallback("formUpdate",T),(s=o.modules.hotelService.create()).addCallback("success",M),s.addCallback("emptyResult",x),s.addCallback("beforeFetch",S),h=o.modules.hotelListMapPagination.initPagination(L),b.addCallback("activatedHotel",function(e){p.activatePlace(e.placeID)}),b.addCallback("activatedHotelMobile",function(e){p.activatePlace(e.placeID),C(e.hotelCard),_(e.hotelCard,"smooth"),d.add()}),b.addCallback("deactivatedHotel",function(){p.resetActivePlaces()}),document.querySelector("#js-active-hotel-pane").querySelector(".js-active-hotel-pane-close").addEventListener("click",c.hide),o.modules.mapUtils.onClick(".js-map-expand-btn",function(){p.flyTo({center:[o.opts.map_params.long,o.opts.map_params.lat],essential:!0,zoom:11})}),"RevRating"!==m.getSortInfo().sort&&toggleUpdatedTitle.add())},updateHotelsList:function(e){w.mapOrigBounds=p.getBounds(),w.use_avail=o.opts.av_params.use,s.load(w)},updateNotAvailHotel:function(e){w.notAvailHotel=JSON.parse(e)}}}(jQuery,travel),function(m,f){var s=!1,r=null,a=null,i=null,g=null,o=null;function n(){if(3==g||60==g||5==g||9==g){m(document).on("click",".js-sort-select",function(){m(".js-sort-select-block").toggle(),m(".js-sort-select").toggleClass("is-open")}),m("body").on("mouseup",function(e){var t=m(".js-sort-by");t.is(e.target)||0!==t.has(e.target).length||(m(".js-sort-select-block").hide(),m(".js-sort-select").removeClass("is-open"))})}else m(document).on("click",".js-sort-select .div-select",function(){m(".js-sort-select-block").toggle()});m(document).on("click",".js-sort-select-block .js-sort",function(){m(".js-sort-select-block").hide();var e=m(this).data("sort"),t=m(this).data("order"),a=m(".js-hotellist-filters, .js-avail-form");return m('input[name="sort"]',a).val(e),m('input[name="order"]',a).val(t),m('input[name="part"]',a).val(1),v(),!1}),m(document).on("change",".js-sort-select-block-mob",function(){var e=m(":selected",this).data("sort"),t=m(":selected",this).data("order"),a=m(".js-hotellist-filters, .js-avail-form");return m('input[name="sort"]',a).val(e),m('input[name="order"]',a).val(t),m('input[name="part"]',a).val(1),v(),!1})}function e(){if(5==g&&f.isTablet())return!1;m(".js-less-items").each(function(){var e=m(this),t=7==g||20==g?5:7;e.data("maxItems")?t=e.data("maxItems"):e.data("maxItems",t);var a=e.find("li").not(".is-checked");a.length>1.1*t&&(a.slice(t,a.length).hide(),m(".js-show-all-filters",e).removeClass("hidden"))}),m(document).on("click",".js-show-all-filters",function(){var e=m(this).closest(".js-less-items");m("li",e).show(300),m(".js-show-less-filters",e).removeClass("hidden"),m(this).addClass("hidden")}),m(document).on("click",".js-show-less-filters",function(){var e=m(this).closest(".js-less-items"),t=e.data("maxItems"),a=e.find("li").not(".is-checked");a.slice(t,a.length).hide(300),m(".js-show-all-filters",e).removeClass("hidden"),m(this).addClass("hidden")})}function d(){travel.modules.lazy.init(),travel.modules.gallery.init(),travel.modules.maps&&travel.modules.maps.init(),e(),f.modules.calendar.reinit(),f.modules.availbox.init(),f.modules.trackEvent.init(),f.modules.notavail.init(),f.modules.newScript.initNotAvail(),f.modules.modalWindow.init(),9==g&&(k(),h(),1==m.cookie("use_dates")&&(f.modules.multiHotelAvail.run(),m("html, body").animate({scrollTop:m(".js-content").offset().top},300))),3!=g&&60!=g||"destination"!=o||f.modules.gallery.initSunsetHotelListGallery()}function p(s){var e=m(".js-lang-currency-list .js-link"),t=m(".js-lang-currency-select option");e.map(function(e,t){var a=m(t);a.attr("data-href")||a.attr("data-internal")||a.attr("data-hex")?a.attr("data-internal")?l(a,s,"data-internal",!0,"base64"):a.attr("data-hex")?l(a,s,"data-hex",!0,"hex"):l(a,s,"data-href",!1):l(a,s,"href",!1)}),t.map(function(e,t){var a=m(t);a.closest(".js-hide-select").length?l(a,s,"value",!0,"base64"):a.closest(".js-select-hex").length?l(a,s,"value",!0,"hex"):l(a,s,"value",!1)})}function l(e,t,a,s,i){var o;-1===(o=s?"data-internal"===a?atob(e.attr(a)):"data-hex"===a?f.modules.crypto.hexToAscii(e.attr(a)):e.closest(".js-lang-currency-select").hasClass("js-select-hex")?f.modules.crypto.hexToAscii(e.attr(a)):atob(e.attr(a)):e.attr(a)).indexOf(t)&&(o=o.replace("/search/",t),s&&i&&(o="base64"===i?btoa(o):f.modules.crypto.asciiToHex(o)),e.attr(a,o))}function t(){var l=m(".js-hotellist-filters"),e=l.serialize(),c=l.attr("action")+"?"+e;f.modules.availProgress.show({progress:1}),m.ajax({url:c+"&use_avail=1&r="+Math.random(),type:"GET"}).done(function(e){f.modules.availProgress.show({progress:100});var t=m(e);if(m(".js-need-avail",t).length)w();else{var a,s,i=m(".js-content",t),o=m("h1",t),n=i.html(),r=o.html();a=c,s={title:r},window.history&&window.history.replaceState&&window.history.replaceState(s,"",a),p(l.attr("action")),$cont=m(".js-content"),$cont.html(n),3!==g&&m(".js-avail-form").attr("action",c),m.scrollTo($cont,300),r&&(document.title=r),setTimeout(function(){f.modules.availProgress.hide()},100),d(),3!=g&&60!=g||b(),2!=g&&9!=g&&8!=g&&10!=g&&1!=g||f.modules.calendar.ajaxinit(),m(".js-filters-wrap").hide(0),m(".js-d7-close-filter").find("span").each(function(){m(this).hasClass("btn-active")?m(this).removeClass("btn-active"):m(this).addClass("btn-active")}),3!=g&&60!=g||1!=m.cookie("use_dates")||f.modules.multiHotelAvail.run(),5==g&&"destination"==f.opts.type&&f.isMobile()&&(f.modules.menu.initFiltersAccordion(),f.modules.menu.openSelectedFilters())}}).fail(function(e){f.log("error",e),setTimeout(function(){v()},2e3)})}function u(e){s?(f.log("updateMapList2"),c(e)):m(document).on("destmap-ready",function(){f.log("updateMapList1"),c(e)})}function c(e){for(var t=m.parseJSON(e),a=t.length,s=[],i=[],o=0;o<a;++o){var n=t[o];0!==n.lat||0!==n.lng?(s[n.id]=n,i.push(n.id)):f.log("skip",n)}r.clearAll(),r.hotels.list=s,r.hotels.cids=i,r.updateMarkers(),r.fitView()}function v(){"hotel_list"==a?t():"map"==a&&function(){if(9!==g&&5!==g||"map"!==f.opts.page){var e=m(".js-hotellist-filters"),t=e.serialize();a=(a=e.attr("action")+"?"+t).replace("/search/","/map/")}else var a=m(".js-avail-form").attr("action")+window.location.search;f.modules.availProgress.show({progress:1}),m.ajax({url:a+"&use_avail=1&r="+Math.random(),type:"GET"}).done(function(e){f.modules.availProgress.show({progress:100});var t=m(e);if(m(".js-need-avail",t).length)w();else{var a=m(".js-filters-cont",t),s=m(".js-hotels",t),i=m("h1",t),o=m("#js-not-avail-hotel",t),n=a.html(),r=i.html(),l=s.text(),c=o.text();u(l),3!==g&&60!==g&&9!==g||(c&&f.modules.hotellistMap.updateNotAvailHotel(c),f.modules.hotellistMap.updateHotelsList()),m(".js-filters-cont").html(n),r&&(document.title=r),setTimeout(function(){f.modules.availProgress.hide()},100),m(".js-filters-wrap").hide(0),m(".js-d7-close-filter").find("span").each(function(){m(this).hasClass("btn-active")?m(this).removeClass("btn-active"):m(this).addClass("btn-active")}),7!=g&&20!=g||d(),3!=g&&60!=g||b(),9==g&&k()}}).fail(function(e){f.log("error",e),setTimeout(function(){v()},2e3)})}()}function h(){var e=m("body"),t=m(".js-filters-popup");function a(){e.removeClass("is-open-popup"),t.hide()}m(document).on("click",".js-filters-popup-show-btn",function(){t.show(),e.addClass("is-open-popup")}),m(document).on("click",".js-filters-popup-close-btn",function(){a()}),m(document).on("click",".js-clear-filter",function(){a()}),m(document).on("click",".js-apply-filter",function(){a()})}function k(){var e=m(".js-top-filters-sv");if(!e.length)return!1;var t=m(".js-top-filter-item");m(".js-top-filter-item:visible").length?e.show():e.hide(),t.each(function(e,t){var a=m(t),s=a.attr("data-filter-value"),i=m("#"+s);i.length?(a.show(),i.attr("checked")?a.addClass("is-active"):a.removeClass("is-active")):a.hide()})}function y(){3==g||60==g?m(document).on("click",".js-filter-submit",function(){var e,t,a=m(".js-hotellist-filters");m('input[name="part"]',a).val(1),v(),e=m(".js-main-title"),t=e.attr("data-title-text"),e.html(t)}):m(document).on("change",".js-hotellist-filters",function(e){if(!travel.isMobile()&&(!travel.isMercuryTablet()||5!=g&&8!=g&&9!=g&&10!=g)||m(e.target).is(".js-hotellist-filters")){var t=m(".js-hotellist-filters");m('input[name="part"]',t).val(1),v()}}),m(document).on("click",".js-top-filter-item",function(){var e=m(this).attr("data-filter-value");m("#"+e).closest(".js-adv-checkbox").find("label").trigger("click"),v()}),m(document).on("click",".js-close-filter",function(){m(this).hide(),$wrap=m(this).closest(".open-filters-wrap"),m(".js-open-filter",$wrap).show(),m("ul",$wrap).hide(500)}),m(document).on("click",".js-open-filter",function(){m(this).hide(),$wrap=m(this).closest(".open-filters-wrap"),m(".js-close-filter",$wrap).show(),m("ul",$wrap).show(500)}),m(document).on("click",".js-toggle-filter",function(){m(this).toggleClass("is-active"),m(this).closest(".js-filters-wrapper").find(".js-filters-list").stop().slideToggle()}),e(),m(".js-mobile-bot-menu").on("click",".js-filter-btn",function(){7===g&&55===g?m(".js-mob-filter").toggle():m(".js-mob-filter, .right-col, .search-title, .header-bottom, .page-title").toggle()}),m(document).on("click",".js-apply-filter",function(){m(".js-mob-filter, .right-col, .search-title, .header-bottom, .page-title").toggle(),m("body").scrollTop(0),m(".js-hotellist-filters").trigger("change")}),m(document).on("click",".js-clear-filter",function(){m(".js-mob-filter, .right-col, .search-title, .header-bottom, .page-title").toggle(),m("body").scrollTop(0),m(".js-hotellist-filters").find("input:text, select").val("").end().find(".js-adv-checkbox input:checked").removeAttr("checked").each(function(){m(this).closest(".js-adv-checkbox").removeClass("is-checked")}).end(),m(".js-hotellist-filters").trigger("change")}),m(".js-content").on("click",".js-d7-close-filter",function(){m(this).find("span").each(function(){m(this).hasClass("btn-active")?m(this).removeClass("btn-active"):m(this).addClass("btn-active")}),m(".js-filters-wrap").toggle(300)})}function w(){if("0"!=f.opts.av_params.use){splash(400,"auto");var e=f.opts;avcity_req(e.obj_id,e.av_params,e.lang_id)}}function b(){var e,t,a=m(".js-filter-dropdown-btn"),s=m(".js-filter-mob-btn"),i=m(".js-more-filters"),o=m(".js-filter"),n=m(".js-filter-cancel"),r=m(".js-filter__bcg"),l=m(".js-adv-checkbox"),c=m(".js-filter-clear");function d(){m(".js-filter").toggleClass("is-open"),m(this).hasClass("js-more-filters")||(r.hide(),m("body").removeClass("no-scroll")),p()}function p(){l.each(function(){m(this).hasClass("js-selected-filters")?(m(this).addClass("is-checked"),m(this).find("input").attr("checked",!0)):(m(this).removeClass("is-checked"),m(this).find("input").attr("checked",!1))})}function u(){a.removeClass("is-open"),o.removeClass("is-open"),r.hide(),m("body").removeClass("no-scroll"),p(),m(".js-filters-cont").removeClass("is-open")}function h(){m(".js-filter-count").each(function(){var e=m(this).parents(".js-sunset-filter").find(".js-adv-checkbox.is-checked").length;0==e?m(this).hide():(m(this).show(),this.innerHTML=e,m(this).parent().addClass("is-selected"))}),m(".js-more-filter-count").each(function(){var e;e=""===m(".js-filter-by-name")[0].value.trim()?0:1;var t=m(this).parents(".js-sunset-all-filters").find(".visible[data-filter]").find(".js-adv-checkbox.is-checked").length+e;0==t?m(this).hide():(m(this).show(),this.innerHTML=t,m(this).parents(".js-filter-dropdown-btn").addClass("is-selected"))})}m(".js-hotellist-filters").addClass("is-not-visible"),o.removeClass("is-open"),m(".js-seo-open-filter").addClass("hidden"),m("body").on("mouseup",function(e){var t=m(".js-sunset-filter");t.is(e.target)||0!==t.has(e.target).length||u()}),l.each(function(){m(this).hasClass("is-checked")&&m(this).addClass("js-selected-filters")}),a.on("click",function(){m(this).hasClass("is-open")?(m(this).removeClass("is-open"),m(this).siblings(".js-filter").removeClass("is-open")):(m(this).addClass("is-open"),m(this).siblings(".js-filter").addClass("is-open")),a.not(this).removeClass("is-open"),a.not(this).parent().find(".js-filter").removeClass("is-open"),m(window).width()<768&&0<m(".js-all-filters").length&&m("html, body").animate({scrollTop:m(".js-all-filters").offset().top},500),m(this).hasClass("js-more-filters")||(r.hide(),m("body").removeClass("no-scroll")),p()}),3!==g&&60!==g&&9!==g||(s.off("click"),s.on("click",d)),i.on("click",function(){0<m(".js-all-filters").length&&m("html, body").animate({scrollTop:m(".js-all-filters").offset().top},500),m(".js-filters-cont").toggleClass("is-open"),r.toggle(),m("body").toggleClass("no-scroll")}),n.on("click",function(){u()}),c.on("click",function(){l.removeClass("is-checked"),l.find("input").attr("checked",!1);var e=m(".js-hotellist-filters");m('input[name="part"]',e).val(1),e.find("input:text").val(""),v()}),e=m(".js-filter-container"),0<(t=m(".js-filters-bottom-position")).length&&m(window).on("scroll",function(){t.offset().top<m(window).scrollTop()?e.hasClass("is-fixed")||e.addClass("is-fixed"):e.hasClass("is-fixed")&&e.removeClass("is-fixed")}),function(){var e=m(".js-all-filters"),t=e.width(),a=0;e.children().each(function(){m(this).hasClass("js-hotellist-filters")||(a+=m(this).outerWidth(!0))});var s=t-a-m(".js-more-filters").outerWidth(!0),i=0;m(".js-hotellist-filters").children(".js-sunset-filter").each(function(){(i+=this.clientWidth)<=s&&m(this).addClass("visible")}),m(".js-sunset-filter").each(function(){m(this).hasClass("visible")||m(this).hasClass("js-sunset-all-filters")||(m(this).removeClass("visible"),m(this).addClass("hidden"))}),m(".js-hotellist-filters").removeClass("is-not-visible"),m(".js-filter-clear").removeClass("is-not-visible"),m(".js-adv-checkbox").click(function(e){var t=e.target.id,a=t.replace(/-pop-filter/g,"");-1!=t.indexOf("-pop-filter")&&(m("#"+a).trigger("click"),m(".js-hotellist-filters").trigger("change"))}),function(){var e=[];m(".js-hotellist-filters").children("[data-filter].visible").each(function(){e.push(m(this).data("filter"))});var t=[];m(".js-sunset-all-filters").find("[data-filter]").each(function(){t.push(m(this).data("filter"))});var a=m(t).not(e).get();m.map(a,function(e){m(".js-sunset-all-filters").find("[data-filter]").each(function(){m(this).data("filter")==e&&(m(this).removeClass("hidden"),m(this).addClass("visible"))})})}()}(),h(),m(document).on("click",".js-filter-submit",function(){h(),r.hide(),m("body").removeClass("no-scroll")}),0==m(".js-sunset-all-filters").find(".visible[data-filter]").find(".js-adv-checkbox").length&&(f.isMobile()?m(".js-sunset-all-filters .js-filter").hide():m(".js-sunset-all-filters").hide()),function(){if(m(window).width()<768){m(".js-sunset-filter").not(".js-sunset-all-filters").addClass("hidden"),m(".js-show-filters").hide();var e=m(".js-show-filters-phone");e.on("click",function(){m(this).hasClass("is-open")?(m(this).siblings(".js-show-filters").hide(),m(this).removeClass("is-open")):(m(".js-show-filters").hide(),e.removeClass("is-open"),m(this).siblings(".js-show-filters").show(),m(this).addClass("is-open"))}),t=m(".js-filter-item"),0<m(".js-adv-checkbox.is-checked").length?t.each(function(){0<m(this).find(".js-adv-checkbox.is-checked").length&&(m(this).find(".js-show-filters").show(),m(this).find(".js-show-filters").addClass("is-open"))}):(m(".js-price-filter").find(".js-show-filters").show(),m(".js-price-filter").find(".js-phone-filter-title").first().addClass("is-open"),m(".js-price-filter").find(".js-show-filters").first().addClass("is-open"))}var t}()}f.modules.hotellist={init:function(e){if(a=f.opts.page,i=travel.opts.theme,g=Math.floor(i/100),o=f.opts.type,"destination"==f.opts.type&&("hotel_list"==a||"map"==a)){if(window.history&&window.history.pushState&&(window.onpopstate=function(e){e.state&&(m(".js-filters-cont").html(e.state.filters),m(".js-hotellist-hotels").html(e.state.hotels),e.state.title&&(document.title=e.state.title),d())}),y(),9==g&&(h(),("ontouchstart"in window||navigator.maxTouchPoints||navigator.platform&&/iPad|iPhone|iPod/.test(navigator.platform))&&(m(document).on("click",".js-tooltip-d9",function(){m(".js-tooltip-d9").not(this).removeClass("is-tooltip-shown"),m(this).toggleClass("is-tooltip-shown")}),m(document).on("click",function(e){var t=m(".js-tooltip-d9");t.length&&!t.is(e.target)&&0===t.has(e.target).length&&t.removeClass("is-tooltip-shown")}))),3!=g&&60!=g||b(),n(),m(document).on("click",".js-navigation a, .js-navigation .js-navigation-hidden-link",function(){var e=m(this).data("part"),t=m(".js-hotellist-filters");return m('input[name="part"]',t).val(e),v(),!1}),w(),"map"==a){3!==g&&60!==g&&5!==g&&9!==g&&m(document).on("maps-created",function(){var e,t=f.opts.map_params,a=new HotelMap({containers:{map:"#map-container"},debug:1,provider:t.provider,ajax_traditional:!1,disable_load_hotels:!0,disable_load_landmarks:!0,center:{lat:t.lat,lon:t.long,zoom:12},history:1,callbacks:{mouse:map_mouse,click:map_close_popup,center_changed:map_close_popup,zoom_changed:map_close_popup},language:{id:f.opts.lang_id,code:f.opts.code},custom_marker:get_custom_marker});e=m(window).height(),m("#map-container").css({height:e+"px"}),a.resize(),init_map_search(a,m("#search_address_map")),r=a,s=!0,f.log("trigger destmap-ready"),m(document).trigger("destmap-ready")});var t=m(".js-hotels");t.length&&setTimeout(function(){u(t.text())},1e3),9==g&&k()}else d();m(document).on("click",".js-change-view",function(){var e=m(".js-hotellist-filters").serialize(),t=m(this).attr("href")+"?"+e+"&r="+Math.random();return document.location=t,!1})}},loadList:v,updateLangCurLinks:p}}(jQuery,travel),function(e,t){travel.modules.touchscreen={init:function(){"ontouchstart"in window||navigator.maxTouchPoints||navigator.platform&&/iPad|iPhone|iPod/.test(navigator.platform)?e("html").addClass("is-touchscreen"):e("html").addClass("is-no-touchscreen")}}}(jQuery),function(s,o){o.modules.jslink={init:function(){function e(e){window.open(e,"_blank")}function a(e,t){var a="";if(location.search&&(a=location.search.toString().replace("?home-flower","").replace("&home-flower","").replace("?clirder=1","").replace("&clirder=1","")),"destination"==o.opts.type){var s=e.indexOf("#map");if(-1!==s&&a){var i=e.substr(s);-1==(e=e.replace(i,"")).indexOf("?")?e+=a:e=e.replace("?",a+"&"),e+=i}else-1!==location.hash.indexOf("map")&&(location.hash="")}-1==e.indexOf("#")&&(a&&(-1==e.indexOf("?")?e+=a:e=e.replace("?",a+"&")),e+=location.hash||""),window.location=e,t.preventDefault()}s("body"),s(".js-link").each(function(){var e=s(this),t=e.data("name");t&&e.find("span").text(t)}),s(".js-link-groupbooking").each(function(){o.opts.groupbook_url&&s(this).addClass("js-link").attr("data-href",o.opts.groupbook_url)}),s(document).on("click",".js-link-empty",function(){var e=s(this),t=atob(e.attr("data-internal"));window.location.href=t}),s(document).on("click",".js-link",function(e){var t=s(this);a(t.hasClass("js-link-new")?atob(t.attr("data-internal")):t.hasClass("js-link-hex")?o.modules.crypto.hexToAscii(t.attr("data-hex")):t.attr("data-href")||t.attr("href"),e)}),s(".js-hide-select").on("change",function(e){a(atob(s(this).val()),e)}),s(".js-select-hex").on("change",function(e){a(o.modules.crypto.hexToAscii(s(this).val()),e)}),s(".js-lang-currency-select").on("change",function(e){s(this).hasClass("js-hide-select")||s(this).hasClass("js-select-hex")||a(s(this).val(),e)}),s("body").on("click",".js-new-window",function(){return e(atob(s(this).data("new-window"))),!1}),s("body").on("click",".js-hex-new-window",function(){return e(o.modules.crypto.hexToAscii(s(this).data("hex"))),!1})}}}(jQuery,travel),function(g,v){var k=Math.floor(v.opts.theme/100);setTimeout(function(){g(".js_attraction_airports").length||g(".js_attraction_train").length?g(".js_attraction_local_attractions").hide():g(".js-nearby-attraction").hide()},1e3);var y=v.opts||{};if(y.isBot)return;function e(){var d=y.endpointHotelAttractions,i=null;if(!(d&&y.endpointHotelAttractions.ids&&y.endpointHotelAttractions.ids.length))return!1;i=y.endpointHotelAttractions.ids;var o=g(".js-attractions"),e=g(".js-attractions-slider");e.trigger("destroy"),o.fadeOut();var n=1,r=null,c="",l=null,p=g(".js-attraction-slider-wrapper").attr("data-less"),u=g(".js-attraction-slider-wrapper").attr("data-more");function h(e){var t={valid:!1,markup:""};return 30<e&&(t.valid=!0),t}function m(e,t){var a={valid:!0,markup:""};if(e){var s=e.split("|");if(1<=s.length){var i="";t?i+='<div class="nearby-attractions-item__tag js-landmark-tag tag">'+s[0]+"</div>":(s.splice(4),s.forEach(function(e){i+='<div class="nearby-attractions-item__tag js-landmark-tag tag">'+e+"</div>"})),a.markup=i}else a.valid=!1}else a.valid=!1;return a}function f(){var o,n,r,l;e.html(c),n=(o=e).find(".js-attraction-desc"),r=g('.js-title[data-href="attraction"]'),l=0,n.each(function(){var t=g(this),e=g(this).outerHeight(!0),a=g(this).closest(".js-location-item").outerHeight(!0);g(this).attr("data-height",a);var s=g(this).attr("data-height");if(o.find(".js-location-item").css({height:"100%"}),63<e){g(".js-attractions-slider").css({"align-items":"baseline"}),g(this).append('<button class="nearby-attractions-item__show-btn js-desc-attraction-btn">'+u+"</button>"),g(this).find("div").css({height:"63px",overflow:"hidden"}),g(this).closest(".js-location-item").each(function(){var e=g(this).outerHeight(!0);l<e&&(l=e)});var i=g(this).find(".js-desc-attraction-btn");i.on("click",function(){if(t.hasClass("js-desc-is-open"))i.text(u),t.removeClass("js-desc-is-open").closest(".js-location-item").css({height:"100%"}),g(".js-landmarks-custom-wrapper").css({height:l}),g("html, body").animate({scrollTop:r.offset().top},500);else{n.removeClass("js-desc-is-open").closest(".js-location-item").css({height:"100%"}),g(".js-landmarks-custom-wrapper").css({height:l}),n.find(".js-desc-attraction-btn").text(u),i.text(p),t.addClass("js-desc-is-open").closest(".js-location-item").css({height:s,"max-height":"none"});var e=g(this).closest(".js-location-item").height();g(".js-landmarks-custom-wrapper").css({height:e})}})}}),function(){var e=3;v.isMobile()&&(e=1);g(".js-attractions-slider").each(function(){g(this).carouFredSel({circular:!0,responsive:!0,width:"100%",infinite:!0,height:"auto",pagination:{container:".js-attraction-slider-pagination"},items:{visible:e,height:"variable"},auto:{play:!1},direction:"left",scroll:{items:"page",duration:300,pauseOnHover:!1},prev:{button:function(){return g(this).closest(".js-attractions").find(".js-prev")}},next:{button:function(){return g(this).closest(".js-attractions").find(".js-next")}}},{wrapper:{classname:"custom_wrapper js-landmarks-custom-wrapper"}})})}()}!function t(){var e=i.join(",");var a={page:"landmarkinfo",ids:e,lang_id:y.lang_id};var s=v.modules.attractionsUtils.generateKey();s&&(a[s]=travel.opts.nid);g.ajax({method:"get",url:"/geo-data/landmarks/",data:a,success:function(e){if(!(r=e.features))return!1;switch(l=r.filter(function(e){var t=e.properties;if(t.distance=d.data[e.id].minutes,5===k||9===k||3===k){var a=m(t.TagNames);if(a.valid)t.infoData=a;else{var s=h(t.ReviewsCount);if(!s.valid)return!1;t.infoData=a}var i=function(e){var t={valid:!0,markup:""};e.Address&&""!==e.Address?t.markup=e.Address:e.AddressEng&&""!==e.AddressEnd?t.markup=e.AddressEng:y.city&&""!==y.city?t.markup=y.city:t.valid=!1;try{t.markup=decodeURIComponent(JSON.parse('"'+t.markup+'"'))}catch(e){t.markup=""}return t}(t);if(!i)return!1;t.adressData=i}if(3===k){var o=function(e){var t={valid:!1,markup:""},a=[];if(e.CategoryDesc&&""!==e.CategoryDesc)a=e.CategoryDesc.split("|");else{if(!e.Desc||""===e.Desc)return!1;a=e.Desc.split("|")}return t.markup='<div class="nearby-attractions-item__desc landmarks-description js-attraction-desc"><div>'+a[0]+"</div></div>",t.valid=!0,t}(t);if(o.valid)t.infoData=o;else{var a=m(t.TagNames,1);if(a.valid)t.infoData=a;else{var s=h(t.ReviewsCount);if(!s.valid)return!1;t.infoData=s}}}var n=t.Name?t.Name:t.NameEng;t.nameData=n;var r,l,c=(l={valid:!0,url:"",extraClass:"",photoStub:!1},(r=t).PhotoUrl&&"NULL"!==r.PhotoUrl&&-1===r.PhotoUrl.toLocaleLowerCase().indexOf("ta_brand_logo")?l.url=decodeURIComponent(JSON.parse('"'+r.PhotoUrl+'"')):void 0!==r.GeoLat&&void 0!==r.GeoLong?(l.url="/maps-data/styles/osm-bright/static/"+r.GeoLong+","+r.GeoLat+",17/350x200.jpg",l.extraClass="map",l.photoStub=!0):l.valid=!1,l);return!!c.valid&&(t.photoData=c,t)}).map(function(e){return e.properties}).sort(function(e,t){var a=e.ReviewsCount?+e.ReviewsCount:0,s=t.ReviewsCount?+t.ReviewsCount:0,i=a<s?1:-1;return i}),k){case 3:!function(){var s=l.length,i=0;if(!s)return;o.fadeIn(),l.forEach(function(a,e){var t=new Image;t.onload=function(){var e;5===k?e=a.infoData.valid?'<div class="nearby-attractions-item__address"><svg class="nearby-attractions-item__address--icon" xmlns="http://www.w3.org/2000/svg" width="9" height="12" viewBox="0 0 9 12"><path fill="#333E50" fill-rule="nonzero" d="M4.5 0C2.019 0 0 1.95 0 4.346c0 2.974 4.027 7.34 4.199 7.524a.415.415 0 0 0 .602 0C4.973 11.686 9 7.32 9 4.346 9 1.95 6.981 0 4.5 0zm0 6.532c-1.248 0-2.264-.98-2.264-2.186S3.252 2.159 4.5 2.159c1.248 0 2.264.981 2.264 2.187S5.748 6.532 4.5 6.532z"/></svg>'+a.adressData.markup+'</div><div class="nearby-attractions-item__tags">'+a.infoData.markup+"</div>":'<div class="nearby-attractions-item__address"><svg class="nearby-attractions-item__address--icon" xmlns="http://www.w3.org/2000/svg" width="9" height="12" viewBox="0 0 9 12"><path fill="#333E50" fill-rule="nonzero" d="M4.5 0C2.019 0 0 1.95 0 4.346c0 2.974 4.027 7.34 4.199 7.524a.415.415 0 0 0 .602 0C4.973 11.686 9 7.32 9 4.346 9 1.95 6.981 0 4.5 0zm0 6.532c-1.248 0-2.264-.98-2.264-2.186S3.252 2.159 4.5 2.159c1.248 0 2.264.981 2.264 2.187S5.748 6.532 4.5 6.532z"/></svg>'+a.adressData.markup+"</div>":3===k&&(e=a.infoData.markup);var t='<div class="nearby-attractions-item js-location-item"><div class="nearby-attractions-item__img '+a.photoData.extraClass+'" style="background-image: url('+a.photoData.url+')"></div><div class="nearby-attractions-item__info"><div class="nearby-attractions-item__info-wrap"><div class="nearby-attractions-item__name">'+a.nameData+'</div><div class="nearby-attractions-item__distance">'+a.distance+"</div></div>"+e+"</div></div>";c+=t,(i+=1)===s&&f()},t.onerror=function(){(i+=1)===s&&f()},t.src=a.photoData.url})}(),v.modules.mapbox.setDataForMap(l,"landmark");break;case 5:case 9:v.modules.mapbox.setDataForMap(l,"landmark")}},error:function(e){if(travel.log(e),!(n<=3))return!1;setTimeout(function(){n++,t()},1e3*n)}})}()}v.modules.landmarks={init:function(){"hotel"!==v.opts.type||3!==k&&5!==k&&9!==k||"book"===v.opts.page||(e(),g("body").on("click",".js-open-map-landmarks",function(){e()}))}}}(jQuery,travel),function(t,e){travel.modules.lazy={init:function(){t("img.lazy").lazyload({skip_invisible:!0,effect:"fadeIn",threshold:800,failure_limit:20,appear:function(){t(this).removeClass("lazy")}})},load:function(e){t(".lazy",e).each(function(){t(this).attr("src",t(this).attr("data-original")),t(this).removeClass("lazy")})}}}(jQuery),function(e,t){var a;function o(e){var t;switch(typeof e){case"string":t=s(document.querySelectorAll(e));break;case"object":t=s(e);break;default:t=[]}return t}function s(e){var t=[];return e.length?t=Array.prototype.slice.call(e):void 0===e.length&&t.push(e),t}function n(e,t,a){a/=6371,t=l(t);var s=l(e.lat),i=l(e.lng),o=Math.asin(Math.sin(s)*Math.cos(a)+Math.cos(s)*Math.sin(a)*Math.cos(t)),n=i+Math.atan2(Math.sin(t)*Math.sin(a)*Math.cos(s),Math.cos(a)-Math.sin(s)*Math.sin(o));return isNaN(o)||isNaN(n)?null:{lat:r(o),lng:r(n)}}function r(e){return e*(180/Math.PI)}function l(e){return e*(Math.PI/180)}function i(){return 0<window.innerWidth?window.innerWidth:screen.width}(a=Element.prototype).matches=a.matches||a.mozMatchesSelector||a.msMatchesSelector||a.oMatchesSelector||a.webkitMatchesSelector,a.closest=a.closest||function(e){return this?this.matches(e)?this:this.parentElement?this.parentElement.closest(e):this.parentNode?this.parentNode.closest(e):null:null},t.modules.mapUtils={init:function(){},toggleElements:function(e){var a=o(e),t=function(t){return function(){a.forEach(function(e){e.classList[t]("hidden")})}};return{show:t("remove"),hide:t("add")}},toggleClass:function(e,a){var s=o(e),t=function(t){return function(){s.forEach(function(e){e.classList[t](a)})}};return{remove:t("remove"),add:t("add")}},addClass:function(e,t){o(e).forEach(function(e){e.classList.add(t)})},createVocab:function(e){var a=o(e);return{set:function(e){var t;t=e,a.forEach(function(e){e.innerHTML=t})}}},createDynamicVocab:function(e){var s=o(e),i=s[0].innerHTML;return{set:function(e){"object"==typeof e&&function(e){var t=i;for(var a in e)t=t.replace(a,e[a]);s.forEach(function(e){e.innerHTML=t})}(e)}}},onClick:function(e,t){o(e).forEach(function(e){e.addEventListener("click",t)})},toArray:s,getUrlParam:function(e){var t=new RegExp("[?&]"+e+"=([^&#]*)").exec(window.location.href);return t&&t[1]||!1},getElements:o,getBoundAroundPoint:function(e,t){var a=n(e,0,t).lat,s=n(e,180,t).lat,i=n(e,90,t).lng;return[[n(e,270,t).lng,s],[i,a]]},isMobile:i()<768,isTablet:i()<1025}}(jQuery,travel),function(a,e){if("book"===e.opts.page)return;var s={lat:e.opts.map_params.lat,lng:e.opts.map_params.long},i=Math.floor(e.opts.theme/100);function t(e){e||(e={});var t={container:"mapbox",zoom:12.5,minZoom:1,maxZoom:20,center:[s.lng,s.lat],style:"/map-styles/"+i+"/map-style.json",attributionControl:!1,bearing:0,transformRequest:function(e,t){var a=e;return"Tile"===t&&-1!==e.indexOf("/maps-data/data/v3/")?a=location.origin+e:"SpriteJSON"!==t&&"SpriteImage"!==t||-1===e.indexOf("/maps-data/mapboxgl/sprite")||(a=e.replace("https://",location.origin+"/")),{url:a}}};this.mapParams=a.extend(t,e)}t.prototype.init=function(){return this.map=new mapboxgl.Map(this.mapParams),this.map.dragRotate.disable(),this.map.touchZoomRotate.disableRotation(),this.map.addControl(new mapboxgl.NavigationControl({showCompass:!1}),"bottom-right"),this.map},t.prototype.addMarker=function(e,t){var a=this.map,s=t.cloneNode(!0);return s.dataset.id=e.properties.id,new mapboxgl.Marker(s,{anchor:"bottom"}).setLngLat(e.geometry.coordinates).addTo(a)},t.prototype.addMarkers=function(e,a){var s=[],i=this;return e.features.forEach(function(e){var t=i.addMarker(e,a);s.push(t)}),s},t.prototype.flyTo=function(e){return this.map.flyTo(e)},e.modules.mapboxProvider={create:function(e){return new t(e)}}}(jQuery,travel),function(d,p){if("hotel"!==travel.opts.type&&"destination"!==travel.opts.type||"book"===travel.opts.page)return;var m=Math.floor(p.opts.theme/100),u={},h={lat:travel.opts.map_params.lat,lng:travel.opts.map_params.long},a={landmark:1,restaurant:1},f=16.4;switch(m){case 3:var g=15;break;case 5:case 9:g=12}var v={currentMap:"",landmarkData:[],restaurantData:[]};function s(e){e||(e={});var t={container:"mapbox",zoom:10,minZoom:5,maxZoom:20,center:[h.lng,h.lat],style:"/map-styles/"+m+"/map-style.json",pitch:10,bearing:0,attributionControl:!1,transformRequest:function(e,t){var a=e;return"Tile"===t&&-1!==e.indexOf("/maps-data/data/v3/")?a=location.origin+e:"SpriteJSON"!==t&&"SpriteImage"!==t||-1===e.indexOf("/maps-data/mapboxgl/sprite")||(a=e.replace("https://",location.origin+"/")),{url:a}}},a=d.extend(t,e),s=new mapboxgl.Map(a);return s.on("load",function(){d(".mapboxgl-ctrl-logo").remove()}),s}function e(e){if(!d("#"+e.container).length)return!1;u.destinationSmallMap=s(e)}function t(e){if(!d("#small-mapbox").length)return!1;if(e&&u.svSmallMap)return u.svSmallMap.resize(),!1;u.svSmallMap=s({container:"small-mapbox",zoom:10,interactive:!1});var t=document.createElement("div");t.className="hotel-marker",t.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" width="30" height="42" viewBox="0 0 30 42"><g fill="#242C4A" fill-rule="nonzero" stroke="#FFF"><path d="M13.791 0h0C6.186 0 0 6.313 0 14.072c0 4.689 2.188 10.426 6.504 17.05 3.169 4.865 6.29 8.345 6.421 8.49.223.247.537.388.866.388.329 0 .643-.14.865-.388.132-.145 3.253-3.625 6.421-8.49 4.316-6.624 6.505-12.361 6.505-17.05C27.582 6.312 21.395 0 13.79 0z" transform="translate(-321 -951) translate(322 952)"/></g><path fill="#FFF" d="M19.885 22.885L16.477 22.885 16.477 16.948 11.428 16.948 11.428 22.885 8 22.885 8 8.667 11.428 8.667 11.428 14.311 16.477 14.311 16.477 8.667 19.885 8.667z" transform="translate(-321 -951) translate(322 952)"/></svg>',new mapboxgl.Marker({anchor:"bottom",element:t}).setLngLat([h.lng,h.lat]).addTo(u.svSmallMap)}function i(e){d(e).find(".js-tags-list").each(function(e,t){var a=0,s="",i=0,o=d(t).next(),n=d(t).innerWidth();d(t).find(".js-tag-item").each(function(e,t){a+=d(t).innerWidth(),n<a&&(i++,s+="<li>"+d(t).context.innerText+"</li>")}),(a<=n||0===n)&&d(t).parent().addClass("is-empty"),d(o).find(".js-tags-hover").prepend(s),d(o).find(".js-tags-count").prepend("+"+i)})}function o(e){if(!d("#mapbox-uk-small").length)return!1;if(e&&u.ukSmallMap)return u.ukSmallMap.resize(),!1;u.ukSmallMap=s({attributionControl:!1,zoom:14,center:[h.lng-.0055,h.lat-.001],container:"mapbox-uk-small"});var t=document.createElement("div");t.className="sm-marker-hotel",t.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 30 40"><path fill="#FFFFFF" d="M15,1.5c7.7,0,14,6.4,14,14.2c0,3.1-1,6-2.8,8.4l-10.3,14c-0.2,0.3-0.5,0.4-0.9,0.4c-0.3,0-0.7-0.2-0.9-0.4l-10.3-14C2,21.7,1,18.7,1,15.7C1,7.9,7.3,1.5,15,1.5z"/><path fill="#252D3A" d="M17,16.6h-4v4.6h-2.2v-11H13v4.5h4v-4.5h2.2v11H17V16.6z"/><path fill="#252D3A" stroke="#FFF" stroke-width="2" d="M15,1.5C7.3,1.5,1,7.9,1,15.7c0,3.1,1,6,2.8,8.4L14.1,38c0.2,0.3,0.5,0.4,0.9,0.4s0.7-0.2,0.9-0.4l10.3-13.9c1.8-2.5,2.8-5.4,2.8-8.4C29,7.9,22.7,1.5,15,1.5z M22.8,21.5c-1.9,2.5-4.7,3.9-7.8,3.9S9.1,24,7.2,21.5c-1.3-1.7-1.9-3.7-1.9-5.8c0-5.4,4.3-9.8,9.7-9.8c5.3,0,9.7,4.4,9.7,9.8C24.7,17.8,24,19.8,22.8,21.5L22.8,21.5z"/></svg>',new mapboxgl.Marker({element:t}).setLngLat([h.lng,h.lat]).addTo(u.ukSmallMap)}function n(){var e,t;u.ukMap=s({container:"mapbox-uk",zoom:17,pitch:60}),v.currentMap="ukMap",u.ukMap.addControl(new mapboxgl.NavigationControl,"top-right"),e="ukMap",(t=document.createElement("div")).className="marker-hotel",t.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" width="100%" height="100%" viewBox="0 0 59 77"><g fill="none" fill-rule="evenodd"><path fill="#FFF" fill-rule="nonzero" d="M28.393 0c15.655 0 28.393 12.96 28.393 28.71 0 6.234-1.96 12.157-5.667 17.126L30.139 74.12c-.411.554-1.06.88-1.746.88-.687 0-1.335-.326-1.747-.88L5.667 45.834C1.96 40.867 0 34.944 0 28.711 0 12.96 12.737 0 28.393 0z" transform="translate(1 1)"/><g fill="#252D3A"><path fill-rule="nonzero" stroke="#FFF" stroke-width="2" d="M28.393 0C12.737 0 0 12.96 0 28.71c0 6.234 1.96 12.157 5.667 17.124L26.646 74.12c.412.554 1.06.88 1.747.88s1.335-.326 1.747-.88l20.979-28.284c3.707-4.97 5.667-10.892 5.667-17.125C56.786 12.96 44.048 0 28.393 0zM44.13 40.56c-3.756 5.036-9.491 7.926-15.738 7.926-6.245 0-11.983-2.888-15.736-7.922-2.564-3.437-3.92-7.536-3.92-11.853 0-10.905 8.817-19.922 19.656-19.922 10.84 0 19.656 9.017 19.656 19.922 0 4.317-1.354 8.416-3.918 11.849z" transform="translate(1 1)"/> <path d="M32.496 30.624L24.304 30.624 24.304 40 19.92 40 19.92 17.6 24.304 17.6 24.304 26.72 32.496 26.72 32.496 17.6 36.88 17.6 36.88 40 32.496 40z" transform="translate(1 1)"/></g></g></svg>',new mapboxgl.Marker({anchor:"bottom",element:t}).setLngLat([h.lng,h.lat]).addTo(u[e]),d(".js-open-map").on("click",function(){setTimeout(function(){u.ukMap.resize(),d(".js-landmarks-slider-tab").hasClass("js-tags-inited")||(i(".js-landmarks-slider-tab"),d(".js-landmarks-slider-tab").addClass("js-tags-inited"))},100)}),d.when(c(),k()).then(function(e,t){e.length?(d(".js-map-note").css("display","flex"),t.length||d(".js-switch-item[data-tab=restaurants]").addClass("is-hidden"),d(".js-map-nav").removeClass("is-hidden"),b(d(".js-landmarks-slider-tab"))):t.length&&(d(".js-map-note").css("display","flex"),d(".js-switch-item[data-tab=places]").addClass("is-hidden"),d(".js-map-nav").removeClass("is-hidden"),d(".js-switch-item[data-tab=restaurants]").click()),e.length&&t.length&&d(".js-places-switch").removeClass("is-hidden-one-item")}),u.ukMap.on("load",function(){l(u.ukMap).then(function(e){r(u.ukMap,e)})}),j()}function r(e,t){t&&w("transport")}function l(h){return d.when(p.modules.transport.getRailData(),p.modules.transport.getAirportsData(),p.modules.transport.getNearbyData()).then(function(e,t,a){var s,i,r,o,l,n,c=(s=h,!!(i=e.railLines).length&&(s.addSource("railLines",{type:"geojson",data:{type:"FeatureCollection",features:i}}),s.addLayer({id:"railLines",type:"line",source:"railLines",layout:{visibility:"none","line-join":"round","line-cap":"round"},paint:{"line-color":["get","marker-color"],"line-width":{stops:[[10,1],[14,2]]}}}),!0)),d=function(l,e){{if(e.length){switch(m){case 3:e.forEach(function(e){var t=document.createElement("div");if(t.style.display="none","subway"===e.properties["transport-type"])t.className="marker marker--subway js-map-marker-transport "+e.properties["transport-type"],t.style.backgroundImage="url("+e.properties["marker-img"]+")";else{t.className="marker marker--train js-map-marker-transport "+e.properties["transport-type"],t.style.border="3px solid "+e.properties.linescolor;var a='<svg fill="'+e.properties.linescolor+'" xmlns="http://www.w3.org/2000/svg" width="12" height="14" viewBox="0 0 12 14"> <path d="M6 0C2.7 0 0 .368 0 2.947v7c0 1.4 1.2 2.58 2.625 2.58L1.5 13.631V14h9v-.368l-1.125-1.106C10.8 12.526 12 11.347 12 9.947v-7C12 .368 9.3 0 6 0zM2.625 11.053c-.6 0-1.125-.516-1.125-1.106 0-.59.525-1.105 1.125-1.105s1.125.516 1.125 1.105c0 .59-.525 1.106-1.125 1.106zM5.25 6.632H1.5V2.947h3.75v3.685zm4.125 4.42c-.6 0-1.125-.515-1.125-1.105s.525-1.105 1.125-1.105 1.125.516 1.125 1.105c0 .59-.525 1.106-1.125 1.106zm1.125-4.42H6.75V2.947h3.75v3.685z"/> </svg>';t.innerHTML=a}t.dataset.filter="transport";var s=e.properties.name,i='<span class="mapboxgl-popup-content__name">'+s+"</span>",o=e.properties.type?'<p class="mapboxgl-popup-content__type">'+e.properties.type+": </p>":"",n=e.properties.distance?'<span class="mapboxgl-popup-content__distance">'+e.properties.distance+"</span>":"",r=o+i+n;new mapboxgl.Marker({anchor:"center",element:t}).setLngLat(e.geometry.coordinates).setPopup(new mapboxgl.Popup({offset:15,className:"js-mapboxgl-transport-popup",maxWidth:"none"}).setHTML(r)).addTo(l)});break;case 5:e.forEach(function(e){var t=document.createElement("div");t.className="marker-station js-station-marker is-filtered "+e.properties["transport-type"],"subway"===e.properties["transport-type"]?t.setAttribute("style","background-image:url("+e.properties["marker-img"]+");"):t.setAttribute("style","background-image:url(/templates/hotel5/images/map-station-"+e.properties["transport-type"]+".svg);"),t.dataset.filter="transport";var a=e.properties.name,s='<span class="mapboxgl-popup-content__name">'+a+"</span>",i=e.properties.type?'<span class="mapboxgl-popup-content__type">'+e.properties.type+":</span>":"",o=e.properties.distance?'<span class="mapboxgl-popup-content__distance">'+e.properties.distance+"</span>":"",n=i+s+o;new mapboxgl.Marker({anchor:"center",element:t}).setLngLat(e.geometry.coordinates).setPopup(new mapboxgl.Popup({offset:15,className:"js-mapboxgl-transport-popup",maxWidth:"none"}).setHTML(n)).addTo(l)});break;case 9:e.forEach(function(e){var t=document.createElement("div");t.className="marker-station js-station-marker is-filtered "+e.properties["transport-type"],"subway"===e.properties["transport-type"]?t.setAttribute("style","background-image:url("+e.properties["marker-img"]+");"):t.setAttribute("style","background-image:url(/templates/hotel5/images/map-station-"+e.properties["transport-type"]+".svg);"),t.dataset.filter="transport";var a=e.properties.name,s='<span class="mapboxgl-popup-content__name">'+a+"</span>",i=e.properties.type?'<span class="mapboxgl-popup-content__type">'+e.properties.type+":</span>":"",o=e.properties.distance?'<span class="mapboxgl-popup-content__distance">'+e.properties.distance+"</span>":"",n=i+s+o;new mapboxgl.Marker({anchor:"center",element:t}).setLngLat(e.geometry.coordinates).setPopup(new mapboxgl.Popup({offset:15,className:"js-mapboxgl-transport-popup",maxWidth:"none"}).setHTML(n)).addTo(l)})}return!0}return!1}}(h,e.railStations),p=(r=h,!!(o=t).length&&(o.forEach(function(e,t){var a=document.createElement("div");switch(m){case 3:a.dataset.filterType="transport",a.innerHTML='<div data-coordinates="'+e.geometry.coordinates+'" data-transport-id="'+t+'" class="marker marker--small js-map-marker js-map-marker-transport" style="display: none"><div class="marker__item marker__item--pin marker__item--'+e.properties.TransportTypeName+'"><svg width="30px" height="40px" viewBox="0 0 38 50" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"> <g id="Hotel-page" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"> <g id="Top-100_Landmarks-Copy-5" transform="translate(-46.000000, -536.000000)" fill-rule="nonzero"> <g id="Aeroport" transform="translate(46.000000, 536.000000)"> <g id="placeholder-filled-point-(2)" fill="#242C4A"> <path d="M18.8035714,0 C8.68418367,0 0.450510204,8.23367347 0.450510204,18.3540816 C0.450510204,20.9938776 0.990816327,23.5142857 2.05561224,25.8459184 C6.64438776,35.8872449 15.4423469,46.4887755 18.030102,49.4984694 C18.2239796,49.7234694 18.5066327,49.8530612 18.8040816,49.8530612 C19.1015306,49.8530612 19.3841837,49.7234694 19.5780612,49.4984694 C22.1647959,46.4892857 30.9627551,35.8882653 35.5530612,25.8459184 C36.6183673,23.5142857 37.1581633,20.9938776 37.1581633,18.3540816 C37.1571429,8.23367347 28.9234694,0 18.8035714,0 Z" id="Shape"></path> </g> <g id="plane-(2)" transform="translate(11.000000, 12.000000)" fill="#FFFFFF"> <path d="M14.8245636,1.85330424 C15.0522943,1.16985037 15.0096883,0.643054863 14.6961845,0.272693267 C14.3259726,-0.0406234414 13.7990648,-0.08319202 13.1154613,0.144239401 C12.4319327,0.372082294 11.8195885,0.756508728 11.2783915,1.29759352 L9.56970075,3.00643392 L2.46781796,1.30840399 C2.35387781,1.27275561 2.24708229,1.30122195 2.14746883,1.39376559 L0.780374065,2.76078554 C0.702157107,2.83918953 0.670024938,2.93528678 0.684314214,3.04918953 C0.705673317,3.1632419 0.766234414,3.24856608 0.865885287,3.30557357 L6.29124688,6.28522444 L3.52511222,9.0513591 L1.4532419,8.48547382 C1.43902743,8.47829177 1.41063591,8.47470075 1.3678803,8.47470075 C1.26815461,8.47470075 1.18634663,8.50668329 1.12223192,8.57083541 L0.097032419,9.60669576 C0.0258478803,9.69194514 -0.00613466334,9.78100998 0.000972568579,9.8734788 C0.0151122195,9.98738155 0.0613840399,10.0693017 0.13978803,10.1192394 L2.83103491,12.137581 L4.84945137,14.8287531 C4.91356608,14.9072319 4.9990399,14.9532793 5.10583541,14.9677556 L5.12719451,14.9677556 C5.2269202,14.9677556 5.30872818,14.9357731 5.37284289,14.8717706 L6.39800499,13.8466833 C6.49054863,13.7468454 6.51905237,13.6364963 6.48351621,13.5154863 L5.91744389,11.443616 L8.68354115,8.67729426 L11.6633416,14.1029551 C11.705985,14.1955362 11.7807232,14.2524688 11.8875935,14.2738653 C11.9088404,14.28101 11.9337905,14.2844888 11.9623691,14.2844888 C12.0476185,14.2844888 12.1153616,14.2630923 12.1651496,14.2204489 L13.5324314,13.1952494 C13.6532544,13.0956359 13.69601,12.9782544 13.660586,12.8429551 L11.9518579,5.40987531 L13.6713217,3.69048628 C14.2122943,3.14917706 14.5967207,2.5367581 14.8245636,1.85330424 Z" id="Shape"></path> </g> </g> </g> </g> </svg></div></div>';break;case 5:case 9:a.innerHTML=e.properties.pinIcon,a.className="marker-airport js-airport-marker is-filtered "+e.properties.TransportTypeName,a.dataset.filter="transport"}var s=e.properties.Name?e.properties.Name:e.properties.NameEng,i='<span class="mapboxgl-popup-content__name">'+s+" </span>",o=e.properties.distance?'<span class="mapboxgl-popup-content__distance">'+e.properties.distance+"</span>":"",n=i+o;new mapboxgl.Marker({anchor:"center",element:a}).setLngLat(e.geometry.coordinates).setPopup(new mapboxgl.Popup({offset:30,className:"js-mapboxgl-transport-popup",maxWidth:"none"}).setHTML(n)).addTo(r)}),!0)),u=(l=h,!!(n=a).length&&(n.forEach(function(e){var t=document.createElement("div");t.className="marker-transport js-transport-marker is-filtered "+e.properties.TransportTypeName,t.innerHTML=e.properties.icon,t.dataset.filter="transport";var a=e.properties.Name?e.properties.Name:e.properties.NameEng,s='<span class="mapboxgl-popup-content__name">'+a+"</span>",i=e.properties.distance?'<span class="mapboxgl-popup-content__distance">'+e.properties.distance+"</span>":"",o=e.properties.TransportTypeName?'<span class="mapboxgl-popup-content__type">'+e.properties.TransportTypeName+":</span>":"",n=o+s+i;new mapboxgl.Marker({anchor:"bottom",element:t}).setLngLat(e.geometry.coordinates).setPopup(new mapboxgl.Popup({offset:30,className:"js-mapboxgl-transport-popup",maxWidth:"none"}).setHTML(n)).addTo(l)}),!0));return!!(c||d||p||u)})}function c(e){var t=e||d.Deferred();if(v.landmarkData.length)v.getLandmarks=!0,y(v.landmarkData,v.landmarkName),t.resolve(v.landmarkData);else{if(!(a.landmark<=3))return t.resolve(v.landmarkData),!1;setTimeout(function(){a.landmark++,c(t)},1e3)}return t}function k(e){var t=e||d.Deferred();if(v.restaurantData.length)v.getRestaurants=!0,y(v.restaurantData,v.restaurantName),t.resolve(v.restaurantData);else{if(!(a.restaurant<=3))return t.resolve(v.restaurantData),!1;setTimeout(function(){a.restaurant++,k(t)},1e3)}return t}function y(e,n){var t=e.map(function(e,t){switch(e.coordinates=[e.GeoLong,e.GeoLat],e.cardMarkup={},e.cardMarkup.dataName=n,e.cardMarkup.id=n+t,e.cardMarkup.photoUrl=e.photoData.photoStub?"":e.photoData.url,e.cardMarkup.photoBg=e.photoData.photoStub?"":'style="background-image: url('+e.photoData.url+');"',e.cardMarkup.ratingMarkup=(e.rating&&e.rating.valid?e.rating.markup:"")+(e.priceData?e.priceData:"")+(e.typesData&&e.typesData.valid?e.typesData.markupType:""),e.cardMarkup.addressMarkup=e.adressData&&e.adressData.valid?e.adressData.markup:"",e.infoData&&(e.tagsData=e.infoData),m){case 3:var a=p.isMobile()?"marker marker--small":e.photoData.photoStub?"marker marker--no-photo":"marker";"landmark"===n?(e.cardMarkup.pinIcon='<svg class="pin-icon" width="30px" height="40px" viewBox="0 0 30 40" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"> <g id="Hotel-page" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"> <g id="Top-100_Landmarks-Copy-7" transform="translate(-964.000000, -156.000000)" fill-rule="nonzero"> <g id="Group-4-Copy-2" transform="translate(964.000000, 156.000000)"> <g id="placeholder-filled-point-(2)" fill="#3C6780"> <path d="M15.0428571,0 C6.94734694,0 0.360408163,6.58693878 0.360408163,14.6832653 C0.360408163,16.795102 0.792653061,18.8114286 1.6444898,20.6767347 C5.3155102,28.7097959 12.3538776,37.1910204 14.4240816,39.5987755 C14.5791837,39.7787755 14.8053061,39.882449 15.0432653,39.882449 C15.2812245,39.882449 15.5073469,39.7787755 15.662449,39.5987755 C17.7318367,37.1914286 24.7702041,28.7106122 28.442449,20.6767347 C29.2946939,18.8114286 29.7265306,16.795102 29.7265306,14.6832653 C29.7257143,6.58693878 23.1387755,0 15.0428571,0 Z" id="Shape"></path> </g> <g id="photo-(2)" transform="translate(8.000000, 8.000000)" fill="#FFFFFF"> <path d="M8.46319509,5.48663558 C9.16537914,6.18881963 9.16537914,7.32727362 8.46319509,8.02945767 C7.76101104,8.73164172 6.62255706,8.73164172 5.92037301,8.02945767 C5.21818896,7.32727362 5.21818896,6.18881963 5.92037301,5.48663558 C6.62255706,4.78445153 7.76101104,4.78445153 8.46319509,5.48663558" id="Shape"></path> <path d="M12.5859239,1.81342822 L11.3436074,1.81342822 L10.4441521,0.0153717791 L3.93894479,0.0153717791 L3.04034356,1.81431166 L1.79979387,1.81652025 C0.81078773,1.81828712 0.00568343558,2.6242454 0.00482944785,3.61369325 L0,10.8032393 C0,11.7948957 0.8064,12.6017374 1.79805644,12.6017374 L12.5859239,12.6017374 C13.5775804,12.6017374 14.3839804,11.7953374 14.3839804,10.803681 L14.3839804,3.61145521 C14.3839509,2.61982822 13.5775509,1.81342822 12.5859239,1.81342822 Z M7.1917546,10.3541595 C5.20888344,10.3541595 3.59564172,8.74091779 3.59564172,6.75804663 C3.59564172,4.77517546 5.20888344,3.16193374 7.1917546,3.16193374 C9.17462577,3.16193374 10.7878675,4.77517546 10.7878675,6.75804663 C10.7878675,8.74091779 9.17462577,10.3541595 7.1917546,10.3541595 Z" id="Shape"></path> </g> </g> </g> </g> </svg>',e.cardMarkup.typeIcon='<svg class="type-icon" xmlns="http://www.w3.org/2000/svg" width="18" height="16" viewBox="0 0 18 16"><g fill="#3C6780"><path d="M10.579 6.858c.878.878.878 2.301 0 3.179-.878.878-2.3.878-3.179 0-.877-.878-.877-2.301 0-3.179.878-.877 2.301-.877 3.179 0"/><path d="M15.732 2.267H14.18L13.055.019H4.924L3.8 2.268l-1.55.003C1.013 2.273.007 3.28.006 4.517L0 13.504c0 1.24 1.008 2.248 2.248 2.248h13.484c1.24 0 2.248-1.008 2.248-2.247v-8.99c0-1.24-1.008-2.248-2.248-2.248zM8.99 12.943c-2.479 0-4.495-2.017-4.495-4.495 0-2.479 2.016-4.496 4.495-4.496 2.478 0 4.495 2.017 4.495 4.496 0 2.478-2.017 4.495-4.495 4.495z"/></g></svg>'):"restaurant"===n&&(e.cardMarkup.pinIcon='<svg class="pin-icon" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="30px" height="40px" viewBox="0 0 30 40" version="1.1"> <g id="Hotel-page" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"> <g id="Top-100_Landmarks-Copy-7" transform="translate(-997.000000, -105.000000)" fill-rule="nonzero"> <g id="Group-7-Copy" transform="translate(997.000000, 105.000000)"> <g id="placeholder-filled-point-(2)" fill="#F68059"> <path d="M15.0428571,0 C6.94734694,0 0.360408163,6.58693878 0.360408163,14.6832653 C0.360408163,16.795102 0.792653061,18.8114286 1.6444898,20.6767347 C5.3155102,28.7097959 12.3538776,37.1910204 14.4240816,39.5987755 C14.5791837,39.7787755 14.8053061,39.882449 15.0432653,39.882449 C15.2812245,39.882449 15.5073469,39.7787755 15.662449,39.5987755 C17.7318367,37.1914286 24.7702041,28.7106122 28.442449,20.6767347 C29.2946939,18.8114286 29.7265306,16.795102 29.7265306,14.6832653 C29.7257143,6.58693878 23.1387755,0 15.0428571,0 Z" id="Shape"/> </g> <g id="dinner-(8)" transform="translate(8.000000, 9.600000)" fill="#FFFFFF"> <circle id="XMLID_219_" transform="translate(6.737819, 6.010788) rotate(-22.514113) translate(-6.737819, -6.010788) " cx="6.73781858" cy="6.01078778" r="2.7060852"/> <path d="M10.1327344,3.234375 L10.1327344,1.546875 C9.188775,0.8267625 8.01087187,0.3983625 6.73467187,0.3983625 C5.24410312,0.3983625 3.88752187,0.982490625 2.88135,1.93362188 L2.88135,4.60040625 C2.88135,5.06877187 2.69226562,5.49368437 2.38660312,5.80322812 L2.38660312,9.55859063 C3.41687812,10.8193219 4.9833,11.6256656 6.73467187,11.6256656 C8.47791562,11.6256656 10.0380656,10.8269156 11.0685094,9.57619687 L11.0685094,5.02273125 C10.50345,4.628475 10.1327344,3.9740625 10.1327344,3.234375 Z M6.73467187,9.56123438 C4.77762187,9.56123438 3.18546562,7.96907813 3.18546562,6.01202813 C3.18546562,4.05497813 4.77762187,2.46282187 6.73467187,2.46282187 C8.69169375,2.46282187 10.28385,4.05497813 10.28385,6.01202813 C10.28385,7.96907813 8.69169375,9.56123438 6.73467187,9.56123438 Z" id="XMLID_275_"/> <path d="M0,6.3135 L0,10.6101844 C0,11.0355469 0.346078125,11.381625 0.771440625,11.381625 C1.19680312,11.381625 1.54288125,11.0355469 1.54288125,10.6101844 L1.54288125,6.27173438 C1.422225,6.2987625 1.29695625,6.3135 1.16828437,6.3135 L0,6.3135 Z" id="XMLID_279_"/> <path d="M0.321975,0.008971875 L0,0.008971875 L0,5.46975 L1.16825625,5.46975 C1.64761875,5.46975 2.0376,5.07976875 2.0376,4.60040625 L2.0376,1.72459688 C2.0376,0.778584375 1.2679875,0.008971875 0.321975,0.008971875 Z" id="XMLID_289_"/> <path d="M12.3124219,5.4140625 C12.1756781,5.4140625 12.0420562,5.40081563 11.9122312,5.3766 L11.9122312,10.6101844 C11.9122312,11.0355469 12.2583094,11.381625 12.6837,11.381625 C13.1090625,11.381625 13.4551406,11.0355469 13.4551406,10.6101844 L13.4551406,5.3766 C13.3253156,5.4007875 13.1916937,5.4140625 13.05495,5.4140625 L12.3124219,5.4140625 Z" id="XMLID_290_"/> <path d="M10.9764844,3.234375 C10.9764844,3.97099687 11.5758,4.5703125 12.3124219,4.5703125 L13.05495,4.5703125 C13.7915719,4.5703125 14.3908875,3.97099687 14.3908875,3.234375 L14.3908875,0.5794875 L13.5471375,0.5794875 L13.5471375,2.27635312 L13.1057719,2.27635312 L13.1057719,0.5794875 L12.2620219,0.5794875 L12.2620219,2.27635312 L11.8202344,2.27635312 L11.8202344,0.5794875 L10.9764844,0.5794875 L10.9764844,3.234375 Z" id="XMLID_301_"/> </g> </g> </g> </g> </svg>',e.cardMarkup.typeIcon='<svg class="type-icon" xmlns="http://www.w3.org/2000/svg" width="18" height="15" viewBox="0 0 18 15"><g fill="#F68059"><circle cx="8.422" cy="7.513" r="3.383" transform="rotate(-22.514 8.422 7.513)"/><path d="M12.666 4.043v-2.11c-1.18-.9-2.652-1.435-4.248-1.435-1.863 0-3.559.73-4.816 1.919v3.334c0 .585-.237 1.116-.619 1.503v4.694c1.288 1.576 3.246 2.584 5.435 2.584 2.18 0 4.13-.998 5.418-2.562V6.278c-.707-.492-1.17-1.31-1.17-2.235zm-4.248 7.909c-2.446 0-4.436-1.99-4.436-4.437 0-2.446 1.99-4.436 4.436-4.436 2.447 0 4.437 1.99 4.437 4.436 0 2.446-1.99 4.437-4.437 4.437zM0 7.892v5.37c0 .532.433.965.964.965.532 0 .965-.433.965-.964V7.84c-.151.033-.308.052-.469.052H0zM.402.011H0v6.826h1.46c.6 0 1.087-.487 1.087-1.086V2.156C2.547.973 1.585.01.402.01zM15.39 6.768c-.17 0-.337-.017-.5-.047v6.542c0 .531.433.964.965.964.531 0 .964-.433.964-.964V6.72c-.162.03-.33.047-.5.047h-.928zM13.72 4.043c0 .92.75 1.67 1.67 1.67h.929c.92 0 1.67-.75 1.67-1.67V.724h-1.055v2.121h-.552V.725h-1.054v2.12h-.553V.725h-1.054v3.318z"/></g></svg>'),e.cardMarkup.photoUrlEmpty=e.photoData.photoStub?e.cardMarkup.typeIcon:"",e.cardMarkup.nameClass=e.Name?"":"is-rtl";var s='<div class="marker__item marker__item--pin marker__item--'+n+'">'+e.cardMarkup.pinIcon+"</div>",i='<div class="marker__item marker__item--card marker__item--'+n+'" '+e.cardMarkup.photoBg+">"+e.cardMarkup.typeIcon+"</div>";e.markup='<div data-coordinates="'+e.coordinates+'" data-'+n+'-id="'+n+t+'" class="'+a+" js-map-marker js-map-marker-"+n+'">'+i+s+"</div>";break;case 5:"landmark"===n?e.cardMarkup.typeIcon='<svg class="pin-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 18 15"> <g> <path d="M10.178 6.47c.845.827.845 2.17 0 2.997-.844.828-2.213.828-3.058 0-.844-.828-.844-2.17 0-2.998.845-.828 2.214-.828 3.058 0"/> <path d="M15.137 2.138h-1.495L12.561.018H4.737L3.657 2.14l-1.492.003C.975 2.144.007 3.094.005 4.26L0 12.738c0 1.17.97 2.12 2.162 2.12h12.975c1.192 0 2.162-.95 2.162-2.12v-8.48c0-1.169-.97-2.12-2.162-2.12zm-6.488 10.07c-2.385 0-4.325-1.902-4.325-4.24s1.94-4.24 4.325-4.24c2.385 0 4.325 1.902 4.325 4.24s-1.94 4.24-4.325 4.24z"/> </g> </svg>':"restaurant"===n&&(e.cardMarkup.typeIcon='<svg class="pin-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 14 14"> <g> <path d="M3.691 0c-.226 0-.41.183-.41.41v2.871h-.82V.411C2.46.182 2.277 0 2.05 0c-.227 0-.41.183-.41.41v2.871H.82V.411C.82.182.636 0 .41 0 .182 0 0 .183 0 .41v4.102C0 5.19.552 5.77 1.23 5.77h1.641c.679 0 1.23-.58 1.23-1.258V.41c0-.227-.183-.41-.41-.41zM9.898 8.64V4.686 4.68c-.676-.846-1.732-1.4-2.898-1.4-.746 0-1.48.221-2.078.623v.608c0 .839-.508 1.587-1.23 1.904v2.24C4.3 9.858 5.561 10.69 7 10.69c1.23 0 2.342-.61 3.013-1.539-.072-.156-.115-.328-.115-.511z"/> <path d="M11.129 9.871c-.19 0-.369-.047-.53-.125-.826 1.071-2.145 1.766-3.599 1.766-1.293 0-2.485-.55-3.309-1.425v2.138c.95.602 2.101.955 3.309.955 1.785 0 3.415-.793 4.54-2.007V9.87h-.411zM7 .82c-.72 0-1.436.13-2.078.358v1.775c.624-.32 1.35-.492 2.078-.492 1.143 0 2.212.43 3.008 1.134.107-.58.286-1.139.546-1.66C9.554 1.236 8.313.82 7 .82z"/> <path d="M13.783.048c-.132-.07-.294-.063-.42.02-1.871 1.248-2.644 2.86-2.644 4.617V8.64c0 .226.183.41.41.41h1.23v4.129c0 .453.368.82.82.82.454 0 .821-.367.821-.82V.41c0-.151-.083-.29-.217-.362zM1.23 6.59v6.59c0 .453.368.82.82.82.454 0 .821-.367.821-.82V6.59h-1.64z"/> </g> </svg>'),e.cardMarkup.photoUrlEmpty=e.photoData.photoStub?e.cardMarkup.typeIcon:"",e.markup='<div class="js-map-marker js-map-marker-'+e.cardMarkup.dataName+' marker" data-slide="'+t+++'" data-long="'+e.GeoLong+'" data-lat="'+e.GeoLat+'" data-filter="'+e.cardMarkup.dataName+'"><div class="marker__item marker__item--'+e.cardMarkup.dataName+'"></div></div>';break;case 9:"landmark"===n?(e.cardMarkup.typeIcon='<svg class="pin-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 18 15"> <g> <path d="M10.178 6.47c.845.827.845 2.17 0 2.997-.844.828-2.213.828-3.058 0-.844-.828-.844-2.17 0-2.998.845-.828 2.214-.828 3.058 0"/> <path d="M15.137 2.138h-1.495L12.561.018H4.737L3.657 2.14l-1.492.003C.975 2.144.007 3.094.005 4.26L0 12.738c0 1.17.97 2.12 2.162 2.12h12.975c1.192 0 2.162-.95 2.162-2.12v-8.48c0-1.169-.97-2.12-2.162-2.12zm-6.488 10.07c-2.385 0-4.325-1.902-4.325-4.24s1.94-4.24 4.325-4.24c2.385 0 4.325 1.902 4.325 4.24s-1.94 4.24-4.325 4.24z"/> </g> </svg>',e.cardMarkup.pinIcon='<svg class="pin-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 30 36"><g> <path stroke="#FFF" d="M13.945 0C6.255 0 0 6.256 0 13.945c0 6.2 4.085 11.635 9.99 13.376l3.064 6.128c.169.338.514.551.891.551s.722-.213.891-.55l3.064-6.128c5.905-1.741 9.99-7.177 9.99-13.377C27.89 6.255 21.636 0 13.946 0z" transform="translate(1 1)"/> <g fill="#FFF"> <path d="M7.69 4.888c.638.625.638 1.64 0 2.265-.638.626-1.672.626-2.31 0-.638-.625-.638-1.64 0-2.265.638-.626 1.672-.626 2.31 0" transform="translate(1 1) translate(7.933 7.933)"/> <path fill="#FFF" d="M11.436 1.616h-1.128L9.49.014H3.58l-.817 1.602-1.128.002c-.898.002-1.63.72-1.63 1.601L0 9.624c0 .884.733 1.602 1.634 1.602h9.802c.902 0 1.634-.718 1.634-1.601V3.217c0-.883-.732-1.601-1.634-1.601zM6.535 9.224c-1.802 0-3.268-1.437-3.268-3.204 0-1.766 1.466-3.203 3.268-3.203 1.802 0 3.268 1.437 3.268 3.203 0 1.767-1.466 3.204-3.268 3.204z" transform="translate(1 1) translate(7.933 7.933)"/> </g> </g> </svg>'):"restaurant"===n&&(e.cardMarkup.typeIcon='<svg class="pin-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 14 14"> <g> <path d="M3.691 0c-.226 0-.41.183-.41.41v2.871h-.82V.411C2.46.182 2.277 0 2.05 0c-.227 0-.41.183-.41.41v2.871H.82V.411C.82.182.636 0 .41 0 .182 0 0 .183 0 .41v4.102C0 5.19.552 5.77 1.23 5.77h1.641c.679 0 1.23-.58 1.23-1.258V.41c0-.227-.183-.41-.41-.41zM9.898 8.64V4.686 4.68c-.676-.846-1.732-1.4-2.898-1.4-.746 0-1.48.221-2.078.623v.608c0 .839-.508 1.587-1.23 1.904v2.24C4.3 9.858 5.561 10.69 7 10.69c1.23 0 2.342-.61 3.013-1.539-.072-.156-.115-.328-.115-.511z"/> <path d="M11.129 9.871c-.19 0-.369-.047-.53-.125-.826 1.071-2.145 1.766-3.599 1.766-1.293 0-2.485-.55-3.309-1.425v2.138c.95.602 2.101.955 3.309.955 1.785 0 3.415-.793 4.54-2.007V9.87h-.411zM7 .82c-.72 0-1.436.13-2.078.358v1.775c.624-.32 1.35-.492 2.078-.492 1.143 0 2.212.43 3.008 1.134.107-.58.286-1.139.546-1.66C9.554 1.236 8.313.82 7 .82z"/> <path d="M13.783.048c-.132-.07-.294-.063-.42.02-1.871 1.248-2.644 2.86-2.644 4.617V8.64c0 .226.183.41.41.41h1.23v4.129c0 .453.368.82.82.82.454 0 .821-.367.821-.82V.41c0-.151-.083-.29-.217-.362zM1.23 6.59v6.59c0 .453.368.82.82.82.454 0 .821-.367.821-.82V6.59h-1.64z"/> </g> </svg>',e.cardMarkup.pinIcon='<svg class="pin-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 30 36"> <g> <path stroke="#FFF" d="M13.945 0C6.255 0 0 6.256 0 13.945c0 6.2 4.085 11.635 9.99 13.376l3.064 6.128c.169.338.514.551.891.551s.722-.213.891-.55l3.064-6.128c5.905-1.741 9.99-7.177 9.99-13.377C27.89 6.255 21.636 0 13.946 0z" transform="translate(1 1)"/> <g fill="#FFF"> <path d="M3.287 0c-.202 0-.365.163-.365.365v2.557h-.73V.365C2.191.163 2.027 0 1.825 0c-.202 0-.365.163-.365.365v2.557H.73V.365C.73.163.566 0 .364 0 .163 0 0 .163 0 .365v3.653c0 .604.492 1.12 1.096 1.12h1.46c.605 0 1.096-.516 1.096-1.12V.365C3.652.163 3.49 0 3.287 0zM8.814 7.694V4.172v-.003c-.602-.754-1.543-1.247-2.58-1.247-.665 0-1.319.197-1.851.555v.54c0 .748-.452 1.414-1.096 1.696v1.995C3.83 8.778 4.953 9.52 6.233 9.52c1.096 0 2.086-.544 2.684-1.37-.065-.14-.103-.293-.103-.456z" transform="translate(1 1) translate(7.933 7.933)"/> <path d="M9.91 8.79c-.17 0-.328-.042-.472-.111-.735.954-1.91 1.572-3.205 1.572-1.151 0-2.213-.49-2.946-1.269v1.904c.846.536 1.87.85 2.946.85 1.59 0 3.041-.705 4.042-1.787V8.79H9.91zM6.233.73c-.641 0-1.278.116-1.85.319v1.58c.556-.284 1.201-.438 1.85-.438 1.018 0 1.97.384 2.68 1.01.094-.516.253-1.014.485-1.477C8.508 1.1 7.403.73 6.233.73z" transform="translate(1 1) translate(7.933 7.933)"/> <path d="M12.274.043c-.118-.063-.263-.056-.375.018-1.666 1.11-2.354 2.546-2.354 4.11v3.523c0 .202.163.366.365.366h1.096v3.676c0 .404.327.73.73.73.404 0 .73-.326.73-.73V.366c0-.136-.074-.26-.192-.323zM1.096 5.868v5.868c0 .404.327.73.73.73.404 0 .73-.326.73-.73V5.868h-1.46z" transform="translate(1 1) translate(7.933 7.933)"/> </g> </g> </svg>'),e.cardMarkup.photoUrlEmpty=e.photoData.photoStub?e.cardMarkup.typeIcon:"",e.cardMarkup.nameClass=e.Name?"":"is-rtl",e.cardMarkup.distance=e.distance;s='<div class="marker__pin marker-pin">'+e.cardMarkup.pinIcon+"</div>",i=p.isMobile()?"":'<div class="marker__card js-marker-card marker-card"><div class="marker-card__image" '+e.cardMarkup.photoBg+">"+e.cardMarkup.photoUrlEmpty+'</div><div class="marker-card__info"><p class="marker-card__title '+e.cardMarkup.nameClass+'">'+e.nameData+"</p>"+e.cardMarkup.typeIcon+'</div><div class="marker-card__body"><div class="marker-card__rating">'+e.cardMarkup.ratingMarkup+'</div><div class="marker-card__address">'+e.cardMarkup.addressMarkup+'</div><p class="marker-card__distance">'+e.cardMarkup.distance+'</p><div class="marker-card__tags">'+e.tagsData.markup+"</div></div></div>";e.markup='<div class="marker marker--'+e.cardMarkup.dataName+" js-map-marker js-map-marker-"+e.cardMarkup.dataName+'" data-id='+e.cardMarkup.id+' data-filter="'+e.cardMarkup.dataName+'" data-lat="'+e.GeoLat+'" data-long="'+e.GeoLong+'">'+s+i+"</div>"}var o=document.createElement("div");switch(m){case 3:o.setAttribute("data-filter-type",n)}return o.innerHTML=e.markup,new mapboxgl.Marker({anchor:"bottom",element:o}).setLngLat(e.coordinates).addTo(u[v.currentMap]),e});d(".js-map-marker").sort(function(e,t){var a=+d(e).attr("data-lat")<+d(t).attr("data-lat")?1:-1;return a}).each(function(e,t){d(t).parent().css("z-index",10+e).attr("data-zindex",10+e)}),function(e,n){var r="";switch(m){case 3:d(".js-map-filters").attr("data-opening-hours");var l='<span class="cuisine-types__title">'+d(".js-map-filters").attr("data-cuisine")+" </span>";e.forEach(function(e,t){var a='<div class="filter-item__image" '+e.cardMarkup.photoBg+">"+e.cardMarkup.photoUrlEmpty+"</div>",s=(e.workTime&&e.workTime.valid&&e.workTime.markup,e.TypeNames.split("|").length),i=e.typesData&&e.typesData.valid&&1<s?'<p class="single-card__cuisine-types single-card__info-item cuisine-types">'+l+e.typesData.markupTypes+"</p>":"";if("landmark"===n){var o=e.TagNames.split("|")[0];r+="<div data-"+n+'-id="'+n+t+'" class="map-filter__filter-item filter-item filter-item--landmark js-map-filter-item"><div class="filter-item__photo">'+a+'<h3 class="filter-item__title '+e.cardMarkup.nameClass+'">'+e.nameData+'</h3><p class="filter-item__distance">'+e.distance+'</p></div><div class="filter-item__info"><div class="filter-item__tag">'+o+'</div></div><div class="js-single-card" style="display: none"><div class="filter-item__single-card single-card">'+a+'<div class="single-card__content js-map-card-swipe"><h3 class="single-card__title">'+e.nameData+'</h3><p class="single-card__distance">'+e.distance+'</p><div class="single-card__info"><p class="single-card__address single-card__info-item">'+e.cardMarkup.addressMarkup+'</p></div><div class="single-card__description single-card__description--landmark">'+e.infoData.markup+"</div></div></div></div></div>"}else r+="<div data-"+n+'-id="'+n+t+'" class="map-filter__filter-item filter-item filter-item--restaurant js-map-filter-item"><div class="filter-item__photo">'+a+'<h3 class="filter-item__title '+e.cardMarkup.nameClass+'">'+e.nameData+'</h3><p class="filter-item__distance">'+e.distance+'</p></div><div class="filter-item__info">'+e.rating.markup+e.priceData+e.typesData.markupType+'</div><div class="js-single-card" style="display: none"><div class="filter-item__single-card single-card">'+a+'<div class="single-card__content js-map-card-swipe"><h3 class="single-card__title">'+e.nameData+'</h3><p class="single-card__distance">'+e.distance+'</p><div class="single-card__restaurant-info">'+e.rating.markup+e.priceData+e.typesData.markupType+'</div><div class="single-card__info">'+i+'<p class="single-card__address single-card__info-item restaurants-address">'+e.cardMarkup.addressMarkup+'</p></div><div class="single-card__description single-card__description--restaurant">'+e.tagsData.markup+"</div></div></div></div></div>"}),d('[data-filter-type="'+n+'"]').find(".js-map-filter-dropdown").append(r),w(n);break;case 5:;e.forEach(function(e){r+=function(e,t){var a="",s=e.TagNames.split("|");5<s.length&&(s=s.slice(0,5));return s.forEach(function(e){0<e.length&&(a+='<div class="place-tags__item js-tag-item">'+e+"</div>")}),e.nameData=(i=e.nameData,n=40,d(window).width()<=370&&(n=35),i.length>=n?(i=i.substring(0,n),o=i.lastIndexOf(" "),i.substring(0,o)+"..."):i),'<div class="places-slider__item js-slider-item" data-item-type="'+t+'"><div class="place place--'+t+'"><div class="place-img'+(e.cardMarkup.photoUrlEmpty?" without-photo":"")+'" '+e.cardMarkup.photoBg+">"+e.cardMarkup.photoUrlEmpty+'\x3c!--<div class="place-img__status">Popular</div>--\x3e</div><div class="place-description"><div class="place-description__top"><p class="place-description__title">'+e.nameData+'</p><div class="place-description-location"><svg class="place-description-location__icon" xmlns="http://www.w3.org/2000/svg" width="9" height="12" viewBox="0 0 9 12"><path fill="#333E50" fill-rule="nonzero" d="M4.5 0C2.019 0 0 1.95 0 4.346c0 2.974 4.027 7.34 4.199 7.524a.415.415 0 0 0 .602 0C4.973 11.686 9 7.32 9 4.346 9 1.95 6.981 0 4.5 0zm0 6.532c-1.248 0-2.264-.98-2.264-2.186S3.252 2.159 4.5 2.159c1.248 0 2.264.981 2.264 2.187S5.748 6.532 4.5 6.532z"></path></svg><p class="place-description-location__address">'+e.adressData.markup+'</p></div><div class="place-description__rating">'+e.cardMarkup.ratingMarkup+'</div><div class="place-tags"><div class="place-tags__list js-tags-list">'+a+'</div><div class="place-tags-count place-tags__count"><span class="place-tags-count__number js-tags-count"></span><ul class="place-tags-count__hover js-tags-hover"></ul></div></div></div><div class="place-description__bottom"><div class="place-description__walk-time">'+e.distance+"</div></div></div></div></div>";var i,o,n}(e,n),d(".js-"+n+"s-slider-tab").append(r),r=""});break;case 9:p.isMobile()&&(e.forEach(function(e){"landmark"===n?r+='<div class="map-cards__card js-map-card" data-id='+e.cardMarkup.id+' data-filter="'+e.cardMarkup.dataName+'"><div class="map-card map-card--'+n+'"><div class="map-card__image" '+e.cardMarkup.photoBg+">"+e.cardMarkup.photoUrlEmpty+'</div><div class="map-card__info"><p class="map-card__title">'+e.nameData+'</p><div class="map-card__tags">'+e.tagsData.markup+'</div><p class="map-card__distance">'+e.cardMarkup.distance+"</p></div></div></div>":"restaurant"===n&&(r+='<div class="map-cards__card js-map-card js-map-card-'+n+'" data-id='+e.cardMarkup.id+' data-filter="'+e.cardMarkup.dataName+'"><div class="map-card map-card--'+n+'"><div class="map-card__arrow js-map-card-btn"></div><div class="map-card__image" '+e.cardMarkup.photoBg+">"+e.cardMarkup.photoUrlEmpty+'</div><div class="map-card__info"><p class="map-card__title">'+e.nameData+'</p><div class="map-card__rating">'+e.cardMarkup.ratingMarkup+'</div><p class="map-card__distance">'+e.cardMarkup.distance+'</p></div><div class="map-card__body js-map-card-body"><div class="map-card__address">'+e.cardMarkup.addressMarkup+'</div><div class="map-card__tags">'+e.tagsData.markup+"</div></div></div></div>")}),d(".js-map-cards").append(r)),w(n)}}(t,n)}function w(e){switch(d('.js-map-filter[data-filter-type="'+e+'"]').addClass("is-active"),m){case 3:d(".js-map").addClass("is-enable-filter");break;case 5:C();break;case 9:d(".js-map-filters").addClass("is-active")}}function b(e){var t={slidesToShow:2,infinite:!1,variableWidth:!0,focusOnSelect:!0,accessibility:!1,rtl:!1,prevArrow:d(".js-arrow-prev"),nextArrow:d(".js-arrow-next"),responsive:[{breakpoint:920,settings:{slidesToShow:1}}]};"ar"!==travel.opts.lang&&"he"!==travel.opts.lang||(d(e).attr("dir","rtl"),t.rtl=!0),d(e).slick(t),"#map"===location.hash&&(d(e).hasClass("js-tags-inited")||(i(e),d(e).addClass("js-tags-inited")))}function j(){switch(function(e){e||(e=u[v.currentMap]);var t=u[v.currentMap].getZoom();u[v.currentMap].on("zoomend",function(){var e=u[v.currentMap].getZoom();if(e<f&&f<=t||p.isMobile()?d('.js-map-marker:not(".js-map-marker-transport")').addClass("marker--small"):f<e&&t<=f&&d('.js-map-marker:not(".js-map-marker-transport")').removeClass("marker--small"),e<g||p.isMobile())switch(m){case 3:d(".js-map-marker-transport").addClass("marker--small-station"),d(".js-transport-marker").addClass("marker-transport--small");break;case 5:case 9:d(".js-station-marker").addClass("marker-station--small"),d(".js-transport-marker").addClass("marker-transport--small")}else if(g<e&&t<=g)switch(m){case 3:d(".js-map-marker-transport").removeClass("marker--small-station"),d(".js-transport-marker").removeClass("marker-transport--small");break;case 5:case 9:d(".js-station-marker").removeClass("marker-station--small"),d(".js-transport-marker").removeClass("marker-transport--small")}t=e})}(),m){case 3:d("body").on("click",".js-map-filter-checkbox",function(){var e=d(this).closest(".js-map-filter"),t=e.attr("data-filter-type"),a=d(".js-map").find(".js-map-marker-"+t),s=d(".js-map").find('*[data-filter="'+t+'"]'),i=u[v.currentMap];e.hasClass("is-checked")?(s.addClass("is-filtered"),a.hide(),"transport"===t&&M("railLines","hide",i),x()):(s.removeClass("is-filtered"),a.show(),"transport"===t&&M("railLines","show",i)),e.toggleClass("is-checked")}),d("body").on("click",".js-map-filter-button",function(){var e=d(this).closest(".js-map-filter");e.hasClass("is-open")||d(".js-map-filter").removeClass("is-open"),e.toggleClass("is-open")}),d("body").on("click",".js-map-filter-item, .js-map-marker",function(){var e=d(this),t=e.closest("[data-filter-type]").attr("data-filter-type"),a=d('.js-map-filter[data-filter-type="'+t+'"]');if(e.hasClass("js-map-marker-transport"))var s=e.closest("[data-coordinates]").attr("data-coordinates").split(",");else var i=e.attr("data-"+t+"-id"),o=(s=d(".js-map-marker").closest("[data-"+t+'-id="'+i+'"]').attr("data-coordinates").split(","),d("[data-"+t+'-id="'+i+'"]')),n=d(".js-map-filter-item[data-"+t+'-id="'+i+'"]').find(".js-single-card").html(),r=d(".js-map-marker, .js-map-filter-item");if(a.hasClass("is-checked")&&u[v.currentMap].flyTo({center:s,essential:!0,zoom:17}),a.hasClass("is-checked")&&!e.hasClass("js-map-marker-transport")){d(".js-map").addClass("is-card-open"),r.parent().removeClass("is-click"),o.parent().addClass("is-click"),o.hasClass("is-active-card")||(r.removeClass("is-active-card"),o.addClass("is-active-card")),d(".js-map-card").html(n),p.isMobile()&&(d(".js-map-filters").removeClass("is-mobile-filter-swipe").css({top:"91%"}),e.hasClass("js-map-marker")&&d(".js-map-modal-card").addClass("is-mobile-card-swipe").css({top:"72%"}))}}),d("body").on("click",".js-map-card-back",function(){d(".js-map-marker").parent().removeClass("is-click"),d(".js-map").removeClass("is-card-open"),p.isMobile()&&(d(".js-map-filters").addClass("is-mobile-filter-swipe").css({top:"0"}),d(".js-map-modal-card").removeClass("is-mobile-card-swipe").css({top:"0"}))}),p.isMobile()?(_("filter",".js-map-filter-swipe",".js-map-filters","91%"),_("singleCard",".js-map-card-swipe",".js-map-modal-card","72%")):d("body").on({mouseenter:function(){var e=d(this),t=e.closest("[data-filter-type]").attr("data-filter-type"),a=e.attr("data-"+t+"-id"),s=d("[data-"+t+'-id="'+a+'"]');d('.js-map-filter[data-filter-type="'+t+'"]').hasClass("is-checked")&&s.addClass("is-hover").parent().css("z-index","200")},mouseleave:function(){var e=d(this),t=e.closest("[data-filter-type]").attr("data-filter-type"),a=e.attr("data-"+t+"-id"),s=d("[data-"+t+'-id="'+a+'"]'),i=d(".js-map-marker[data-"+t+'-id="'+a+'"]').parent().attr("data-zindex");d('.js-map-filter[data-filter-type="'+t+'"]').hasClass("is-checked")&&s.removeClass("is-hover").parent().css("z-index",i)}},".js-map-marker:not(js-map-marker-transport), .js-map-filter-item");break;case 5:var e=d(".js-map-btn"),t=d(".js-map-btn-mob"),a=d(".js-map-wrap"),s=d(".js-map-nav"),i=d(".js-places-block");u.ukMap.on("dragend",function(){p.isMobile()&&(s.addClass("is-hide"),i.hide(300)),function(){if(c)return;c=!0,setTimeout(l,3e3,o)}()}),u.ukMap.on("load",function(){d(".js-map-marker-landmark").addClass("is-active"),d(".js-map-marker").on("click",function(){var e=d(this),t=e.attr("data-filter"),a=e.data("slide");p.isMobile()&&(s.removeClass("is-hide"),i.show(300)),d(".js-map-marker").parent().removeClass("is-active"),e.parent().addClass("is-active"),d(".js-"+t+"s-slider-tab").slick("slickGoTo",a),d(".js-slider-item").removeClass("is-active"),d("[data-item-type="+t+"][data-slick-index="+a+"]").addClass("is-active")}),d(".js-slider-item").on("click",function(){var e=d(this),t=e.attr("data-item-type");d(".js-slider-item").removeClass("is-active"),e.addClass("is-active"),setTimeout(r,0,t)})}),d("body").on("click",".js-open-map",function(){d(".js-landmarks-slider-tab").hasClass("slick-initialized")&&d(".js-landmarks-slider-tab").slick("refresh")}),d(".js-map-btn").on("click",function(){a.toggleClass("is-hide-pins"),e.toggleClass("is-check"),p.isMobile()?!s.hasClass("is-hide")&&a.hasClass("is-hide-pins")&&(i.hide(300),s.addClass("is-hide")):(s.toggleClass("is-hide"),s.hasClass("is-hide")?i.hide(300):i.show(300))}),d(t).on("click",function(){i.show(300),s.removeClass("is-hide"),a.removeClass("is-hide-pins"),e.removeClass("is-check")}),d(".js-switch-item").on("click",function(){var e=d(this).attr("data-tab");d(this).hasClass("is-active")||(d(".js-switch-item").removeClass("is-active"),d(this).addClass("is-active"),"restaurants"===e?(d(".js-landmarks-slider-tab.slick-initialized").slick("unslick"),b(d(".js-restaurants-slider-tab")),n(d(".js-restaurants-slider-tab")),r("restaurant"),d(".js-map-marker-landmark").removeClass("is-active"),d(".js-map-marker-restaurant").addClass("is-active")):(d(".js-restaurants-slider-tab.slick-initialized").slick("unslick"),b(d(".js-landmarks-slider-tab")),n(d(".js-landmarks-slider-tab")),r("landmark"),d(".js-map-marker-landmark").addClass("is-active"),d(".js-map-marker-restaurant").removeClass("is-active")))});var o=[{insertTo:".js-places-switch",modifier:"first-step",content:d(".js-tooltip-info").data("first-step")},{insertTo:".js-slider-arrows",modifier:"second-step",content:d(".js-tooltip-info").data("second-step")}];function n(e){var t=d(e).find(".js-slider-item.is-active").attr("data-slick-index");t&&d(e).slick("slickGoTo",t)}function r(e){if(d(".js-slider-item[data-item-type="+e+"]").hasClass("is-active")){var t=d(".js-slider-item.is-active").attr("data-slick-index"),a=d(".js-map-marker-"+e+"[data-slide="+t+"]"),s=[];d(".js-map-marker").parent().removeClass("is-active"),a.parent().addClass("is-active"),s.push(a.attr("data-long"),a.attr("data-lat")-.002),u.ukMap.flyTo({center:s,zoom:u.ukMap.getZoom(),curve:0})}else u.ukMap.flyTo({center:[h.lng,h.lat]})}function l(i){var e=0;i.forEach(function(e,t){var a=t===i.length-1,s=0===t;d(e.insertTo).prepend('<div class="map-tooltip js-map-tooltip map-tooltip--'+e.modifier+(s?" is-active":"")+' "><p class="map-tooltip__content">'+e.content+'</p><div class="map-tooltip__btns"><div class="map-tooltip__btn map-tooltip__btn--skip js-skip-tooltip '+(a?"map-tooltip__btn--single":"")+'">'+(a?d(".js-tooltip-info").data("step-gotit"):d(".js-tooltip-info").data("step-skip"))+"</div>"+(a?"":'<div class="map-tooltip__btn map-tooltip__btn--next js-next-tooltip">'+d(".js-tooltip-info").data("step-next")+"</div>")+"</div></div>")}),d(".js-skip-tooltip").click(function(){d(".js-map-tooltip").removeClass("is-active")}),d(".js-next-tooltip").click(function(){d(".js-map-tooltip.is-active").removeClass("is-active"),d(i[++e].insertTo).find(".js-map-tooltip").addClass("is-active")})}var c=!1;break;case 9:C(),d("#mapbox").on("click",function(e){var t=d(".mapboxgl-marker"),a=d(".js-map-card"),s=d(e.target).is(".js-map-marker")||d(e.target).closest(".js-map-marker");if(d(".js-map-marker").removeClass("is-active"),t.removeClass("is-active"),0<s.length)if(s.closest(".mapboxgl-marker").addClass("is-active"),s.addClass("is-active"),p.isMobile()){var i=s.attr("data-id"),o=d('.js-map-card[data-id="'+i+'"]');o.fadeIn(300),a.not(o).hide()}else{var n=+s.attr("data-lat"),r=+s.attr("data-long");u.svMap.flyTo({center:[r,n+1e-4],zoom:u.svMap.getZoom(),speed:1.5,curve:1})}else p.isMobile()&&a.hide()}),d(".js-map-cards").on("click",".js-map-card-restaurant",function(){d(this).toggleClass("is-open");var e=d(this).find(".js-map-card-body");e.slideToggle(),d(".js-map-card-body").not(e).hide(300)})}}function _(t,a,e,s){var i=0,o=0,n=null;d("body").on("touchstart",a,function(){n=d(a).closest(e),i=n.position().top}),d("body").on("touchmove",a,function(e){(o=e.originalEvent.touches[0].clientY)<i?(n.css({top:o+"px"}),d("body").on("touchend",a,function(){"filter"===t?n.addClass("is-mobile-filter-swipe").css({top:"0%"}):n.removeClass("is-mobile-card-swipe").css({top:"0%"})})):(n.css({top:o+"px"}),d("body").on("touchend",a,function(){"filter"===t?n.removeClass("is-mobile-filter-swipe").css({top:s}):n.addClass("is-mobile-card-swipe").css({top:s})}))}),"filter"===t&&d("body").on("click",".js-map-filter-close",function(){d(e).removeClass("is-mobile-filter-swipe").css({top:s})})}function C(s){s||(s=u[v.currentMap]),d("body").on("click",".js-map-filter",function(){var e=d(this),t=e.attr("data-filter-type"),a=d(".js-map").find('*[data-filter="'+t+'"]');e.toggleClass("is-checked"),e.hasClass("is-checked")?(a.removeClass("is-filtered"),"transport"===t&&(M("railLines","show",s),M("railStations","show",s))):(a.addClass("is-filtered"),"transport"===t&&(M("railLines","hide",s),M("railStations","hide",s),x()))})}function M(e,t,a){var s=!!a.getLayer(e);if(s&&"show"===t)a.setLayoutProperty(e,"visibility","visible");else if(s&&"hide"===t){var i=d(".js-mapboxgl-transport-popup");a.setLayoutProperty(e,"visibility","none"),i.remove()}}function x(){d(".js-mapboxgl-transport-popup").remove()}p.modules.mapbox={init:function(){if("hotel"===travel.opts.type)switch(m){case 3:d(window).load(function(){!function(){if(!u.sunsetModalMap){u.sunsetModalMap=s({zoom:17}),v.currentMap="sunsetModalMap";var e=document.createElement("div");e.className="marker marker--hotel",e.innerHTML='<svg class="marker__item" xmlns="http://www.w3.org/2000/svg" width="66" height="84" viewBox="0 0 66 84"><g fill="none" transform="translate(7 5)"><path fill="#242C4A" d="M26.325 0C12.158 0 .631 11.527.631 25.696c0 3.695.756 7.224 2.247 10.488 6.424 14.058 18.741 28.9 22.364 33.114a1.43 1.43 0 002.167 0c3.622-4.213 15.939-19.054 22.365-33.114 1.492-3.264 2.247-6.793 2.247-10.488C52.02 11.527 40.493 0 26.325 0z"/><g fill="#FFF" transform="translate(14 16.333)"><path d="M25.083 10.674H4.269V.534A.533.533 0 003.736 0H.534A.533.533 0 000 .534v18.145c0 .295.239.533.534.533h3.202a.533.533 0 00.533-.533v-3.736h17.078v3.736c0 .295.239.533.534.533h3.202a.533.533 0 00.534-.533v-7.472a.533.533 0 00-.534-.533z"/><circle cx="8.539" cy="6.404" r="3.202"/><path d="M13.342 9.606h11.741a.533.533 0 00.534-.533 5.877 5.877 0 00-5.87-5.87h-6.405a.533.533 0 00-.534.533v5.337c0 .295.239.533.534.533z"/></g></g></svg>',new mapboxgl.Marker({anchor:"bottom",element:e}).setLngLat([h.lng,h.lat]).addTo(u.sunsetModalMap),d(".js-menu-map").on("click",function(){setTimeout(function(){u.sunsetModalMap.resize()},100)}),u.sunsetModalMap.on("zoomend",function(){_paq.push(["trackEvent","MainMap","change","MapZoom"])}),u.sunsetModalMap.on("dragend",function(){_paq.push(["trackEvent","MainMap","change","MapDrag"])}),u.sunsetModalMap.on("rotateend",function(){_paq.push(["trackEvent","MainMap","change","MapRotate"])}),d(document).ready(function(){var e=d(".js-mapbox").find(".mapboxgl-ctrl-zoom-in"),t=d(".js-mapbox").find(".mapboxgl-ctrl-zoom-out");e.on("click",function(){_paq.push(["trackEvent","MainMap","click","BtnZoomIn"])}),t.on("click",function(){_paq.push(["trackEvent","MainMap","click","BtnZoomOut"])})});var t=p.isMobile()?"top-left":"bottom-right";u.sunsetModalMap.addControl(new mapboxgl.NavigationControl,t),d("body").on("click",".js-map-modal-button",function(){d("body").toggleClass("is-active-map-modal"),u.sunsetModalMap.resize()}),u.sunsetModalMap.on("load",function(){d.when(c(),k(),l(u.sunsetModalMap)).then(function(e,t,a){(e.length&&!t.length&&!a||!e.length&&t.length&&!a||!e.length&&!t.length&&a)&&d(".js-map-filters").find(".js-map-filter.is-active").addClass("is-single is-open"),(e.length&&t.length&&!a||!e.length&&t.length&&a||e.length&&!t.length&&a)&&d(".js-map-filters").find(".js-map-filter.is-active").addClass("is-double"),a&&r(u.sunsetModalMap,a)})}),j()}}(),u.sunsetSmallMap||(u.sunsetSmallMap=s({container:"small-mapbox",interactive:!1}),u.sunsetSmallMap.on("load",function(){var e=document.createElement("div");e.className="marker marker--hotel",e.innerHTML='<svg class="marker__item" xmlns="http://www.w3.org/2000/svg" width="66" height="84" viewBox="0 0 66 84"><g fill="none" transform="translate(7 5)"><path fill="#242C4A" d="M26.325 0C12.158 0 .631 11.527.631 25.696c0 3.695.756 7.224 2.247 10.488 6.424 14.058 18.741 28.9 22.364 33.114a1.43 1.43 0 002.167 0c3.622-4.213 15.939-19.054 22.365-33.114 1.492-3.264 2.247-6.793 2.247-10.488C52.02 11.527 40.493 0 26.325 0z"/><g fill="#FFF" transform="translate(14 16.333)"><path d="M25.083 10.674H4.269V.534A.533.533 0 003.736 0H.534A.533.533 0 000 .534v18.145c0 .295.239.533.534.533h3.202a.533.533 0 00.533-.533v-3.736h17.078v3.736c0 .295.239.533.534.533h3.202a.533.533 0 00.534-.533v-7.472a.533.533 0 00-.534-.533z"/><circle cx="8.539" cy="6.404" r="3.202"/><path d="M13.342 9.606h11.741a.533.533 0 00.534-.533 5.877 5.877 0 00-5.87-5.87h-6.405a.533.533 0 00-.534.533v5.337c0 .295.239.533.534.533z"/></g></g></svg>',new mapboxgl.Marker({anchor:"bottom",element:e}).setLngLat([h.lng,h.lat]).addTo(u.sunsetSmallMap)})),u.sunsetGalleryMap||(u.sunsetGalleryMap=s({container:"small-gallery-mapbox",interactive:!1})),u.sunsetLocationMap||(u.sunsetLocationMap=s({container:"small-location-mapbox",interactive:!1}),d(".js-menu-map").on("click",function(){setTimeout(function(){u.sunsetLocationMap.resize()},100)}))});break;case 5:n(),o();break;case 7:!function(){u.scSmallMap=s({container:"small-map"}),u.scSmallMap.on("load",function(){var e=document.createElement("div");e.className="marker",e.innerHTML='<svg class="marker__icon" xmlns="http://www.w3.org/2000/svg" width="50" height="70" viewBox="0 0 66 84"><g fill="none" transform="translate(7 5)"><path class="marker__icon-bg" fill="#242C4A" d="M26.325 0C12.158 0 .631 11.527.631 25.696c0 3.695.756 7.224 2.247 10.488 6.424 14.058 18.741 28.9 22.364 33.114a1.43 1.43 0 002.167 0c3.622-4.213 15.939-19.054 22.365-33.114 1.492-3.264 2.247-6.793 2.247-10.488C52.02 11.527 40.493 0 26.325 0z"/><g fill="#FFF" transform="translate(14 16.333)"><path d="M25.083 10.674H4.269V.534A.533.533 0 003.736 0H.534A.533.533 0 000 .534v18.145c0 .295.239.533.534.533h3.202a.533.533 0 00.533-.533v-3.736h17.078v3.736c0 .295.239.533.534.533h3.202a.533.533 0 00.534-.533v-7.472a.533.533 0 00-.534-.533z"/><circle cx="8.539" cy="6.404" r="3.202"/><path d="M13.342 9.606h11.741a.533.533 0 00.534-.533 5.877 5.877 0 00-5.87-5.87h-6.405a.533.533 0 00-.534.533v5.337c0 .295.239.533.534.533z"/></g></g></svg>',new mapboxgl.Marker({anchor:"bottom",element:e}).setLngLat([h.lng,h.lat]).addTo(u.scSmallMap)});var e=new mapboxgl.NavigationControl;u.scSmallMap.addControl(e,"bottom-right"),d(".js-scroll-to-map").on("click",function(){d("html, body").animate({scrollTop:d("#small-map").offset().top-150},500)})}();break;case 9:!function(){u.svMap=s({zoom:17,pitch:30}),v.currentMap="svMap";var e=document.createElement("div");e.className="hotel-marker",e.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" width="50" height="72" viewBox="0 0 50 72"><g fill="none" fill-rule="evenodd"><path fill="#242C4A" fill-rule="nonzero" stroke="#FFF" d="M24.134 0h0C10.826 0 0 11.047 0 24.626c0 8.206 3.83 18.245 11.382 29.839 5.545 8.512 11.008 14.601 11.237 14.857.39.432.94.678 1.515.678.576 0 1.125-.246 1.515-.678.23-.256 5.692-6.345 11.237-14.857 7.552-11.594 11.382-21.633 11.382-29.839C48.268 11.047 37.442 0 24.134 0z" transform="translate(1 1)"/><path fill="#FFF" d="M34.798 40.049L28.834 40.049 28.834 29.659 19.999 29.659 19.999 40.049 14 40.049 14 15.167 19.999 15.167 19.999 25.045 28.834 25.045 28.834 15.167 34.798 15.167z" transform="translate(1 1)"/></g></svg>',new mapboxgl.Marker({anchor:"bottom",element:e}).setLngLat([h.lng,h.lat]).addTo(u.svMap),d(".js-menu-map").on("click",function(){setTimeout(function(){u.svMap.resize()},100)}),u.svMap.addControl(new mapboxgl.NavigationControl,"top-right"),c(),k(),u.svMap.on("load",function(){l(u.svMap).then(function(e){r(u.svMap,e)})}),j()}(),t();break;case 33:d("#small-map").length&&(u.topAddSmallMap=s({container:"small-map"}),u.topAddSmallMap.on("load",function(){var e=document.createElement("div");e.className="marker",e.innerHTML='<svg class="hotel-marker" width="20px" height="40px" viewBox="0 0 34 50" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"> <defs></defs> <g id="Hotel-list" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"> <g id="pin-(14)" fill-rule="nonzero"> <path d="M16.6992188,0 C7.509375,0 0.0325195313,7.47685547 0.0325195313,16.6666992 C0.0325195313,19.4254883 0.722265625,22.1608398 2.03349609,24.5870117 L15.787793,49.4628906 C15.9708984,49.7945312 16.3198242,50 16.6992188,50 C17.0786133,50 17.4275391,49.7945312 17.6106445,49.4628906 L31.3700195,24.5788086 C32.6761719,22.1608398 33.365918,19.4253906 33.365918,16.6666016 C33.365918,7.47685547 25.8890625,0 16.6992188,0 Z" id="Shape" fill=""></path> <path class="hotel-marker__bg" d="M16.6992187,0 C7.509375,0 0.0325195312,7.47685547 0.0325195312,16.6666992 C0.0325195312,19.4254883 0.722265625,22.1608398 2.03349609,24.5870117 L15.787793,49.4628906 C15.9708984,49.7945312 16.3198242,50 16.6992187,50 C17.0786133,50 17.4275391,49.7945312 17.6106445,49.4628906 L31.3700195,24.5788086 C32.6761719,22.1608398 33.365918,19.4253906 33.365918,16.6666016 C33.365918,7.47685547 25.8890625,0 16.6992187,0 Z M16.6992187,25 C12.1042969,25 8.36591797,21.2616211 8.36591797,16.6666992 C8.36591797,12.0717773 12.1042969,8.33339844 16.6992187,8.33339844 C21.2941406,8.33339844 25.0325195,12.0717773 25.0325195,16.6666992 C25.0325195,21.2616211 21.2941406,25 16.6992187,25 Z" id="Shape" fill="#005394"></path> </g> </g> </svg>',new mapboxgl.Marker({anchor:"bottom",element:e}).setLngLat([h.lng,h.lat]).addTo(u.topAddSmallMap)})),function(){u.topAddMap=s({container:"main-map"}),u.topAddMap.on("load",function(){var e=document.createElement("div");e.className="marker",e.innerHTML='<svg class="hotel-marker" width="50px" height="70px" viewBox="0 0 34 50" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"> <defs></defs> <g id="Hotel-list" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"> <g id="pin-(14)" fill-rule="nonzero"> <path d="M16.6992188,0 C7.509375,0 0.0325195313,7.47685547 0.0325195313,16.6666992 C0.0325195313,19.4254883 0.722265625,22.1608398 2.03349609,24.5870117 L15.787793,49.4628906 C15.9708984,49.7945312 16.3198242,50 16.6992188,50 C17.0786133,50 17.4275391,49.7945312 17.6106445,49.4628906 L31.3700195,24.5788086 C32.6761719,22.1608398 33.365918,19.4253906 33.365918,16.6666016 C33.365918,7.47685547 25.8890625,0 16.6992188,0 Z" id="Shape" fill=""></path> <path class="hotel-marker__bg" d="M16.6992187,0 C7.509375,0 0.0325195312,7.47685547 0.0325195312,16.6666992 C0.0325195312,19.4254883 0.722265625,22.1608398 2.03349609,24.5870117 L15.787793,49.4628906 C15.9708984,49.7945312 16.3198242,50 16.6992187,50 C17.0786133,50 17.4275391,49.7945312 17.6106445,49.4628906 L31.3700195,24.5788086 C32.6761719,22.1608398 33.365918,19.4253906 33.365918,16.6666016 C33.365918,7.47685547 25.8890625,0 16.6992187,0 Z M16.6992187,25 C12.1042969,25 8.36591797,21.2616211 8.36591797,16.6666992 C8.36591797,12.0717773 12.1042969,8.33339844 16.6992187,8.33339844 C21.2941406,8.33339844 25.0325195,12.0717773 25.0325195,16.6666992 C25.0325195,21.2616211 21.2941406,25 16.6992187,25 Z" id="Shape" fill="#005394"></path> </g> </g> </svg>',new mapboxgl.Marker({anchor:"bottom",element:e}).setLngLat([h.lng,h.lat]).addTo(u.topAddMap)});var e=new mapboxgl.NavigationControl;u.topAddMap.addControl(e,"bottom-right")}();break;default:return!1}else{if("destination"!==travel.opts.type)return!1;3===m&&e({container:"destination-small-map",interactive:!1}),5===m&&e({container:"destination-entry-map",interactive:!1,zoom:14})}},setDataForMap:function(e,t){v[t+"Data"]=e,v[t+"Name"]=t},initSmallClusterMap:o,initSmallVillageMapSmall:t,maps:u}}(jQuery,travel),function(e,a){function s(){"map"==a.opts.page?yepnope.injectJs(a.opts.sdom+"/build/packs/js/maps.pack.js",function(){e(document).trigger("mapsengine-ready")}):e(document).trigger("mapsengine-ready")}a.modules.mapsengineLoader={init:function(){var e=a.opts.page,t=Math.floor(a.opts.theme/100);"book"!==e&&("hotel"!==a.opts.type||3!==t&&5!==t&&7!==t&&9!==t&&33!==t)&&(0==a.opts.map_params.provider?yepnope.injectJs("https://maps.googleapis.com/maps/api/js?v=3&libraries=places&signed_in=true&language="+a.opts.lang,function(){yepnope.injectJs(a.opts.sdom+"/build/packs/js/googlemaps.pack.js",function(){s()})}):yepnope.injectJs(a.opts.sdom+"/build/packs/js/leaflet.pack.js",function(){s()}))}}}(jQuery,travel),function(m,f){var g="",v=null,k="hotel",e=travel.opts.theme,y=travel.opts.type,i=!!f.opts.themeRezh,w=Math.floor(e/100);function o(){m(".js-filters-accordion").each(function(){var e=m(this),t=e.find(".js-filters-accordion-btn"),a=e.find(".js-filters-accordion-wrapper"),s=e.find(".js-filters-accordion-content");t.on("click",function(){var e=m(this).closest(".js-filters-accordion-wrapper"),t=e.find(".js-filters-accordion-content");e.hasClass("is-open")||(a.removeClass("is-open"),s.stop().slideUp("300")),e.toggleClass("is-open"),t.stop().slideToggle("300")})})}function n(){var e=m(".js-filters-accordion-wrapper");0<m(".js-adv-checkbox.is-checked").length?e.each(function(){0<m(this).find(".js-adv-checkbox.is-checked").length&&(m(this).find(".js-filters-accordion-content").show(),m(this).addClass("is-open"))}):(m(".js-filters-accordion-wrapper").first().find(".js-filters-accordion-content").show(),m(".js-filters-accordion-wrapper").first().addClass("is-open"))}function r(e,t){var a=window.location.hash.replace("#",""),s=a;if(5!==w&&9!==w||"write-review"!==s||(s="reviews"),""===s&&void 0!==t&&(s=t),-1==s.indexOf("[")){var i=m("#"+s);if(0===i.length&&(s="main",i=m("#main")),0!==i.length){var o=i.closest(".js-page");if(0!==o.length){m(".js-page").hide(),o.show(),""!==g&&v.removeClass("page-"+g);var n=o.attr("id");""===n&&(n=s),g=n,v.addClass("page-"+g),a==n||"main"==n&&""==a||(window.location.hash=n),m(document).trigger("page-"+g+"-active");var r=m(".js-hotel-menu");if(r.length||(r=m(".js-accordion")),r.length){if(!f.isMobile()||3!=w&&60!=w||m("a",r).closest("li").removeClass("active"),m("a",r).removeClass("active"),!(c=m('a[href="#'+s+'"]',r)).length)return;m(".js-text-menu").html(c.html()),c.addClass("active"),!f.isMobile()||3!=w&&60!=w||c.closest("li").addClass("active")}var l=m(".js-dest-menu");if(l.length){var c;if(m(".js-menu-item",l).removeClass("current"),!(c=m('a[href="/'+f.opts.lang_code+"/#"+s+'"]',l)).length)return;c.closest(".js-menu-item").addClass("current")}if(3!=w&&60!=w&&9!=w||"map"!=s||m("html, body").animate({scrollTop:m("#"+s).offset().top},500),"rooms"==g||f.isMobile()||void 0===m.scrollTo||(void 0===t?m.scrollTo(i,500,{offset:{top:-100}}):9!==w&&y==k&&setTimeout(function(){window.scrollTo(0,0)},1)),(f.isMobile()||5==w||9==w||33==w||44==w)&&"main"==g){var d=m(".js-important-information-container");if(d.size()){var p=d.find(".js-important-information"),u=p.find(".js-important-information-text"),h=d.find(".js-important-information-btn");300<u.outerHeight()?(p.hasClass("is-closed")||p.addClass("is-closed"),h.show()):p.hasClass("is-closed")||h.hide()}}}}}}f.modules.menu={deps:"rooms",init:function(){var e,t,a,s;g=f.opts.page,m(".js-menu").on("click",".js-menu-item",function(e){var t=m(this).hasClass("current"),a=e.delegateTarget;m(".js-menu-item",a).removeClass("current"),t||m(this).addClass("current")}),m(".js-scroll-to").on("click",function(){if(!m(this).hasClass("active")){m(this).addClass("active");var e=m(this).attr("data-href");setTimeout(function(){m.scrollTo(e,500)},100)}}),v=m(".js-page-name"),m(".js-page").hide(),m("#main").closest(".js-page").show(),7===w&&"map"===window.location.hash.replace("#","")&&setTimeout(function(){m("#small-map").length&&m("html, body").animate({scrollTop:m("#small-map").offset().top-100},500)},100),m(window).on("hashchange",function(e){var t=e.originalEvent.oldURL;(!t||-1===t.indexOf("sunset-mobile-gallery")&&-1===t.indexOf("sunset-main-gallery")&&-1===t.indexOf("sunset-gallery-all-photo")&&-1===t.indexOf("sunset-gallery-all-photo-btn"))&&(r(),!f.isMobile()||4!=w&&3!=w&&60!=w&&40!=w&&33!=w&&44!=w||setTimeout(function(){m(".js-photos-gallery").trigger("updateSizes")},100))}),r(0,g),f.isMobile()&&!i&&(function(){m(".js-menu-but").on("click",function(){m(this).toggleClass("is-active"),m(".l-menu").stop().toggle(300)}),m(".js-menu-but-close").on("click",function(){m(".l-menu").hide(300)}),m(".js-hotel-menu-mob").on("click",function(){m(".js-hotel-menu").toggle(0),m(this).toggleClass("active").siblings(".js-hotel-menu").toggleClass("active").closest(".js-hotel-menu-wrapper").toggleClass("is-open")}),7==w&&(m(".js-mob-open-btn").on("click",function(){m(this).toggleClass("is-open"),m(".js-mob-nav").toggleClass("is-open"),m("body").toggleClass("is-open")}),m(".js-link").on("click",function(){m(".js-mob-open-btn").removeClass("is-open"),m(".js-mob-nav").removeClass("is-open"),m("body").removeClass("is-open")})),m(".js-hotel-menu").on("click","li:not(.show-mob)",function(){m(".js-hotel-menu").toggle(0),m(this).closest(".js-hotel-menu").siblings(".js-hotel-menu-mob").toggleClass("active").closest(".js-hotel-menu-wrapper").toggleClass("is-open");var e=m("a",m(this)).attr("href");setTimeout(function(){m.scrollTo(e,500)},100)});var e=22==f.opts.lang_id||25==f.opts.lang_id;m(".js-header-menu-btn").sidr({name:"sidr-menu",side:e?"left":"right",onOpen:function(){m(".sidr-menu").show(),m(".sidr-menu").css("overflow","hidden"),m("html").css("overflow","hidden")},onCloseEnd:function(){m(".sidr-menu").hide(),m("html").css("overflow","")}}),m(".sidr-menu").on("click",".menu-static-link",function(){m.sidr("close","sidr-menu")});var t=m(".js-accordion");t.length&&t.addClass("mobile-menu").accordion({collapsible:!0,active:0})}(),5==w&&(e=m(".js-footer-hotel-list"),t=m(".js-footer-hotel-list .is-visible-link"),a=m(".js-footer-hotel-list .is-visible-link:gt(2)"),s=m(".js-footer-hotel-list-toggle"),3<t.length?(e.addClass("is-hide-list"),a.addClass("is-hide"),m(".js-footer-hotel-list-toggle").click(function(){e.toggleClass("is-hide-list"),e.hasClass("is-hide-list")?a.addClass("is-hide"):a.removeClass("is-hide")})):s.addClass("is-hide"))),f.isMobile()&&!i&&m(window).resize(function(){m.sidr("status","sidr-menu").opened&&m.sidr("close","sidr-menu")}),m(".js-back-btn").on("click",function(){window.history.back()}),7!=w&&20!=w||y!=k?7!=w&&20!=w||"destination"!=y||m(window).scroll(function(){520<=m(this).scrollTop()?(m(".gradient-container").addClass("stickytop"),m(".ui-datepicker").addClass("fixed-date")):(m(".gradient-container").removeClass("stickytop"),m(".ui-datepicker").removeClass("fixed-date"))}):function(){m("body").append("<div class='fixed-menu-bg js-fixed-menu-bg' style='display: none;'></div>");var t,a,s,i=m(".js-fixed-menu-bg"),o=(m(".js-footer"),m(".js-fixed-block")),n=m(".__fixed-block").height(),r=m("body");m(window).scroll(function(){s||(s=window.setTimeout(function(){t=m(".proxy-container").offset().top-40;var e=m(this).scrollTop();t<e&&o.hasClass("default")?(r.addClass("date-picker-fixed"),m(".js-booked-online-btn").addClass("is-fixed"),m(".js-fixed-block, .__fixed-block").removeClass("default").addClass("fixed"),i.show(250)):e<=t&&o.hasClass("fixed")&&(r.removeClass("date-picker-fixed"),m(".js-booked-online-btn").removeClass("is-fixed"),m(".js-fixed-block, .__fixed-block").removeClass("fixed").addClass("default"),i.hide()),n=m(".__fixed-block").outerHeight(),a=m(".proxy-container").outerHeight(),t+a-n<e?(r.addClass("date-picker-fixed2"),m(".__fixed-block").addClass("fixed2")):e<=t+a-n&&(r.removeClass("date-picker-fixed2"),m(".__fixed-block").removeClass("fixed2")),s=null},100))})}(),3!=w&&60!=w&&5!=w&&7!=w&&9!=w||!f.isMobile()||(m(".js-mobile-accordion").each(function(){var e=m(this),t=e.find(".js-mobile-accordion-btn"),a=e.find(".js-mobile-accordion-wrapper"),s=e.find(".js-mobile-accordion-content");t.on("click",function(){var e=m(this).closest(".js-mobile-accordion-wrapper"),t=e.find(".js-mobile-accordion-content");e.hasClass("is-open")||(a.removeClass("is-open"),s.stop().slideUp("300")),e.toggleClass("is-open"),t.stop().slideToggle("300")})}),5==w&&"destination"==f.opts.type&&(o(),n()))},initFiltersAccordion:o,openSelectedFilters:n}}(jQuery,travel),function(c,d){function p(){u(null,c(".js-header-dropdown")),u(null,c(".js-mob-popup"))}function u(e,t){t.removeClass("is-active"),e&&e.addClass("is-active")}d.modules.mercury={init:function(){var s,i,o,n,r,t,a,e=d.opts.type,l=Math.floor(d.opts.theme/100);"destination"!=e||8!=l&&10!=l||(d.isMobile()?(t=c(".js-menu-btn"),a=c("#menu"),t.on("click",function(e){t.toggleClass("is-opened"),a.stop().slideToggle(300),c("body").toggleClass("is-disable-scroll")}),o=c(".js-mob-menu-toggle"),n=c(".js-mob-menu-toggle_btn"),(r=c(".js-mob-menu-toggle_block")).eq(0).show().closest(o).find(n).addClass("is-active"),n.each(function(e,t){c(t).on("click",function(e){var t=c(e.delegateTarget),a=t.closest(o).find(r);!t.hasClass("is-active")&&a.length?(r.slideUp(300),a.stop().slideToggle(300),u(t,n)):(a.stop().slideToggle(300),u(null,t))})}),c(".js-mob-btn-popup").each(function(e,t){c(t).on("click",function(e){var t=c(e.delegateTarget),a=c("#"+t.attr("data-popup"));a.stop().slideToggle(300),d.isSmallMobile()||c("body").toggleClass("is-disable-scroll")})}),c(".js-seo-links-toggler").on("click",function(){var e=c(this).closest(".js-footer-links"),t=e.find(".js-seo-links-content");e.toggleClass("is-open"),t.stop().slideToggle("300")})):(s=c(".js-header-dropdown"),i=c(".js-mob-popup"),s.each(function(e,t){c(t).on("mouseenter",function(e){var t=c(e.delegateTarget),a=c("#"+t.attr("data-dropdown"));u(t,s),u(a,i)}),c(t).on("mouseleave",function(e){var t=c(e.delegateTarget),a=c("#"+t.attr("data-dropdown")),s=c(e.relatedTarget).closest(a);s.length?a.on("mouseleave",function(e){p()}):p()})})))}}}(jQuery,travel),function(o,n){var a,r="";function l(e,s){o.get("/metric.php",o.extend({page:"stat",fn:"increment",args:{}},e),function(e,t,a){console.log(e,t),"function"==typeof s&&s(e,t)})}function s(e){return o.cookie(e+a)||""}function i(e,t){o.cookie(e+a,t||"",{path:"/"})}n.modules.metrics={init:function(e){"hotel"==e.type&&(r=(e.sdom||"").replace(/^(.*\/\/[^\.]+)/,""),a="-"+e.obj_id,o(document).on("click",".show-price-btn, .sh-price-btn",function(e){if(""==s("click-show-price")){var t=parseInt(n.opts.popprice)?"popup":"normal";i("click-show-price",t),l({mn:"click.click-show-price."+n.opts.nid+"."+t}),i("click-avail-form","")}}),o(document).on("submit",".js-avail-form",function(e){var t=parseInt(n.opts.popprice)?"popup":"normal";i("click-avail-form",t),""!=s("click-show-price")&&(l({mn:"click.check-avail-form."+n.opts.nid+"."+t}),i("click-show-price",""))}),o(document).on("click",".js-booknow-form *:submit",function(e){var t=o(this.form),a=t.data("ratecode");if(void 0===a)return!0;var s=a+".click."+n.opts.nid,i=t.data(a);return void 0!==i&&(s+="."+i),e.stopImmediatePropagation(),l({mn:s},function(){t.trigger("submit")}),!1}),o(document).on("click",".js-rate *:submit",function(e){var t=o.cookie("not_avail_hotel")||"";if(""!=t&&!o.cookie("next_book_now")){var a=n.opts.obj_id;o.cookie("next_book_now",a,o.extend({path:"/"},r?{domain:r}:{}));var s="notavail."+n.opts.nid+".book_now."+(a==t?1:0),i=o(this.form);return e.stopImmediatePropagation(),l({mn:s},function(){i.trigger("submit")}),!1}return!0}))}}}(jQuery,travel),function(o,e){travel.modules.modalWindow={init:function(){!function(){var e=o(".js-modal-show"),t=o(".js-modal-close"),a=o(".js-modal"),s=o(".js-modal-inner");function i(){a.hide(),o("body").removeClass("body-no-scroll")}e.on("click",function(e){var t=o(e.target).attr("data-modal");a.filter('[data-modal="'+t+'"]').fadeIn(),o("body").hasClass("body-no-scroll")||o("body").addClass("body-no-scroll")}),t.on("click",function(){i()}),a.on("click",function(e){0<o(e.target).closest(a).length&&0==o(e.target).closest(s).length&&i()})}()}}}(jQuery),function(i,e){var t=Math.floor(travel.opts.theme/100),o=22==travel.opts.lang_id||25==travel.opts.lang_id;if(55!==t)return;e.modules.moneyScripts={init:function(){!function(e){var t=i(e);if(t.length){var a=t.find(".js-slider-inner"),s=t.find(".js-slider-nav");a.slick({dots:!1,infinite:!1,speed:300,slidesToShow:4,slidesToScroll:4,prevArrow:'<div class="other-hotels-slider__arrow other-hotels-slider__arrow--prev"><svg class="icon"><use xlink:href="/build/sprites/img/sprite.svg#icon-m-arrow-left"></use></svg></div>',nextArrow:'<div class="other-hotels-slider__arrow other-hotels-slider__arrow--next"><svg class="icon"><use xlink:href="/build/sprites/img/sprite.svg#icon-m-arrow-right"></use></svg></div>',appendArrows:s,rtl:o,responsive:[{breakpoint:1024,settings:{slidesToShow:3,slidesToScroll:3}},{breakpoint:768,settings:{slidesToShow:2,slidesToScroll:2}},{breakpoint:521,settings:{slidesToShow:1,slidesToScroll:1}}]})}}(".js-inner-other-hotels-slider")}}}(jQuery,travel),function(d,e){var a=[],p=[],i=null;function u(e,t){e.append(t)}e.modules.multiHotelAvail={init:function(){},run:function(){if(1==d("[data-parent-jid]").length&&(i=d("[data-parent-jid]").data("parent-jid")),a=[],d("[data-multihotelavail-hotel-id]").each(function(e,t){a.push(d(t).data("multihotelavail-hotel-id"))}),0===a.length)return!1;!function s(){if(0===a.length)return!1;d.ajax({type:"GET",url:"/check/",data:{page:"search",use:1,from:e.opts.av_params.from,to:e.opts.av_params.to,adults:e.opts.av_params.adults,children:e.opts.av_params.children,hotel_id:a.join(","),lang:e.opts.lang_id,t:2,cnt:0,multihotelavail:1,parent_jid:i,r:Math.random()},dataType:"json"}).done(function(e){if(e.items&&0<e.items.length){for(var t=e.items,a=0;a<t.length;a++)p.push(t[a].jid);!function c(){if(0===p.length)return!1;d.ajax({type:"GET",url:"/check/",data:{page:"search",jid:p.join(","),t:2,multihotelavail:1,multihotelavailwithresult:1,parent_jid:i,r:Math.random()},dataType:"json"}).done(function(e){if(e.items&&0<e.items.length){var t=e.items,a="",s="";d(".js-multihotelavail-no-rates").length&&(a=d(".js-multihotelavail-no-rates")[0].innerHTML);for(var i=0;i<t.length;i++)if(t[i].done){p.splice(p.indexOf(t[i].jid),1);var o=t[i].hotel_id,n=d('[data-multihotelavail-loader="'+o+'"]'),r=d('[data-multihotelavail-container="'+o+'"]'),l=d('[data-multihotelavail-book-url="'+o+'"]');l.length&&(s=l[0].innerHTML),n.addClass("hidden"),r.empty(),t[i].html?(u(r,t[i].html),u(r,s)):u(r,a)}setTimeout(function(){c()},2e3)}}).fail(function(e,t,a){ajaxErrorCallback("AvailError (runHotelAvail2)",e,t,a),setTimeout(function(){c()},3e3)})}()}}).fail(function(e,t,a){ajaxErrorCallback("AvailError (runHotelAvail1)",e,t,a),setTimeout(function(){s()},3e3)})}()}}}(jQuery,travel),function(m,f){var g=Math.floor(travel.opts.theme/100);function t(){var l=travel.opts.sid+travel.opts.obj_id+travel.opts.day+Math.floor(travel.opts.theme/100);l=l.split("").reverse().join("");var e=m(".js-chart");0<e.length&&e.each(function(){var e,t,a=0,s=m(this).find(".js-circle-border"),i=s.data("color1"),o=s.data("color2"),n=(t=(e=68)+("0."+ +l)*(89+1-e),Math.floor(t));if(m(this).hasClass("js-chart-full"))var r=360;else r=3.6*n;s.css({"background-color":o}),setTimeout(function(){!function e(){a+=1;a<0&&(a=0);r<a&&(a=r);n=a/3.6;a<=180?s.css("background-image","linear-gradient("+(90+a)+"deg, transparent 50%,"+i+" 50%),linear-gradient(90deg, "+i+" 50%, transparent 50%)"):s.css("background-image","linear-gradient("+(a-90)+"deg, transparent 50%,"+o+" 50%),linear-gradient(90deg, "+i+" 50%, transparent 50%)");setTimeout(function(){e()},1)}()},1),m(".js-percentage").text(n.toFixed(0)+"%")})}function a(){var e=m(".js-check-avail-form"),l=m(".js-check-avail-popup"),t=m(".js-other-days"),a=m(".js-check-avail-close"),s=m(".js-form-title-hotel"),i=m(".js-form-title-destination"),o=m(".js-form-title"),n=m(".js-other-hotels"),r=m(".js-check-avail-hotel-horizontal");function c(e){e.on("submit",function(){event.preventDefault();var e,t,a,s=m(this);return d(s),!d(s)&&((!f.modules.availbox.isChildAgeError(s)||9!==g&&3!==g&&60!==g)&&(e=s,t=m(".js-first-hotel-id")[0].value,a=travel.opts.lang_id,void function s(i,o,n,r){var e="/check/?"+i.serialize();void 0===r&&(r=0),999==r&&(r=0),0==r&&m.ajax({type:"GET",url:"/check_avail.php",data:{page:"check"},dataType:"xml",success:function(e){},error:function(e,t,a){ajaxErrorCallback("AvailErrorCheck (xml)",e,t,a)}}),m.ajax({type:"GET",url:e,data:{page:"search",hotel_id:o,lang:n,t:2,r:Math.random(),cnt:r},dataType:"json",success:function(e){var t=e.jid;""!=t?function s(i,o){m.ajax({type:"GET",url:"/check/",data:{page:"search",jid:o,t:2,r:Math.random()},dataType:"json",success:function(e){e.done?(m("#splash").dialog("close"),m("#jid").val(e.jid),h(i,o)):e.bad_id?alert("Can't process request"):e.bot||e.error?(m("#bot").val(e.bot||""),h(i,o)):(l.hide(),m("#splash").dialog("open"),setTimeout(function(){s(i,o)},1e3))},error:function(e,t,a){ajaxErrorCallback("AvailError (avhotel)",e,t,a),setTimeout(function(){s(i,o)},3e3)}})}(i,t):e.bad_id?alert("Can't process request"):e.bot||e.error?h(i,t):setTimeout(function(){s(i,o,n)},3e3)},error:function(e,t,a){ajaxErrorCallback("AvailError (json)",e,t,a),setTimeout(function(){s(i,o,n,r+1)},3e3)}})}(e,t,a)))})}function d(e){var t=e.find(".js-date-from-input"),a=e.find(".js-date-to-input"),s=new Date(m(t).val()).getTime();return 30<=(new Date(m(a).val()).getTime()-s)/24/60/60/1e3}function p(){l.show()}function u(){e.removeClass("js-check-avail-hotel-is-open"),l.hide()}function h(s,e){var t="/check/?"+m("#form_result").serialize()+"&t=2&r="+Math.random();m.ajax({url:t,type:"GET",dataType:"html"}).done(function(e){if(-1!=e.search("\x3c!--unavailable--\x3e")){var t="/search/?"+s.serialize()+"&desid="+m(".js-desid")[0].innerHTML+"&cityID="+m(".js-desid")[0].innerHTML+"&fhid="+m(".js-fhid")[0].innerHTML;window.location.href=t}else{var a=m(".js-first-hotel-url")[0].innerHTML+"?"+s.serialize()+"&lang="+m("#lang")[0].value+"#rooms";window.location.href=a}}).fail(function(){setTimeout(function(){h(s,e)},3e3)})}9===g&&(e=m(".js-avail-form")),c(r),t.on("click",function(){o.hide(),s.show(),l.find(e).addClass("js-check-avail-hotel-is-open"),p(),c(l.find(".js-check-avail-hotel-is-open"))}),n.on("click",function(){o.hide(),i.show(),p()}),a.on("click",function(){u()}),l.on("mouseup",function(e){var t=m(".js-check-avail-popup-content");t.is(e.target)||0!==t.has(e.target).length||u()})}f.modules.notavail={init:function(){var e;3!==g&&60!==g&&9!==g||(0<(e=m(".js-btn-other-hotels")).length&&e.on("click",function(){m("html, body").animate({scrollTop:m(".js-notavail-title").offset().top},300)}),t(),function(){var d,p={de:{monthNamesShort:["Jan","Feb","Mär","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Dez"],dayNamesShort:["So","Mo","Di","Mi","Do","Fr","Sa"]},fr:{monthNamesShort:["janv.","févr.","mars","avr.","mai","juin","juil.","août","sept.","oct.","nov.","déc."],dayNamesShort:["dim.","lun.","mar.","mer.","jeu.","ven.","sam."]},es:{monthNamesShort:["ene","feb","mar","abr","may","jun","jul","ago","sep","oct","nov","dic"],dayNamesShort:["dom","lun","mar","mié","jue","vie","sáb"]},it:{monthNamesShort:["Gen","Feb","Mar","Apr","Mag","Giu","Lug","Ago","Set","Ott","Nov","Dic"],dayNamesShort:["Dom","Lun","Mar","Mer","Gio","Ven","Sab"]},nl:{monthNamesShort:["jan","feb","mrt","apr","mei","jun","jul","aug","sep","okt","nov","dec"],dayNamesShort:["zon","maa","din","woe","don","vri","zat"]},pt:{monthNamesShort:["Jan","Fev","Mar","Abr","Mai","Jun","Jul","Ago","Set","Out","Nov","Dez"],dayNamesShort:["Dom","Seg","Ter","Qua","Qui","Sex","Sáb"]},sv:{monthNamesShort:["Jan","Feb","Mar","Apr","Maj","Jun","Jul","Aug","Sep","Okt","Nov","Dec"],dayNamesShort:["Sön","Mån","Tis","Ons","Tor","Fre","Lör"]},da:{monthNamesShort:["Jan","Feb","Mar","Apr","Maj","Jun","Jul","Aug","Sep","Okt","Nov","Dec"],dayNamesShort:["Søn","Man","Tir","Ons","Tor","Fre","Lør"]},cs:{monthNamesShort:["led","úno","bře","dub","kvě","čer","čvc","srp","zář","říj","lis","pro"],dayNamesShort:["ne","po","út","st","čt","pá","so"]},hu:{monthNamesShort:["Jan","Feb","Már","Ápr","Máj","Jún","Júl","Aug","Szep","Okt","Nov","Dec"],dayNamesShort:["Vas","Hét","Ked","Sze","Csü","Pén","Szo"]},ja:{monthNamesShort:["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"],dayNamesShort:["日","月","火","水","木","金","土"]},zh:{monthNamesShort:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],dayNamesShort:["周日","周一","周二","周三","周四","周五","周六"]},pl:{monthNamesShort:["Sty","Lu","Mar","Kw","Maj","Cze","Lip","Sie","Wrz","Pa","Lis","Gru"],dayNamesShort:["Nie","Pn","Wt","Śr","Czw","Pt","So"]},el:{monthNamesShort:["Ιαν","Φεβ","Μαρ","Απρ","Μαι","Ιουν","Ιουλ","Αυγ","Σεπ","Οκτ","Νοε","Δεκ"],dayNamesShort:["Κυρ","Δευ","Τρι","Τετ","Πεμ","Παρ","Σαβ"]},ru:{monthNamesShort:["Янв","Фев","Мар","Апр","Май","Июн","Июл","Авг","Сен","Окт","Ноя","Дек"],dayNamesShort:["Вс","Пн","Вт","Ср","Чт","Пт","Сб"]},uk:{monthNamesShort:["Січ","Лют","Бер","Кві","Тра","Чер","Лип","Сер","Вер","Жов","Лис","Гру"],dayNamesShort:["Нд","Пн","Вт","Ср","Чт","Пт","Сб"]},tr:{monthNamesShort:["Oca","Şub","Mar","Nis","May","Haz","Tem","Ağu","Eyl","Eki","Kas","Ara"],dayNamesShort:["Pz","Pt","Sa","Ça","Pe","Cu","Ct"]},ar:{monthNamesShort:["1","2","3","4","5","6","7","8","9","10","11","12"],dayNamesShort:["أحد","اثنين","ثلاثاء","أربعاء","خميس","جمعة","سبت"]},ko:{monthNamesShort:["1월","2월","3월","4월","5월","6월","7월","8월","9월","10월","11월","12월"],dayNamesShort:["일","월","화","수","목","금","토"]},he:{monthNamesShort:["ינו","פבר","מרץ","אפר","מאי","יוני","יולי","אוג","ספט","אוק","נוב","דצמ"],dayNamesShort:["א'","ב'","ג'","ד'","ה'","ו'","שבת"]},no:{monthNamesShort:["jan","feb","mar","apr","mai","jun","jul","aug","sep","okt","nov","des"],dayNamesShort:["søn","mån","tir","ons","tor","fre","lau"]},br:{monthNamesShort:["Jan","Fev","Mar","Abr","Mai","Jun","Jul","Ago","Set","Out","Nov","Dez"],dayNamesShort:["Dom","Seg","Terç","Qua","Qui","Sex","Sáb"]},en:{monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sept","Oct","Nov","Dec"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},us:{monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sept","Oct","Nov","Dec"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]}},e=travel.opts.av_params.from,t=travel.opts.av_params.to,a=m(".js-not-available-from"),s=m(".js-not-available-to");function i(e,t){var a=new Date(t),s=a.getDay(),i=p[d].dayNamesShort[s],o=a.getDate(),n=a.getMonth(),r=p[d].monthNamesShort[n],l=a.getFullYear(),c="";3===g||60===g?(c="<span>"+i+"</span> <span>"+o+"</span> <span>"+r+"</span> <span>"+l+"</span>",e.html(c)):(c=i+" "+o+" "+r+" "+l,e.text(c))}d=null==travel.opts.lang?"en":travel.opts.lang,null==p[d]&&(d="en"),i(a,e),i(s,t)}(),a())}}}(jQuery,travel);var PlaceMap=function(){function e(e){void 0===e&&(e={}),this.config=e,this.map=this.initMap(),this.markers=[],this.markersSizeZoom=12,this.notAvailMarker=null,this.listeners={_markerMouseEnter:this._markerMouseEnter.bind(this),_markerMouseLeave:this._markerMouseLeave.bind(this)},this.callbacks={markerEnter:[],markerLeave:[],markerLockMobile:[],markerLockMobileNotAvail:[],markerLockDesktop:[],markerUnlock:[],init:[]}}var t=e.prototype;return t.initMap=function(){if(!this.config.provider)throw new Error("Map option Provider is required");var e=this.config.provider.init(),s=this;return e.on("click",function(e){s.resetActivePlaces();var t=e.originalEvent.target.closest(".marker");if(t){var a=t.classList.contains("js-marker-not-avail");travel.isSmallTablet()?a?s._doCallbacks("markerLockMobileNotAvail",t.dataset.id):s._doCallbacks("markerLockMobile",t.dataset.id):s._doCallbacks("markerLockDesktop",t.dataset.id),t.classList.add("marker--lock")}}),e.on("load",function(){s._doCallbacks("init")}),e},t.addListener=function(e,t){this.callbacks[e].push(t)},t._markerMouseEnter=function(e){var t=e.target.closest(".marker");t&&(t.classList.add("marker--active"),travel.isSmallTablet()||this._doCallbacks("markerEnter",t.dataset.id))},t._markerMouseLeave=function(e){var t=e.target.closest(".marker");t&&(t.classList.remove("marker--active"),travel.isSmallTablet()||this._doCallbacks("markerLeave"))},t.getBounds=function(){return this.map.getBounds()},t.setBounds=function(e,t){return this.map.fitBounds(e,Object.assign({animate:!1},t))},t.viewportСhanged=function(e){this.map.on("moveend",e)},t.showPlaceGroup=function(e){var s=this,t={type:"FeatureCollection",features:e.filter(function(t){var a=!0;return s.markers.forEach(function(e){e.getElement().dataset.id==="hotel-"+t.HotelID&&(a=!1)}),a}).map(createGeoJsonFeature)},a=this.config.provider.addMarkers(t,createMarkerHTML(this.map.getZoom()<this.markersSizeZoom?"marker--small":""));a.forEach(function(e){e.getElement().addEventListener("mouseenter",s.listeners._markerMouseEnter),e.getElement().addEventListener("mouseleave",s.listeners._markerMouseLeave)}),this.markers=this.markers.concat(a)},t.removePlaceGroup=function(e){var s=[];this.markers.filter(function(t){if(!e)return!0;var a=!0;return e.forEach(function(e){"hotel-"+e===t.getElement().dataset.id&&(a=!1)}),a||s.push(t),a}).forEach(this._removeMarker.bind(this)),this.markers=s},t.updateMarkersSize=function(){var a=this;this.markers.forEach(function(e){var t=e.getElement();a.map.getZoom()<a.markersSizeZoom?t.classList.add("marker--small"):t.classList.remove("marker--small")})},t._removeMarker=function(e){e.getElement().removeEventListener("mouseenter",this.listeners._markerMouseEnter),e.getElement().removeEventListener("mouseleave",this.listeners._markerMouseLeave),e.remove()},t.resetActivePlaces=function(){this.markers.forEach(function(e){var t=e.getElement();t.classList.remove("marker--active"),t.classList.remove("marker--lock")}),this.notAvailMarker&&(this.notAvailMarker.getElement().classList.remove("marker--active"),this.notAvailMarker.getElement().classList.remove("marker--lock")),this._doCallbacks("markerUnlock")},t.activatePlace=function(e){var a="hotel-"+e;this.resetActivePlaces(),this.markers.forEach(function(e){var t=e.getElement();t.dataset.id===a&&t.classList.add("marker--active")})},t.addNotAvailMarker=function(e){this.notAvailMarker=this.config.provider.addMarker(createGeoJsonFeature(e),createMarkerHTML("marker--not_avail js-marker-not-avail")),this.notAvailMarker.getElement().addEventListener("mouseenter",this.listeners._markerMouseEnter),this.notAvailMarker.getElement().addEventListener("mouseleave",this.listeners._markerMouseLeave)},t.flyTo=function(e){this.config.provider.flyTo(e)},t._doCallbacks=function(e,t){var a=this.callbacks[e];a&&a.forEach(function(e){e(t)})},e}(),pinIcons={3:'<svg class=\'marker__icon\' xmlns="http://www.w3.org/2000/svg" width="23" height="31" viewBox="0 0 23 31">ntt<path id="circle" fill="transparent" d="M10.725.75C4.811.75 0 5.678 0 11.734c0 7.588 9.617 17.55 10.027 17.97.183.189.435.296.698.296.263 0 .515-.107.698-.294.41-.422 10.027-10.384 10.027-17.972C21.45 5.678 16.64.75 10.725.75z" transform="translate(.5)"/>ntt<path id="marker" fill="currentColor" stroke="transparent" d="M10.725.75C4.811.75 0 5.678 0 11.734c0 7.588 9.617 17.55 10.027 17.97.183.189.435.296.698.296.263 0 .515-.107.698-.294.41-.422 10.027-10.384 10.027-17.972C21.45 5.678 16.64.75 10.725.75zm0 15.6c-2.687 0-4.875-2.188-4.875-4.875S8.038 6.6 10.725 6.6 15.6 8.788 15.6 11.475s-2.188 4.875-4.875 4.875z" transform="translate(.5)"/>nt</svg>',5:'<svg class=\'marker__icon\' xmlns="http://www.w3.org/2000/svg" width="19" height="25" viewBox="0 0 19 25"> <g fill="none"> <path fill="#FFF" d="M9.224 0c5.087 0 9.225 4.21 9.225 9.328 0 2.025-.637 3.949-1.841 5.564L9.792 24.08c-.134.18-.344.285-.568.285-.223 0-.433-.106-.567-.285L1.84 14.89C.637 13.277 0 11.353 0 9.328 0 4.21 4.138 0 9.224 0z"/> <path fill="currentColor" stroke="transparent" d="M9.224 0C4.138 0 0 4.21 0 9.328c0 2.025.637 3.949 1.841 5.563l6.816 9.19c.134.18.344.285.567.285.224 0 .434-.106.568-.285l6.816-9.19c1.204-1.614 1.84-3.538 1.84-5.563C18.449 4.21 14.312 0 9.225 0zm4.328 12.544c-1.045 1.4-2.64 2.205-4.38 2.205-1.737 0-3.333-.804-4.378-2.204-.713-.957-1.09-2.097-1.09-3.298 0-3.034 2.453-5.543 5.469-5.543 3.016 0 5.47 2.509 5.47 5.543 0 1.2-.378 2.341-1.091 3.297z"/> </g> </svg>',9:'<svg class=\'marker__icon\' xmlns="http://www.w3.org/2000/svg" width="22" height="24" viewBox="0 0 22 24"><g fill="none"><path fill="#FFF" d="M18.144 3.109C16.139 1.104 13.474 0 10.638 0c-2.835 0-5.5 1.104-7.506 3.109C1.128 5.114.023 7.779.023 10.614c0 5.002 3.497 9.32 8.355 10.373L10.638 24l2.26-3.013c4.858-1.052 8.354-5.37 8.354-10.373 0-2.835-1.104-5.5-3.108-7.505z"/>\n<circle cx="10.638" cy="10.568" r="6.387" fill="currentColor"/><path fill="currentColor" d="M18.144 3.109C16.139 1.104 13.474 0 10.638 0c-2.835 0-5.5 1.104-7.506 3.109C1.128 5.114.023 7.779.023 10.614c0 5.002 3.497 9.32 8.355 10.373L10.638 24l2.26-3.013c4.858-1.052 8.354-5.37 8.354-10.373 0-2.835-1.104-5.5-3.108-7.505zm-7.506-.338c4.299 0 7.796 3.498 7.796 7.797 0 4.298-3.497 7.796-7.796 7.796s-7.797-3.498-7.797-7.796c0-4.3 3.498-7.797 7.797-7.797z"/></g></svg>',60:'<svg class=\'marker__icon\' xmlns="http://www.w3.org/2000/svg" width="23" height="31" viewBox="0 0 23 31">ntt<path id="circle" fill="transparent" d="M10.725.75C4.811.75 0 5.678 0 11.734c0 7.588 9.617 17.55 10.027 17.97.183.189.435.296.698.296.263 0 .515-.107.698-.294.41-.422 10.027-10.384 10.027-17.972C21.45 5.678 16.64.75 10.725.75z" transform="translate(.5)"/>ntt<path id="marker" fill="currentColor" stroke="transparent" d="M10.725.75C4.811.75 0 5.678 0 11.734c0 7.588 9.617 17.55 10.027 17.97.183.189.435.296.698.296.263 0 .515-.107.698-.294.41-.422 10.027-10.384 10.027-17.972C21.45 5.678 16.64.75 10.725.75zm0 15.6c-2.687 0-4.875-2.188-4.875-4.875S8.038 6.6 10.725 6.6 15.6 8.788 15.6 11.475s-2.188 4.875-4.875 4.875z" transform="translate(.5)"/>nt</svg>'},thGroup=Math.floor(travel.opts.theme/100);function createGeoJsonFeature(e,t){return{type:"Feature",geometry:{type:"Point",coordinates:[e.Longitude,e.Latitude]},properties:Object.assign(Object.assign({},t),{},{id:"hotel-"+e.HotelID,mr:e.mr})}}function createMarkerHTML(e){var t=Math.floor(travel.opts.theme/100);e=e||"";var a=document.createElement("div"),s=document.createElement("div"),i=pinIcons[t];return s.className="marker-inner",a.className="marker "+e,a.appendChild(s),s.innerHTML=i,a}function wo(e){window.open(e,"","")}function init(e){var t=e.page,i=e.type,a=(e.lang_id,e.lang,e.day,e.month,e.year,e.obj_id,e.ext_id,e.nid,e.theme),o=Math.floor(a/100);if("destination"!=i&&"hotel"!=i||initLanguages(),3!==o&&9!==o&&60!==o)switch(t){case"about":about_page_text_req();break;case"add_hotel":add_hotel_text_req();break;case"privacy":privacy_text_req();break;case"main":reviews_text_req()}"hotel"==i&&(important_information_req(),showMoreInfo()),("destination"==i||"hotel"==i&&"map"==t)&&($("a.showmap").bind("click",function(){var e=$(gmap_opts.mapcont);if(!e.size())return!1;var t=$(this).attr("id").replace("sm_","");return e.hasClass("ready")&&void 0!==map?map.show(t):(e.html('<div id="map_ajax_loader"></div>'),e.show(),center_window(e),map_id=t,load_map()),!1}),$(window).bind("unload",function(){"function"==typeof GUnload&&GUnload()})),$("#form-feedback, #form-review").each(function(){var a=$(this),s=0;a.validate({rules:{f_name:"required",f_email:{required:!0,email:!0},f_subject:"required",f_message:"required",f_year:"required",f_month:"required",f_rating:"required",f_review:{required:function(e){var t=$(e).closest("form");return $('textarea[name="f_review_cons"]',t).is(":blank")}},f_review_cons:{required:function(e){var t=$(e).closest("form");return $('textarea[name="f_review"]',t).is(":blank")}}},messages:e.messages,errorPlacement:function(e,t){t.is(".css-checkbox")?e.insertAfter(t.closest(".radio-buttons-wrap")):e.insertAfter(t)},showErrors:function(e,t){s=this.numberOfInvalids(),this.defaultShowErrors(),a.siblings(".sending-success, .sending-error").fadeOut(300,function(){$(this).css({visibility:"hidden",display:""})})}}),$('<input type="hidden" name="'+e.k+'" value="'+e.v+'" />').appendTo(a),0==a.find("[name=page]").length&&"hotel"==i&&a.append('<input type="hidden" name="page" value=""/>'),3!=o&&60!=o||a.on("submit",function(){0==s&&(a.hasClass("js-trackevent-contact-form")&&_paq.push(["trackEvent","TOP100 ContactUsHelpSupport","send","SubmitFormSuccess"]),a.hasClass("js-trackevent-add-review-form")&&_paq.push(["trackEvent","TOP100 WriteReview","send","SubmitFormSuccess"]))})}),2!=o&&9!=o||h2_review_scroll(),"hotel"!=i||5!=o&&7!=o&&9!=o&&33!=o&&44!=o||initFaqAccordion()}function initFaqAccordion(){$("body").on("click",".js-faq-accordion-btn",function(){var e=$(this).closest(".js-faq-accordion-wrapper"),t=$(this).closest(".js-faq-accordion"),a=t.find(".js-faq-accordion-wrapper"),s=t.find(".js-faq-accordion-content"),i=e.find(".js-faq-accordion-content");e.hasClass("is-open")||(a.removeClass("is-open"),s.stop().slideUp("300")),e.toggleClass("is-open"),i.stop().slideToggle("300")})}function initLanguages(){$(document).ready(function(){$("#languages").mouseover(function(){$("#languages").addClass("languages-show")}),$("#languages").mouseout(function(){$("#languages").removeClass("languages-show")})})}!function(e,t){String.prototype.startsWith||Object.defineProperty(String.prototype,"startsWith",{value:function(e,t){var a=0<t?0|t:0;return this.substring(a,a+e.length)===e}}),t.modules.polyfills={init:function(){}}}(jQuery,travel),function(t,e){if(t("#form-feedback").hasClass("js-have-redirect-to-gb")&&travel.opts.groupbook_url){var a,s,i,o,n,r,l=t("#form-feedback .js-redirect-to-gb"),c=t("#f_subject");if(t("body").hasClass("sunset"))var d=t("#form-feedback .js-message"),p=t("#form-feedback .form__submit");else d=t("#form-feedback #f_message").parent(),p=t('#form-feedback input[type="submit"]');c.on("change",function(e){10==e.target.value||11==e.target.value?(d.hide(),p.hide(),l.show()):(d.show(),p.show(),l.hide())}),t("body").on("input","#form-feedback #f_name, #form-feedback #f_email",function(e){a=t("#form-feedback #f_name").val(),s=t("#form-feedback #f_email").val(),-1==(i=a.indexOf(" "))?(o=a,n=""):(o=a.slice(0,i),n=a.slice(i+1)),o=encodeURIComponent(o),n=encodeURIComponent(n),s=encodeURIComponent(s)}),t(".js-redirect-to-gb button").click(function(e){e.preventDefault(),r=travel.opts.groupbook_url+"&redirect_from=1",o&&(r+="&cname="+o),n&&(r+="&csurname="+n),s&&(r+="&cemail="+s),window.open(r,"_blank")})}}(jQuery,travel),function(a,s){var f=Math.floor(s.opts.theme/100),g=s.opts||{},v=g.lang;if(g.isBot)return;var k=g.endpointHotelRestaurants,i=null;k&&g.endpointHotelRestaurants.ids&&g.endpointHotelRestaurants.ids.length&&(i=g.endpointHotelRestaurants.ids);var n=a(".js-restaurants"),r=a(".js-restaurants-slider");r.trigger("destroy"),n.fadeOut();var o=1,l=null,c=null,d="";function p(){if(!i)return!1;var e={page:"restaurantinfo",ids:i.join(","),lang_id:g.lang_id},t=s.modules.attractionsUtils.generateKey();t&&(e[t]=travel.opts.nid),a.ajax({method:"get",url:"/geo-data/landmarks/",data:e,success:function(e){if(!(l=e.features))return!1;switch(c=l.filter(function(e){var t=e.properties;if(t.distance=k.data[e.id].minutes,3===f){var a=function(e){var i={valid:!1,markup:""};if(e.WorkHours.length){var t=JSON.parse(e.WorkHours);t.forEach(function(e){var t={de:["So","Mo","Di","Mi","Do","Fr","Sa"],fr:["dim.","lun.","mar.","mer.","jeu.","ven.","sam."],es:["dom","lun","mar","mié","jue","vie","sáb"],it:["Dom","Lun","Mar","Mer","Gio","Ven","Sab"],nl:["zon","maa","din","woe","don","vri","zat"],pt:["Dom","Seg","Ter","Qua","Qui","Sex","Sáb"],sv:["Sön","Mån","Tis","Ons","Tor","Fre","Lör"],da:["Søn","Man","Tir","Ons","Tor","Fre","Lør"],cs:["ne","po","út","st","čt","pá","so"],hu:["Vas","Hét","Ked","Sze","Csü","Pén","Szo"],ja:["日","月","火","水","木","金","土"],zh:["周日","周一","周二","周三","周四","周五","周六"],pl:["Nie","Pn","Wt","Śr","Czw","Pt","So"],el:["Κυρ","Δευ","Τρι","Τετ","Πεμ","Παρ","Σαβ"],ru:["Вс","Пн","Вт","Ср","Чт","Пт","Сб"],uk:["Нд","Пн","Вт","Ср","Чт","Пт","Сб"],tr:["Pz","Pt","Sa","Ça","Pe","Cu","Ct"],ar:["أحد","اثنين","ثلاثاء","أربعاء","خميس","جمعة","سبت"],ko:["일","월","화","수","목","금","토"],he:["א'","ב'","ג'","ד'","ה'","ו'","שבת"],no:["søn","mån","tir","ons","tor","fre","lau"],br:["Dom","Seg","Terç","Qua","Qui","Sex","Sáb"],us:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]};if("en"!==v)var a=e.days.replace("Sun",t[v][0]).replace("Mon",t[v][1]).replace("Tue",t[v][2]).replace("Wed",t[v][3]).replace("Thu",t[v][4]).replace("Fri",t[v][5]).replace("Sat",t[v][6]);else var a=e.days;var s=e.times.join(", <br>");i.markup+='<span class="work-time__days">'+a+', </span><span class="work-time__hours">'+s+"</span><br>",i.valid=!0})}return i}(t);t.workTime=a}var s,i,o=(i={valid:!0,markup:""},(s=t).Address?i.markup=s.Address:s.AddressEng?i.markup=s.AddressEng:g.city?i.markup=g.city:i.valid=!1,i);if(!o)return!1;t.adressData=o;var n=function(e){var t=e.Rating,a=e.ReviewsCount,s={valid:!1,markup:""};if(3===f)var i={goldenStar:'<div class="nearby-restaurants-item__rating-star"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="13" viewBox="0 0 14 13"><path fill="#F68059" fill-rule="evenodd" d="M7 10.5l-4.114 2.163.785-4.581L.343 4.837l4.6-.669L7 0l2.057 4.168 4.6.669-3.328 3.245.785 4.581z"/></svg></div>',halfStar:'<div class="nearby-restaurants-item__rating-star nearby-restaurants-item__rating-star--half"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="13" viewBox="0 0 14 13"><g fill="none" fill-rule="evenodd"><path fill="#D1DDE9" d="M7 10.5l-4.114 2.163.785-4.581L.343 4.837l4.6-.669L7 0l2.057 4.168 4.6.669-3.328 3.245.785 4.581z"/><path fill="#F68059" d="M7 10.5l-4.114 2.163.785-4.581L.343 4.837l4.6-.669L7 0z"/></g></svg></div>',greyStar:'<div class="nearby-restaurants-item__rating-star"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="13" viewBox="0 0 14 13"><path fill="#D1DDE9" fill-rule="evenodd" d="M7 10.5l-4.114 2.163.785-4.581L.343 4.837l4.6-.669L7 0l2.057 4.168 4.6.669-3.328 3.245.785 4.581z"/></svg></div>'};if(5===f)var i={goldenStar:'<div class="nearby-restaurants-item__rating-star restaurant-star"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="13" viewBox="0 0 14 13"><path fill="#FF5722" fill-rule="evenodd" d="M7 10.5l-4.114 2.163.785-4.581L.343 4.837l4.6-.669L7 0l2.057 4.168 4.6.669-3.328 3.245.785 4.581z"/></svg></div>',halfStar:'<div class="nearby-restaurants-item__rating-star restaurant-star restaurant-star--half"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="13" viewBox="0 0 14 13"><g fill="none" fill-rule="evenodd"><path fill="#D6D8DC" d="M7 10.5l-4.114 2.163.785-4.581L.343 4.837l4.6-.669L7 0l2.057 4.168 4.6.669-3.328 3.245.785 4.581z"/><path fill="#FF5722" d="M7 10.5l-4.114 2.163.785-4.581L.343 4.837l4.6-.669L7 0z"/></g></svg></div>',greyStar:'<div class="nearby-restaurants-item__rating-star restaurant-star"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="13" viewBox="0 0 14 13"><path fill="#D1DDE9" fill-rule="evenodd" d="M7 10.5l-4.114 2.163.785-4.581L.343 4.837l4.6-.669L7 0l2.057 4.168 4.6.669-3.328 3.245.785 4.581z"/></svg></div>'};if(9===f)var i={goldenStar:'<div class="restaurant-star"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="13" viewBox="0 0 14 13"><path fill="#FF5722" fill-rule="evenodd" d="M7 10.5l-4.114 2.163.785-4.581L.343 4.837l4.6-.669L7 0l2.057 4.168 4.6.669-3.328 3.245.785 4.581z"/></svg></div>',halfStar:'<div class="restaurant-star restaurant-star--half"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="13" viewBox="0 0 14 13"><g fill="none" fill-rule="evenodd"><path fill="#D6D8DC" d="M7 10.5l-4.114 2.163.785-4.581L.343 4.837l4.6-.669L7 0l2.057 4.168 4.6.669-3.328 3.245.785 4.581z"/><path fill="#FF5722" d="M7 10.5l-4.114 2.163.785-4.581L.343 4.837l4.6-.669L7 0z"/></g></svg></div>',greyStar:'<div class="restaurant-star"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="13" viewBox="0 0 14 13"><path fill="#D1DDE9" fill-rule="evenodd" d="M7 10.5l-4.114 2.163.785-4.581L.343 4.837l4.6-.669L7 0l2.057 4.168 4.6.669-3.328 3.245.785 4.581z"/></svg></div>'};if(3.5<t){var o,n='<span class="nearby-restaurants-item__rating-rate restaurant-rate">'+t+"</span>";if(t%1==0)for(o=1;o<=5;o++)n+=o<=t?i.goldenStar:i.greyStar;else{var r=Math.floor(t);for(o=1;o<=r;o++)n+=i.goldenStar;n+=i.halfStar,3===r&&(n+=i.greyStar)}n+='<div class="nearby-restaurants-item__rating-reviews restaurant-reviews">('+a+") &#149; </div>",s.markup=n,s.valid=!0}return s}(t);if(!n.valid)return!1;t.rating=n;var r,l="Fine Dining"===(r=t.PriceNames)?'<div class="nearby-restaurants-item__rating-prices restaurant-prices">$$$$ &#149; </div>':"Mid-range"===r?'<div class="nearby-restaurants-item__rating-prices restaurant-prices">$$-$$$ &#149; </div>':'<div class="nearby-restaurants-item__rating-prices restaurant-prices">$ &#149; </div>';t.priceData=l;var c=function(e){var t={valid:!1,markupType:"",markupTypes:""};if(e){var a=e.split("|");if(1<=a.length){var s=a.splice(1,a.length-1),i="";s.forEach(function(e,t){e=e.toLowerCase(),t===s.length-1?i+='<span class="cuisine-type">'+e+"</span>":i+='<span class="cuisine-type">'+e+", </span>"}),t.markupTypes=i;var o='<div class="nearby-restaurants-item__rating-type restaurant-type">'+a+"</div>";t.markupType=o,t.valid=!0}}return t}(t.TypeNames);if(!c.valid)return!1;t.typesData=c;var d=function(e){var t=4,a={valid:!1,markup:""},s=e.RestaurantDietaryNames||"",i=e.TagNames||"",o=e.MealNames||"";function n(e,t){e.length>t&&e.splice(t);var a="";return e.forEach(function(e){0<e.length&&(a+='<div class="nearby-restaurants-item__tags-tag tag">'+e+"</div>")}),a}var r=s?s.split("|"):[];if(a.markup=n(r,t),r.length<t){t-=r.length;var l=i?i.split("|"):[];if(a.markup+=n(l,t),l.length<t){t-=l.length;var c=o?o.split("|"):[];a.markup+=n(c,t)}}return a.valid=!!a.markup.length,a}(t);if(!d.valid)return!1;t.tagsData=d;var p,u,h=(u={valid:!0,url:"",extraClass:"",photoStub:!1},(p=t).PhotoUrl&&"NULL"!==p.PhotoUrl&&-1===p.PhotoUrl.toLocaleLowerCase().indexOf("ta_brand_logo")?u.url=decodeURIComponent(JSON.parse('"'+p.PhotoUrl+'"')):void 0!==p.GeoLat&&void 0!==p.GeoLong?(u.url="/maps-data/styles/osm-bright/static/"+p.GeoLong+","+p.GeoLat+",17/350x200.jpg",u.extraClass="map",u.photoStub=!0):u.valid=!1,u);if(!h.valid)return!1;t.photoData=h;var m=t.Name?t.Name:t.NameEng;return t.nameData=m,t}).map(function(e){return e.properties}).sort(function(e,t){var a=e.ReviewsCount?+e.ReviewsCount:0,s=t.ReviewsCount?+t.ReviewsCount:0,i=a<s?1:-1;return i}),f){case 3:!function(){var s=c.length,i=0;if(!s)return;function o(){r.html(d)}n.fadeIn(),c.forEach(function(a,e){var t=new Image;t.onload=function(){if(5===f)var e='<div class="nearby-restaurants-item__info"><div class="nearby-restaurants-item__name">'+a.nameData+'</div><div class="nearby-restaurants-item__distance">'+a.distance+'</div><div class="nearby-restaurants-item__address"><svg class="nearby-restaurants-item__address--icon" xmlns="http://www.w3.org/2000/svg" width="9" height="12" viewBox="0 0 9 12"><path fill="#333E50" fill-rule="nonzero" d="M4.5 0C2.019 0 0 1.95 0 4.346c0 2.974 4.027 7.34 4.199 7.524a.415.415 0 0 0 .602 0C4.973 11.686 9 7.32 9 4.346 9 1.95 6.981 0 4.5 0zm0 6.532c-1.248 0-2.264-.98-2.264-2.186S3.252 2.159 4.5 2.159c1.248 0 2.264.981 2.264 2.187S5.748 6.532 4.5 6.532z"/></svg>'+a.adressData.markup+'</div><div class="nearby-restaurants-item__rating">'+a.rating.markup+a.priceData+a.typesData.markupType+'</div><div class="nearby-restaurants-item__tags">'+a.tagsData.markup+"</div></div>";if(3===f)var e='<div class="nearby-restaurants-item__info"><div class="nearby-attractions-item__info-wrap"><div class="nearby-restaurants-item__name">'+a.nameData+'</div><div class="nearby-restaurants-item__distance">'+a.distance+'</div></div><div class="nearby-restaurants-item__rating">'+a.rating.markup+a.priceData+a.typesData.markupType+'</div><div class="nearby-restaurants-item__address"><svg class="nearby-restaurants-item__address--icon" xmlns="http://www.w3.org/2000/svg" width="9" height="12" viewBox="0 0 9 12"><path fill="#333E50" fill-rule="nonzero" d="M4.5 0C2.019 0 0 1.95 0 4.346c0 2.974 4.027 7.34 4.199 7.524a.415.415 0 0 0 .602 0C4.973 11.686 9 7.32 9 4.346 9 1.95 6.981 0 4.5 0zm0 6.532c-1.248 0-2.264-.98-2.264-2.186S3.252 2.159 4.5 2.159c1.248 0 2.264.981 2.264 2.187S5.748 6.532 4.5 6.532z"/></svg>'+a.adressData.markup+'</div><div class="nearby-restaurants-item__tags">'+a.tagsData.markup+"</div></div>";var t='<div class="nearby-restaurants-item js-restaurants-item"><div class="nearby-restaurants-item__img '+a.photoData.extraClass+'" style="background-image: url('+a.photoData.url+')"></div>'+e+"</div>";d+=t,(i+=1)===s&&(o(),u())},t.onerror=function(){(i+=1)===s&&(o(),u())},t.src=a.photoData.url})}(),s.modules.mapbox.setDataForMap(c,"restaurant");break;case 5:case 9:s.modules.mapbox.setDataForMap(c,"restaurant")}},error:function(e){if(travel.log(e),!(o<=3))return!1;setTimeout(function(){p(),o++},1e3*o)}})}function u(){a(".js-restaurants-slider").each(function(){var e=3;s.isMobile()&&(e=1),a(this).carouFredSel({circular:!0,responsive:!0,width:"100%",infinite:!0,height:"auto",pagination:{container:".js-restaurants-slider-pagination"},items:{visible:e,height:"variable"},auto:{play:!1},direction:"left",scroll:{items:"page",duration:300,pauseOnHover:!1},prev:{button:function(){return a(this).closest(".js-restaurants").find(".js-prev")}},next:{button:function(){return a(this).closest(".js-restaurants").find(".js-next")}}},{wrapper:{classname:"custom_wrapper js-restaurants-custom-wrapper"}})})}s.modules.restaurants={init:function(){"hotel"!==s.opts.type||3!==f&&5!==f&&9!==f||"book"===s.opts.page||(p(),a(".js-open-map-restaurants").click(function(){p()}))}}}(jQuery,travel),function(i,e){var t=Math.floor(e.opts.theme/100),o="",a=i(".js-popup-reviews"),s=i(".js-hotel-rating-button"),n=i(".js-popup-reviews-close-btn"),r=i(".js-popup-reviews-content"),l=i(".js-popup-reviews-iframe"),c=i(".js-popup-reviews-pagination"),d=e.isMobile()?2:3,p=s.data("reviewscount"),u=s.data("src")?atob(s.data("src")):s.data("src"),h={pagination:{items:0,itemsOnPage:10,currentPage:1,useAnchors:!1,edges:0,cssStyle:"",prevText:"&nbsp;",nextText:"&nbsp;",displayedPages:d,onInit:function(){m()},onPageClick:function(e,t){m(e)}}};function m(e){var t=h.pagination.itemsOnPage,a=o+";rows="+t+";offset="+((e||1)-1)*t,s=i("<iframe>").attr("src",a).attr("frameborder","0").addClass("popup-reviews-iframe");l.html(s)}function f(){var e,t;p&&(o!==u&&(o=u,e=p,t=i.extend(null,h.pagination,{items:e}),c.pagination(t)))}function g(){i("body").removeClass("is-open-popup"),a.hide()}e.modules.reviewsBcom={init:function(e){i.extend(!0,h,e),s.on("click",function(){f(),a.show().removeClass("hidden"),i("body").addClass("is-open-popup")}),n.on("click",function(){g()}),i("body").on("click",function(e){0<i(e.target).closest(a).length&&0==i(e.target).closest(r).length&&g()}),5===t&&f()}}}(jQuery,travel),function(n,e){var t=Math.floor(e.opts.theme/100);function a(e){if(this.form=n(".js-add-review-form"),!this.form.length)return!1;this.options=e,this.init()}a.prototype.init=function(){this.initValidation(),this.initProperties(),this.initEvents(),this.initDataCountries()},a.prototype.initValidation=function(){var e=this;n.validator.methods.validCountry=function(){return e.validateCountry()},this.form.validate({ignore:[],focusInvalid:!1,rules:{f_name:"required",f_email:{required:!0,email:!0},f_subject:"required",f_message:"required",f_year:"required",f_month:"required",f_rating:"required",f_review:"required",f_country_ui:{required:!0,validCountry:!0}},messages:travel.opts.messages})},a.prototype.initProperties=function(){this.cons=n(".js-add-review-cons"),this.openConsBtn=n(".js-add-review-cons-open"),this.marksInner=n(".js-add-review-marks"),this.marks=n(".js-add-review-mark"),this.markInput=n(".js-add-review-input"),this.markEmoji=n(".js-add-review-mark-emoji"),this.load=n(".js-add-review-load"),this.loading=n(".js-add-review-loading"),this.countryState={name:"",id:null},this.RATING_DATA=this.options.ratingData},a.prototype.initDataCountries=function(){var t=this;this.getStaticDataCountries().then(function(e){t.COUNTRIES=e.ListCountries?e.ListCountries:[]}).catch(function(e){t.COUNTRIES=[]}).finally(function(){t.initCountries()})},a.prototype.getStaticDataCountries=function(){return new Promise(function(t,a){n.ajax({method:"GET",url:"/static.php",data:{page:"get_data",data_types:["ListCountries"]},success:function(e){e.success?t(e.data):a("Failed to get static data. Success: "+e.success+".")},error:function(e){a("Failed to get static data. Status: "+e.status+". Response status text: "+e.statusText)}})})},a.prototype.initEvents=function(){this.initUI(),this.initRating(),this.initSubmit()},a.prototype.initUI=function(){var t=this;this.openConsBtn.on("click",function(e){t.cons.slideDown(),n(e.currentTarget).slideUp()})},a.prototype.initRating=function(){var i=this;this.marks.on("mouseover",function(e){var t=n(e.currentTarget);i.clearRatingVisualData(),a(t)}),this.marksInner.on("mouseout",function(){var e=n(".js-add-review-mark.is-checked");i.clearRatingVisualData(),e.length&&a(e)}),this.marks.on("click touchend",function(e){var t=n(e.currentTarget),a=t.prevAll().addBack();i.clearRatingCheckedData(),a.addClass("is-activated"),t.addClass("is-checked"),s(t),setTimeout(function(){a.removeClass("is-activated")},500)});var a=function(e){var t=e.prevAll().addBack(),a=+e.attr("data-rating"),s=o(a);t.css("background-color",s.bg),t.addClass("is-active"),i.markEmoji.html(s.emoji)},s=function(e){e.prevAll("input:first").prop("checked",!0).valid()},o=function(e){for(var t,a=1;a<=e;a++)i.RATING_DATA[a]&&(t=i.RATING_DATA[a]);return t}},a.prototype.clearRatingVisualData=function(){this.marks.css("background",this.RATING_DATA[0]),this.marks.removeClass("is-active"),this.markEmoji.html("")},a.prototype.clearRatingCheckedData=function(){this.marks.removeClass("is-checked"),this.markInput.prop("checked",!1)},a.prototype.resetForm=function(e){e.find("input:text, input:password, input:file, select, textarea").val(""),e.find("input:radio, input:checkbox").removeAttr("checked").removeAttr("selected"),this.clearRatingCheckedData(),this.clearRatingVisualData()},a.prototype.initSubmit=function(){var t=this;this.form.on("submit",function(e){if(e.preventDefault(),!t.form.valid())return!1;t.load.addClass("is-active"),n.ajax({method:"POST",url:"/",data:t.form.serialize(),success:function(e){JSON.parse(e).send?t.successCallback():t.errorCallback()},error:function(e){t.errorCallback()}})})},a.prototype.successCallback=function(){var e=this;this.loading.addClass("is-success"),this.resetForm(e.form),setTimeout(function(){e.load.removeClass("is-active"),e.loading.removeClass("is-success")},4e3)},a.prototype.errorCallback=function(){var e=this;this.loading.addClass("is-error"),setTimeout(function(){e.load.removeClass("is-active"),e.loading.removeClass("is-error")},3e3)},a.prototype.initCountries=function(){var a=this;this.countryEnter=this.form.find(".js-add-review-country-enter"),this.countryInput=this.form.find(".js-add-review-country-input"),this.countryUIInput=this.form.find(".js-add-review-country-ui-input"),this.countryHints=this.form.find(".js-add-review-country-hints"),this.countryHints.on("click",function(e){if(!n(e.target).hasClass("js-add-review-country-hint"))return!1;var t=n(e.target).text();a.addCountryHints(t),a.countryUIInput.val(t),a.countryEnter.focusout()}),this.countryEnter.on("focusin",function(e){a.countryHints.addClass("is-open")}),this.countryEnter.on("focusout",function(){a.countryHints.removeClass("is-open"),a.validateCountry()&&a.countryUIInput.valid()}),this.countryUIInput.on("keyup",function(){var e=n(this).val();a.addCountryHints(e)}),this.addCountryHints("")},a.prototype.addCountryHints=function(e){this.updateCountryStateName(e),this.countryHints.html("");var t=this.filterCountryHints(e);this.addCountryHintsMarkup(t)},a.prototype.filterCountryHints=function(){var t=this;return this.COUNTRIES.filter(function(e){return t.findCountry(e)})},a.prototype.addCountryHintsMarkup=function(e){var a=this;e.forEach(function(e){var t=document.createElement("div");t.classList.add("add-review-country-hint"),t.classList.add("js-add-review-country-hint"),t.innerHTML=e.Name?e.Name:e.NameEng,a.countryHints.append(t)})},a.prototype.validateCountry=function(){for(var e=0;e<this.COUNTRIES.length;e++){var t=this.COUNTRIES[e];if(t.Name.toLowerCase()===this.countryState.name.toLowerCase()||t.NameEng.toLowerCase()===this.countryState.name.toLowerCase())return this.setCountryID(t.ID),!0}return!1},a.prototype.findCountry=function(e){var t=this.countryState.name.toLowerCase();return e.Name.toLowerCase().startsWith(t)||e.NameEng.toLowerCase().startsWith(t)},a.prototype.setCountryID=function(e){this.countryState.id=e,this.countryInput.val(e)},a.prototype.updateCountryStateName=function(e){this.countryState.name=e||this.countryUIInput.val()},e.modules.reviewsForm={deps:["polyfills"],init:function(){9===t&&new a({ratingData:{0:"#f0edea",1:{bg:"#e12d2d",emoji:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"> <g fill="none"> <path fill="#FFCC4D" d="M24 12c0 6.627-5.373 12-12 12S0 18.627 0 12 5.373 0 12 0s12 5.373 12 12"/> <ellipse cx="7.667" cy="9.667" fill="#664500" rx="1.667" ry="2.333"/> <ellipse cx="16.333" cy="9.667" fill="#664500" rx="1.667" ry="2.333"/> <path fill="#664500" d="M5.777 18.58c.118.108.296.115.423.02.026-.02 2.615-1.933 5.8-1.933 3.177 0 5.775 1.914 5.8 1.933.127.095.305.087.423-.02.118-.106.145-.282.063-.418-.086-.143-2.145-3.495-6.286-3.495s-6.2 3.352-6.286 3.495c-.082.137-.056.312.063.419z"/> </g> </svg>'},3:{bg:"#ffd258",emoji:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 56 56"> <g fill="none" fill-rule="evenodd"> <g fill-rule="nonzero"> <g> <g> <g transform="translate(-280 -1522) translate(280 1522)"> <path fill="#FFCC4D" d="M56 28c0 15.464-12.536 28-28 28C12.538 56 0 43.464 0 28 0 12.538 12.538 0 28 0c15.464 0 28 12.538 28 28"/> <ellipse cx="17.889" cy="25.667" fill="#664500" rx="3.889" ry="5.444"/> <ellipse cx="38.111" cy="25.667" fill="#664500" rx="3.889" ry="5.444"/> <path fill="#664500" d="M38.889 40.444H17.11c-.859 0-1.555-.695-1.555-1.555s.696-1.556 1.555-1.556H38.89c.86 0 1.555.696 1.555 1.556 0 .86-.695 1.555-1.555 1.555z"/> </g> </g> </g> </g> </g> </svg>'},5:{bg:"#7ed321",emoji:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 55 55"> <g fill="none" fill-rule="evenodd"> <g fill-rule="nonzero"> <g> <g> <g transform="translate(-280 -1141) translate(280 1141)"> <circle cx="27.5" cy="27.5" r="27.5" fill="#FFCC4D"/> <path fill="#664500" d="M16.065 36.088c.068.273 1.784 6.69 11.435 6.69 9.653 0 11.367-6.417 11.435-6.69.084-.332-.065-.676-.362-.847-.298-.17-.67-.119-.916.118-.03.029-2.986 2.835-10.157 2.835-7.171 0-10.13-2.806-10.157-2.834-.146-.145-.342-.221-.537-.221-.129 0-.259.032-.376.098-.3.17-.45.518-.365.85z"/> <ellipse cx="18.333" cy="20.625" fill="#664500" rx="3.819" ry="5.347"/> <ellipse cx="36.667" cy="20.625" fill="#664500" rx="3.819" ry="5.347"/> </g> </g> </g> </g> </g> </svg>'},8:{bg:"#2baf40",emoji:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 55 55"> <g fill="none" fill-rule="evenodd"> <g fill-rule="nonzero"> <g> <g> <path fill="#FFCC4D" d="M55 27.5C55 42.688 42.688 55 27.5 55S0 42.688 0 27.5 12.312 0 27.5 0 55 12.312 55 27.5" transform="translate(-280 -883) translate(280 883)"/> <path fill="#664500" d="M27.5 33.38c-4.531 0-7.54-.528-11.258-1.25-.851-.163-2.503 0-2.503 2.502 0 5.003 5.75 11.258 13.761 11.258 8.012 0 13.76-6.255 13.76-11.258 0-2.503-1.652-2.666-2.502-2.503-3.718.723-6.725 1.251-11.258 1.251" transform="translate(-280 -883) translate(280 883)"/> <path fill="#DD2E44" d="M25.438 5.013c-1.313-3.714-5.384-5.664-9.1-4.355-2.255.795-3.851 2.615-4.473 4.743-1.82-1.267-4.203-1.68-6.455-.886C1.697 5.825-.255 9.9 1.057 13.614c.187.526.434 1.013.721 1.464 2.981 5.472 11.593 9.32 16.807 9.366 4.03-3.31 8.32-11.71 7.208-17.84-.058-.531-.172-1.066-.355-1.591zm4.125 0c1.312-3.714 5.385-5.664 9.099-4.355 2.255.795 3.851 2.615 4.475 4.743 1.82-1.267 4.203-1.68 6.455-.886 3.712 1.31 5.663 5.385 4.354 9.099-.188.526-.434 1.013-.723 1.464-2.98 5.472-11.593 9.32-16.808 9.366-4.03-3.31-8.32-11.71-7.207-17.84.057-.531.171-1.066.355-1.591z" transform="translate(-280 -883) translate(280 883)"/> </g> </g> </g> </g> </svg>'}}}),5===t&&new a({ratingData:{0:"#F5F5F6",1:{bg:"#e12d2d",emoji:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"> <g fill="none"> <path fill="#FFCC4D" d="M24 12c0 6.627-5.373 12-12 12S0 18.627 0 12 5.373 0 12 0s12 5.373 12 12"/> <ellipse cx="7.667" cy="9.667" fill="#664500" rx="1.667" ry="2.333"/> <ellipse cx="16.333" cy="9.667" fill="#664500" rx="1.667" ry="2.333"/> <path fill="#664500" d="M5.777 18.58c.118.108.296.115.423.02.026-.02 2.615-1.933 5.8-1.933 3.177 0 5.775 1.914 5.8 1.933.127.095.305.087.423-.02.118-.106.145-.282.063-.418-.086-.143-2.145-3.495-6.286-3.495s-6.2 3.352-6.286 3.495c-.082.137-.056.312.063.419z"/> </g> </svg>'},3:{bg:"#ffd258",emoji:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 56 56"> <g fill="none" fill-rule="evenodd"> <g fill-rule="nonzero"> <g> <g> <g transform="translate(-280 -1522) translate(280 1522)"> <path fill="#FFCC4D" d="M56 28c0 15.464-12.536 28-28 28C12.538 56 0 43.464 0 28 0 12.538 12.538 0 28 0c15.464 0 28 12.538 28 28"/> <ellipse cx="17.889" cy="25.667" fill="#664500" rx="3.889" ry="5.444"/> <ellipse cx="38.111" cy="25.667" fill="#664500" rx="3.889" ry="5.444"/> <path fill="#664500" d="M38.889 40.444H17.11c-.859 0-1.555-.695-1.555-1.555s.696-1.556 1.555-1.556H38.89c.86 0 1.555.696 1.555 1.556 0 .86-.695 1.555-1.555 1.555z"/> </g> </g> </g> </g> </g> </svg>'},5:{bg:"#7ed321",emoji:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 55 55"> <g fill="none" fill-rule="evenodd"> <g fill-rule="nonzero"> <g> <g> <g transform="translate(-280 -1141) translate(280 1141)"> <circle cx="27.5" cy="27.5" r="27.5" fill="#FFCC4D"/> <path fill="#664500" d="M16.065 36.088c.068.273 1.784 6.69 11.435 6.69 9.653 0 11.367-6.417 11.435-6.69.084-.332-.065-.676-.362-.847-.298-.17-.67-.119-.916.118-.03.029-2.986 2.835-10.157 2.835-7.171 0-10.13-2.806-10.157-2.834-.146-.145-.342-.221-.537-.221-.129 0-.259.032-.376.098-.3.17-.45.518-.365.85z"/> <ellipse cx="18.333" cy="20.625" fill="#664500" rx="3.819" ry="5.347"/> <ellipse cx="36.667" cy="20.625" fill="#664500" rx="3.819" ry="5.347"/> </g> </g> </g> </g> </g> </svg>'},8:{bg:"#2baf40",emoji:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 55 55"> <g fill="none" fill-rule="evenodd"> <g fill-rule="nonzero"> <g> <g> <path fill="#FFCC4D" d="M55 27.5C55 42.688 42.688 55 27.5 55S0 42.688 0 27.5 12.312 0 27.5 0 55 12.312 55 27.5" transform="translate(-280 -883) translate(280 883)"/> <path fill="#664500" d="M27.5 33.38c-4.531 0-7.54-.528-11.258-1.25-.851-.163-2.503 0-2.503 2.502 0 5.003 5.75 11.258 13.761 11.258 8.012 0 13.76-6.255 13.76-11.258 0-2.503-1.652-2.666-2.502-2.503-3.718.723-6.725 1.251-11.258 1.251" transform="translate(-280 -883) translate(280 883)"/> <path fill="#DD2E44" d="M25.438 5.013c-1.313-3.714-5.384-5.664-9.1-4.355-2.255.795-3.851 2.615-4.473 4.743-1.82-1.267-4.203-1.68-6.455-.886C1.697 5.825-.255 9.9 1.057 13.614c.187.526.434 1.013.721 1.464 2.981 5.472 11.593 9.32 16.807 9.366 4.03-3.31 8.32-11.71 7.208-17.84-.058-.531-.172-1.066-.355-1.591zm4.125 0c1.312-3.714 5.385-5.664 9.099-4.355 2.255.795 3.851 2.615 4.475 4.743 1.82-1.267 4.203-1.68 6.455-.886 3.712 1.31 5.663 5.385 4.354 9.099-.188.526-.434 1.013-.723 1.464-2.98 5.472-11.593 9.32-16.808 9.366-4.03-3.31-8.32-11.71-7.207-17.84.057-.531.171-1.066.355-1.591z" transform="translate(-280 -883) translate(280 883)"/> </g> </g> </g> </g> </svg>'}}})}}}(jQuery,travel),function(s,e){var t=Math.floor(e.opts.theme/100);function a(e){this.reviews=s(e||".js-reviews-our"),this.reviewsItems=this.reviews.find(".js-review-our")}if(a.prototype.initPagination=function(e){var t=e.selector?s(e.selector):s(".js-reviews-our-pagination");if(!t.length)return!1;var a=this.reviewsItems.length;if(a<=e.pageSize)return!1;var i=this;this.paginationConfig={dataSource:new Array(a),pageSize:e.pageSize,pageRange:1,prevText:"",nextText:"",callback:function(e,t){var a=t.pageNumber*t.pageSize-t.pageSize,s=t.pageNumber*t.pageSize;i.reviewsItems.hide(),i.reviewsItems.slice(a,s).fadeIn(300)}},t.pagination2(this.paginationConfig)},9===t){var i={selector:".js-reviews-our-pagination",pageSize:10,autoHidePrevious:!0,autoHideNext:!0};new a(".js-reviews-our").initPagination(i)}if(5===t||33===t){i={selector:".js-reviews-our-pagination",pageSize:10};new a(".js-reviews-our").initPagination(i)}e.modules.ourReviews={init:function(){}}}(jQuery,travel),function(a,e){var t=Math.floor(e.opts.theme/100);var s=new function(){this.initTabs=function(){this.tabs=a(".js-reviews-tab"),this.blocks=a(".js-reviews-block");var t=this;this.tabs.on("click",function(){var e=a(this).attr("data-block");t.activateTab(e),t.activateBlock(e)})},this.activateBlock=function(e){var t=a('.js-reviews-block[data-block="'+e+'"]');this.blocks.removeClass("is-active"),t.addClass("is-active")},this.activateTab=function(e){var t=a('.js-reviews-tab[data-block="'+e+'"]');this.tabs.removeClass("is-active"),t.addClass("is-active")},this.initOuterTabBtns=function(){this.outerTabBtns=a(".js-reviews-outer-tab");var t=this;this.outerTabBtns.on("click",function(){var e=a(this).attr("data-block");t.activateTab(e),t.activateBlock(e)})}};9===t&&(s.initTabs(),s.initOuterTabBtns()),5===t&&(s.initTabs(),s.initOuterTabBtns()),e.modules.reviews={init:function(){}}}(jQuery,travel),function(o,n){var a={langid:1,selector:".calendar_field"},i="__show";function s(){var e=o("body");if(e.length){if(o(e).on("click",".js-roominfo-hide",function(){var e=o(this).closest(".js-room");return o(".js-info-visible",e).hide(),o(".js-info-hidden",e).show(),o(".js-room-name",e).show(),!1}),o(e).on("click",".js-roominfo-show",function(){var e=o(this).closest(".js-room");return o(".js-info-visible",e).show(),o(".js-info-hidden",e).hide(),o(".js-room-name",e).hide(),!1}),o(e).on("click",".js-rooms-show",function(){return o(this).hide(),o(".js-room-hidden",e).show(),o(".js-room",e).each(function(){var e=o(this);o(".js-rate",e).removeClass("border-bottom-grey-all")}),!1}),o(e).on("click",".js-rates-show",function(){var e=o(this).closest(".js-room");return o(".js-rate-hidden",e).show(),o(".js-rates-show",e).hide(),o(".js-rates-hide",e).show(),!1}),o(e).on("click",".js-rates-hide",function(){o(this).hide();var e=o(this).closest(".js-room");return o(".js-rate-hidden",e).hide(),o(".js-rates-show",e).show(),!1}),o(e).one("mouseenter",".js-rate-info",function(){o(".js-rate-info").tooltip({items:".js-rate-info",track:!1,content:function(){return o(this).closest(".js-rate").find(".js-rate-info-text").html()}}),o(this).trigger("mouseenter")}),e.on("click",".js-show-hide-info",function(){o(this).closest(".room-description-wrap").find(".js-info-block").toggle(),o(".brn-close",this).toggle(),o(".brn-open",this).toggle()}),n.isMobile()){e.on("click",".js-hotel-room-name",function(){o(this).closest(".more-room-info-wrap").find(".js-info-block").toggle(),o(this).hasClass("hotel-room-name__open")?(o(this).addClass("hotel-room-name__close"),o(this).removeClass("hotel-room-name__open")):(o(this).addClass("hotel-room-name__open"),o(this).removeClass("hotel-room-name__close"))});var t=o(".js-mob-links").hide();o(".js-arr-top, .js-show-hide").hide(),o(".js-show-more").on("click",function(){t.toggle(300),o(".js-arr-bot, .js-arr-top, .js-show-hide, .js-show-more-btn").toggle()})}o("body").on("click",".js-show-information",function(){var e=o(".more",this),t=o(".less",this);e.hasClass("curent")?(e.removeClass("curent"),t.addClass("curent"),o(this).closest(".js-room").find(".js-room-description").show(300)):(t.removeClass("curent"),e.addClass("curent"),o(this).closest(".js-room").find(".js-room-description").hide(300))})}}function r(s){var i=Math.floor(n.opts.theme/100);o.ajax({type:"GET",url:"/check_avail.php",data:{page:"rooms",hotel_id:s[0],from:s[1],to:s[2],adults:s[3],currency:s[4],lang_id:s[5],use_dates:s[7],r:Math.random()},success:function(e){if(e.length<16)setTimeout(function(){r(s)},3e3);else{var t,a=o(".js-rooms-cont");a.html(e),t=Math.floor(n.opts.theme/100),"hotel"!=n.opts.type||9!=t&&2!=t&&8!=t||o(".lazy",o(".js-room-photos:first")).each(function(e,t){o(t).attr("src",o(t).data("original"))}),travel.modules.lazy.init(),a.on("click",".b_popupdate",function(){6==i||50==i||30==i?o.scrollTo(o(".js-avail-scroll-point"),700,void o("#availability-form").animate({opacity:.5},400,function(){}).animate({opacity:1},400,function(){}).animate({opacity:.5},400,function(){}).animate({opacity:1},400,function(){}).animate({opacity:.5},400,function(){}).animate({opacity:1},400,function(){})):o.scrollTo(o(".js-avail-scroll-point"),700),n.isMobile()||"hotel"!=n.opts.type||7!=i&&6!=i&&50!=i&&30!=i&&4!=i&&40!=i||35!=n.opts.nid&&39!=n.opts.nid||o(".js-calendar-show").eq(0).trigger("click")}),(3==i||60==i||4==i||5==i|55==i||6==i||40==i||50==i||30==i||33==i||44==i)&&o(".js-b-popscroll").on("click",function(){parseInt(n.opts.popprice)||o.scrollTo(o(".js-avail-scroll-point"),700)}),travel.modules.gallery.initRoomsGalleries(),o("#splash").dialog("close"),o(".js-hotel-description .js-rooms-amenities").autocolumnlist({columns:travel.isMobile()?2:0<o(".js-rooms-autocolumnlist").length?3:4}),travel.isMobile()&&o(".js-mob-rooms-amenities").autocolumnlist({columns:2}),9==i&&"hotel"==travel.opts.type?o.scrollTo(o("#rooms"),500,{offset:{top:-100}}):o.scrollTo(o("#rooms"),700)}},error:function(){setTimeout(function(){r(s)},3e3)}})}function l(){var e=n.opts,t=e.lang_id,a=e.obj_id;if("hotel"==e.type){o(".js-err-dates-limit").length||(0!=o("#u").val()?setTimeout(function(){splash(400,"auto"),avhotel_req(a,e.av_params,t,o("#results"))},500):(splash(400,"auto"),avdata=[a,"","",o("#adults").val(),o("#curr").val(),t,"",0],r(avdata)));var s=Math.floor(n.opts.theme/100);0!=s&&3!=s&&60!=s&&4!=s&&40!=s&&5!=s&&55!=s&&7!=s&&20!=s&&33!=s&&44!=s||!n.isMobile()||(o(".js-rooms-cont").on("click",".js-hide-info span",function(){var e=o(".js-info-block",o(this).closest(".js-room")),t=o("span",o(this).closest(".js-hide-info"));e.hasClass(i)?e.removeClass(i):e.addClass(i),t.toggle()}),function(){var e=5==thGroup?73:55,t=o(".js-text-overview"),a=0;if(0==o("p",t).length)return;o("p",t).each(function(){a+=o(this).outerHeight()}),a<e&&o(".js-btn-description").hide(),o(".js-btn-description").on("click","a",function(){o(".js-btn-description  a").toggle(),t.hasClass(i)?t.removeClass(i):t.addClass(i)}),o("p",t).each(function(){0==o(this).text().length&&o(this).remove()})}()),2!=s&&9!=s&&8!=s&&10!=s||o(".page-rooms").on("click",".js-show-info, .js-hide-info",function(){o(this).hasClass("js-show-info")?(o(this).closest(".js-rooms-description").removeClass("__hide"),o(this).hide()):(o(this).closest(".js-rooms-description").addClass("__hide"),o(".js-show-info").show())}),9==s&&(o("body").on("click",".js-button-info",function(){o(this).closest(".js-rooms-description").toggleClass("is-active")}),n.isMobile()&&(o("body").on("click",".js-amenities-title",function(){var e=o(this).closest(".js-amenities-group");o(".js-amenities-group").not(e).removeClass("is-active-amenity"),o(this).closest(".js-amenities-group").toggleClass("is-active-amenity")}),o("body").on("click",".js-rates-button",function(){var e=o(this).closest(".js-rate");o(".js-rate").not(e).removeClass("is-active-rate"),o(this).closest(".js-rate").toggleClass("is-active-rate")})),o("body").on("mouseenter",".js-rate-tooltip-item",function(){o(this).closest(".js-rate-tooltip").find(".js-rate-tooltip-text").show()}),o("body").on("mouseleave",".js-rate-tooltip-item",function(){o(this).closest(".js-rate-tooltip").find(".js-rate-tooltip-text").hide()}),o("body").on("click",".js-button-rates",function(){o(this).closest(".js-room").toggleClass("is-more-rates")})),5==s&&(o("body").on("click",".js-room-details-btn",function(){var e=o(this).attr("data-room"),t=o(this).closest(".js-room").find(".js-room-details[data-room="+e+"]");t.addClass("is-active"),o("body").addClass("is-overflow"),t.find(".js-room-details-inner").height()>t.height()&&t.addClass("is-overflow")}),o("body").on("click",".js-room-details-close",function(){o(this).closest(".js-room-details").removeClass("is-active is-overflow"),o("body").removeClass("is-overflow")}),o("body").on("click",".js-room-more",function(){var e=o(this).closest(".js-room");e.find(".js-rate-hidden").toggle(),o(this).hasClass("active")&&o("html, body").animate({scrollTop:e.offset().top-100},300),o(this).toggleClass("active")})),5!=s&&3!=s&&60!=s||n.isMobile()&&o("body").on("click",".js-room-slide-btn",function(){var e=o(this).closest(".js-room-slide-wrap"),t=e.find(".js-room-slide-content"),a=e.find(".js-room-slide-btn"),s=o(this),i=s.closest(".js-room-slide").find(".js-room-slide-content");s.toggleClass("active"),i.stop().slideToggle(300),a.not(s).removeClass("active"),t.not(i).stop().slideUp(300)}),3!=s&&5!=s&&9!=s||o("body").on("change",".js-beds-input",function(){var a=o(this).val();o(this).closest(".js-rate").find("input[name=bedType]").each(function(e,t){o(t).attr("value",a)})})}}n.modules.rooms={init:function(e){var t;o.extend(!0,a,e),function(){s();var e=o(document);e.one("page-rooms-active",function(){l()});var t=Math.floor(n.opts.theme/100);!n.isMobile()||0!=t&&4!=t&&40!=t&&5!=t&&55!=t&&33!=t&&44!=t||e.trigger("page-rooms-active")}(),3==(t=Math.floor(n.opts.theme/100))||60==t||33==t||44==t?(o("body").on("click",".js-show-price-btn",function(){var e=o(".js-price-popup");e.size()||(n.opts.popprice=0),parseInt(n.opts.popprice)&&(e.show(),o("body").addClass("is-open-popup"))}),o(".js-price-popup-close-btn").on("click",function(){var e=o(this).closest(".js-price-popup");o("body").removeClass("is-open-popup"),e.hide()}),o("body").on("click",function(e){var t=o(".js-price-popup");if(t.size()){var a=t.find(".js-price-popup-content");0<o(e.target).closest(t).length&&0==o(e.target).closest(a).length&&(o("body").removeClass("is-open-popup"),t.hide())}})):n.opts.popprice=0}}}(jQuery,travel),function(n,r){var i,l,a,s,c,d,o,p,u=null,t=!1,h=!1;function m(e,t){if(t===google.maps.GeocoderStatus.OK){var a=n(".js-route-from");c=a.attr("placeholder"),a.attr("placeholder",s),d=e[0].formatted_address}}function f(e){var t=new google.maps.Geocoder;u={lat:e.coords.latitude,lng:e.coords.longitude},t.geocode({location:u},m)}function e(){if(r.hotel_map){r.log("initMap");var e=new google.maps.LatLng(l[0],l[1]);r.log("initMap",e);var t,a;if(i=r.hotel_map,o=new google.maps.DirectionsRenderer,p=new google.maps.DirectionsService,o.setMap(i),o.setPanel(n("#tab-pane").get(0)),navigator.geolocation)/chrom(e|ium)/.test(navigator.userAgent.toLowerCase())?n(".js-btn-my-location").hide():(n(".js-new-routing .js-btn-my-location").hide(),n(".js-btn-my-location").on("click",function(){navigator.geolocation.getCurrentPosition(f)}));t=n(".js-route-from").get(0),a=new google.maps.places.Autocomplete(t,{types:["geocode"],bounds:new google.maps.LatLngBounds(new google.maps.LatLng(l[0],l[1]),new google.maps.LatLng(l[0],l[1]))}),google.maps.event.addListener(a,"place_changed",function(){var e=a.getPlace();e.place_id&&(n(".js-route-from").removeClass("error"),n(".js-error-ds").hide())});var s=n(".js-route-form").on("submit",function(e){if(e.preventDefault(),function(){var e=!0,t=n(".js-route-before"),a=n(".js-error");""==t.val()?(t.addClass("error"),a.show(),e=!1):(t.removeClass("error"),a.hide(),e=!0);return e}()){var t,a,s=n(".js-travel-mode:checked").val();t=n(".js-tab-route"),a=s,t.removeClass("active"),t.each(function(){n(this).data("value")==a&&n(this).addClass("active")}),v(s)}});n(".js-get-directions").not(":submit").on("click",function(){s.trigger("submit")})}}function g(e,t){a.hide(),n(".js-rout-search-err").hide(),n(".js-route-from").removeClass("error"),n(".js-error-ds").hide(),t===google.maps.DirectionsStatus.OK?(!0,o.setDirections(e),a.show(),a.on("click",".js-tab-route",function(){n(this).hasClass("active")||(v(n(this).data("value")),n(".js-tab-route").removeClass("active"),n(this).addClass("active"))})):t===google.maps.DirectionsStatus.ZERO_RESULTS?(a.show(),n(".js-rout-search-err").show(),n(".js-tab-pane").empty()):(n(".js-route-from").addClass("error"),n(".js-error-ds").show()),n(".js-loading").hide()}function v(e,t){var a=n(".js-route-from"),s="",i=n(".js-route-before").val();n(".js-tab-pane").html('<div class="js-loading loader"><img src="/templates/hotel2/images/progress-loader-a51c5608d0.gif"></div>'),null!=u&&""==a.val()?(s=u,u=null,a.val(d).attr("placeholder",c)):s!=t&&(s=a.val());var o={origin:s,destination:i,travelMode:google.maps.TravelMode[e]};p.route(o,g)}function k(){l=n(".js-route-before").val().split(","),n(".js-hotel-name").text(),n(".js-rp-container"),a=n(".js-rp-result-wrap"),s=n(".js-hotel-placeholder").text(),r.opts.map_params.provider<=0?(e(),n(".js-show-text").hide(),n(".js-rout-search-err").hide(),a.on("click",".js-hide-route",function(){n(".js-tab-pane").toggle(),n(".js-show-text, .js-hide-text").toggle()})):function(){if("undefined"==typeof L)return;var t=n(".js-rout-search-err"),a=n(".js-img-load"),s=(Math.floor(r.opts.theme/100),!1),e=r.hotel_map,i="en";void 0!==L.Routing.Localization[r.opts.lang]&&(i=r.opts.lang);e.panTo(new L.LatLng(l[0],l[1]));var o=L.Routing.control({waypoints:[L.latLng(),L.latLng(l[0],l[1])],fitSelectedRoutes:!0,geocoder:L.Control.Geocoder.nominatim(),reverseWaypoints:!1,routeWhileDragging:!1,draggableWaypoints:!1,containerClassName:"js-plan-container new-routing",showAlternatives:!0,language:i}).addTo(e);n(".js-new-routing").prepend(n(".js-plan-container")),o.on("routingstart",function(e){a.show(),s&&(n(".js-rout-search-err").hide(),s=!1)}),o.on("routesfound",function(e){n(".js-spec-block").show(),a.hide()}),o.on("routingerror",function(e){a.hide(),t.appendTo(".js-plan-container"),t.show(),s=!0,n(".js-spec-block").hide()}),/chrom(e|ium)/.test(navigator.userAgent.toLowerCase())?n(".js-btn-my-location").hide():(n(".js-btn-my-location").hide(),n(".js-btn-my-location").on("click",function(){e.locate({setView:!1}).on("locationfound",function(e){o.getPlan().setWaypoints([L.latLng(e.latitude,e.longitude),L.latLng(l[0],l[1])])})}))}(),n(".js-print-page").on("click",function(){window.print()})}r.modules.routePlanner={init:function(){var e=Math.floor(r.opts.theme/100);1!=e&&3!=e&&60!=e&&5!=e&&9!=e&&(n(document).on("maps-created",function(){t=!0,h&&k()}),n(document).one("page-map-active",function(){t?k():h=!0}))}}}(jQuery,travel),function(o,t){var n,r,a,l,s=null,i=null;function c(e,t){if(o("#map-container").css("height",o(window).height()-50),!r.length)return!1;var a=r.outerWidth(),s=l?r.offset().left+n.outerWidth():r.offset().left,i=l?"right":"left";o(window).scrollTop()>e&&r.hasClass("default")||t?r.css(i,s).css("width",a).removeClass("default").addClass("fixed-map-block"):o(window).scrollTop()<=e&&r.hasClass("fixed-map-block")&&r.removeClass("fixed-map-block").addClass("default").removeAttr("style")}t.modules.scrollMap={init:function(){if(s=travel.opts.theme,7!=(i=Math.floor(s/100))&&20!=i){var e=travel.opts.page;1==i&&"map"==e&&o(".js-hide-footer").hide(),l=o("body").hasClass("rtl"),"map"==e&&(!t.isMobile()&&8!=i&&10!=i||!t.isMercuryTablet()&&(8==i||10==i)?(n=o(".js-mob-filter"),r=o(".js-map-right-col"),a=o(".js-d-header"),o(window).resize(function(){r.hasClass("fixed-map-block")&&c(a.height()+o(".page-title").height(),!0)}),o(window).scroll(function(){n.height()>o(window).height()&&c(a.height()+o(".page-title").height())})):o(".js-map-right-col").css("height",o(window).height()-68))}}}}(jQuery,travel),function(j,_){var e=!1,t=Math.floor(travel.opts.theme/100);if(3===t||60===t)return;function a(){var f=_.opts.type,g=Math.floor(_.opts.theme/100),v=_.opts.map_params.provider,k=_.opts.map_params.key,y=_.opts.map_params.lat||0,w=_.opts.map_params.long||0,b=_.opts.lang;j(".js-map").each(function(e,t){if($map=j(t),!$map.hasClass("js-map-ready")){$map.addClass("js-map-ready");var a=$map.data("type");a||(a="static");var s=$map.data("zoom");s||(s=15);var i=$map.data("width"),o=$map.data("height"),n=$map.data("map");if(n&&(a="dynamic"),"window"==o){var r=j(window).height();$map.css({height:r+"px"})}if(0==v)if("static"==a&&0<i&&i<=640&&o<=640){var l="https://maps.google.com/maps/api/staticmap?sensor=false&center="+y+","+w;"hotel"==_.opts.type&&(l+="&markers=size:big|color:red|label:H|"+y+","+w),l+="&size="+i+"x"+o+"&zoom="+s+"&language="+b,j("<img>").attr("width",i).attr("height",o).attr("src",l).appendTo($map)}else{var c=new google.maps.Map($map.get(0),{center:{lat:parseFloat(y),lng:parseFloat(w)},scrollwheel:!1,zoom:s});if("hotel"==_.opts.type)new google.maps.Marker({position:{lat:parseFloat(y),lng:parseFloat(w)},map:c});j(document).one("page-map-active page-location-active",function(){var e=c.getCenter();google.maps.event.trigger(c,"resize"),c.setCenter(e)}),"city"==n?_.city_map=c:"hotel"==n&&(_.hotel_map=c)}else{if("undefined"==typeof L)return;var d={};"static"==a&&(d={dragging:!1,touchZoom:!1,scrollWheelZoom:!1,doubleClickZoom:!1,boxZoom:!1,zoomControl:!1,attributionControl:!0});var p=L.map($map.get(0),d);if(p.setView([y,w],s),1==v){var u=new L.BingLayer(k,{type:"Road",culture:b});p.addLayer(u)}else if(2==v){var h,m;"destination"!=f||8!=g&&10!=g?(h="https://{s}.tile.openstreetmap.fr/hot/{z}/{x}/{y}.png",m='&copy; <a href="https://openstreetmap.org/copyright">OpenStreetMap</a> contributors',u=L.tileLayer(h,{attribution:m,maxZoom:18})):(h="http://{s}.tiles.wmflabs.org/bw-mapnik/{z}/{x}/{y}.png",m='&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>',u=L.tileLayer(h,{attribution:m,maxZoom:17})),p.addLayer(u)}else _.log("UNKNOWN MAP PROVIDER");"hotel"==_.opts.type&&(L.Icon.Default.imagePath=3==g?"/templates/hotel3/images":"/build/packs/images",$map.hasClass("js-map-routeplanner")||L.marker([y,w]).addTo(p)),p.scrollWheelZoom.disable(),"city"==n?_.city_map=p:"hotel"==n&&(_.hotel_map=p),j(document).on("page-map-active page-location-active",function(){p.invalidateSize()})}}}),j(document).trigger("maps-created")}_.modules.maps={init:function(){e?a():j(document).on("mapsengine-ready",function(){e=!0,a()})}}}(jQuery,travel),function(o,n){n.modules.staticPages={init:function(){var e,t=Math.floor(travel.opts.theme/100),a=n.opts.page;3!==t&&60!==t&&5!==t&&9!==t||(-1!==["upd_about_us","upd_our_values","upd_why_book_with_us","upd_partnership","upd_mission","upd_cooperation","upd_useful_tips","upd_our_story","upd_terms_and_conditions","upd_refund_policy","privacy","copyright"].indexOf(e=a)&&function e(t){var a,s=t.indexOf("_")+1,i=t.slice(s);switch(i){case"copyright":a="copyright_notice_text";break;case"privacy":a="privacy_policy_text";break;case"refund-policy":a="refund_policy_text";break;default:a=i+"_text"}o.ajax({type:"GET",url:"/static.php",data:{page:a,LanguageCode:n.opts.lang||"en",r:Math.random()},dataType:"html"}).done(function(e){o(".js-"+i).html(e)}).fail(function(){setTimeout(function(){e(i)},3e3)})}(e),"faq"===a&&function e(a){o.ajax({type:"GET",url:"/static.php",data:{page:"faq_page",LanguageCode:n.opts.lang||"en",r:Math.random()},dataType:"html"}).done(function(e){var t=o(".js-faq");t.html(e),3!==a&&60!==a||o(".js-faq-toggler").each(function(){o(this).on("click",function(){o(this).closest(".js-faq-accordion").toggleClass("is-open")})}),5!==a&&9!==a||o(".js-faq-accordion").each(function(){var e=o(this),t=e.find(".js-faq-accordion-btn"),a=e.find(".js-faq-accordion-wrapper"),s=e.find(".js-faq-accordion-content");t.on("click",function(){var e=o(this).closest(".js-faq-accordion-wrapper"),t=e.find(".js-faq-accordion-content");e.hasClass("is-open")||(a.removeClass("is-open"),s.stop().slideUp("300")),e.toggleClass("is-open"),t.stop().slideToggle("300")})})}).fail(function(){setTimeout(function(){e()},1e3)})}(t))}}}(jQuery,travel),function(C,M){function d(e){C.datepicker.setDefaults({showOn:"both",buttonImageOnly:!1,numberOfMonths:1,showOtherMonths:!0,showAnim:"fadeIn",dateFormat:"yy-mm-dd",showButtonPanel:!0,autoClose:!0,beforeShow:null,onClose:null,onSelect:null});var a=C(".js-date-from-input",e),s=C(".js-date-to-input",e),t=C(".js-date-from-field",e),i=C(".js-date-to-field",e),o=C(".js-date-from-field--mobile"),n=C(".js-date-to-field--mobile"),r=C(".js-guests-dropdown",e);x(new Date(a.val()),t),x(new Date(s.val()),i),M.isMobile()&&(x(new Date(a.val()),o),x(new Date(s.val()),n));var l=new Date;l.setDate(l.getDate()+1);var c=t.datepicker({altField:a,minDate:new Date,defaultDate:a.val(),onSelect:function(){var e=C(this).datepicker("getDate");x(e,C(this)),M.isMobile()&&x(e,o),C(this).removeClass("is-active").addClass("is-selected"),new Date(a.val())>=new Date(s.val())&&i.addClass("is-active"),d.datepicker("option","minDate",new Date(e.setDate(e.getDate()+1))),x(new Date(s.val()),C(i)),M.isMobile()&&x(new Date(s.val()),n),d.hasClass("is-selected")||i.addClass("is-active");var t=C(this).datepicker({dateFormat:"dd-mm-yy"}).val();_paq.push(["trackEvent","TOP100 CheckAvailForm","change","DdCheckInFrom",t]),!0}}),d=i.datepicker({altField:s,minDate:l,defaultDate:s.val(),onSelect:function(){var e=C(this).datepicker("getDate");x(e,C(this)),M.isMobile()&&x(e,n),C(this).removeClass("is-active").addClass("is-selected"),c.hasClass("is-selected")||c.addClass("is-active");var t=C(this).datepicker({dateFormat:"dd-mm-yy"}).val();_paq.push(["trackEvent","TOP100 CheckAvailForm","change","DdCheckOutTo",t]),!0}});function p(e,t){e.on("click",function(e){0===C(e.target).closest(".ui-datepicker-header").length&&(t.hasClass("is-active")&&t.removeClass("is-active"),C(this).toggleClass("is-active"),r.removeClass("is-show"))})}p(t,i),p(i,t)}function x(e,t){var a={day:e.getDate(),month:e.getMonth(),year:e.getFullYear()},s=t.find(".js-date-day"),i=t.find(".js-date-month"),o=t.find(".js-date-year");s.html(a.day),"en"===M.opts.lang?i.html(C.datepicker.regional.en.monthNamesShort[a.month]):i.html(C.datepicker._defaults.monthNamesShort[a.month]),"ko"===M.opts.lang||"ja"===M.opts.lang||"zh"===M.opts.lang?o.html(a.year+C.datepicker._defaults.yearSuffix):o.html(a.year)}function p(e){var t=C(".js-guests-toggler",e),a=C(".js-guests-dropdown",e),s=C(".js-guests-count",e),i=C(".js-avail-guest",e),o=C(".js-children-wrapper",e),n=C(".js-adults-select",e),r=C(".js-children-select",e),l=C(".js-error-child",e),c=C(".js-error-children",e),d=C(".js-error",e),p=C(".js-cancel-button",e),u=C(".js-ok-button",e);if(m(),0!==parseInt(M.opts.av_params.children)){var h=1;v(o),f(M.opts.av_params.children),o.find("select").each(function(){var e,t;e=C(this),t=h,e.val(M.opts.av_params["childAge"+t]),h++})}function m(){var e=+n.val()+ +r.val(),t=i.filter('[data-avail-guests="'+e+'"]');s.html(e),i.hide(),t.show()}function f(e){for(var t=1;t<=e;t++){var a=C('<select class="dropdown__select dropdown__select--flex js-children-age-select" name="childAge'+t+'"></select>');o.append(g(a))}"hotel"===M.opts.type&&o.find(".js-children-age-select").wrapAll("<div class='dropdown__selects-age'></div>")}function g(e){e.append('<option value="">-</option>'),e.append('<option value="0"><1</option>');for(var t=1;t<=16;t++){var a=C('<option value="'+t+'">'+t+"</option>");e.append(a)}return e}function v(e){var t='<div class="dropdown__title dropdown__title--full-width">'+M.opts.av_params.childrenTitle+"</div>";e.append(t)}u.on("click",function(){var e=k(o.find("select"));e.ifError?1===e.errorCount?(c.hide(),l.show()):(c.show(),l.hide()):(d.hide(),m(),a.removeClass("is-show"))}),p.on("click",function(){o.html(null),n.val(2),r.val(0),a.removeClass("is-show"),m(),c.hide(),!1}),t.on("click",function(){a.toggleClass("is-show")}),r.on("change",function(){d.hide(),o.html(null),0!==parseInt(C(this).val())&&v(o),f(C(this).val()),"hotel"===M.opts.type&&m(),!0}),n.on("change",function(){"hotel"===M.opts.type&&m(),!0})}function k(e){var t=!1,a=0;return e.each(function(){C(this).hasClass("is-error")&&C(this).removeClass("is-error"),C(this).val()||(C(this).addClass("is-error"),a++,t=!0)}),{ifError:t,errorCount:a}}function u(n){var r=C(".js-error-child",n),l=C(".js-error-children",n),c=C(".js-children-wrapper",n),d=C(".js-guests-dropdown",n),p=C(".js-city-error",n),u=C(".js-date-range-error",n);n.on("submit",function(){if(p.addClass("is-hide"),u.addClass("is-hide"),n.attr("action")&&n.attr("action",n.attr("action")+("destination"===M.opts.type?"?":"")+C("#form_preferences").serialize()),e=n.find(".js-city-input"),C(e).length&&!C(e).val())return p.removeClass("is-hide"),!1;var e,t,a,s,i;if(a=(t=n).find(".js-date-from-input"),s=t.find(".js-date-to-input"),i=new Date(C(a).val()).getTime(),30<=(new Date(C(s).val()).getTime()-i)/24/60/60/1e3)return u.removeClass("is-hide"),!1;var o=k(c.find("select"));if(o.ifError)return d.hasClass("is-show")||d.addClass("is-show"),1===o.errorCount?(l.hide(),r.show()):(l.show(),r.hide()),!1;0!==parseInt(M.opts.av_params.use)?_paq.push(["trackEvent","TOP100 CheckAvailForm","submit","ChangeDates"]):_paq.push(["trackEvent","TOP100 CheckAvailForm","submit","BtnFind"])})}M.modules.newScript={init:function(){if(3===Math.floor(travel.opts.theme/100)||60===Math.floor(travel.opts.theme/100)){var e=C(".js-avail-form"),r=M.opts.type;e.each(function(){var e,t,a,s,i,o,n;"hotel"===r?function(u){var h=M.opts.lang,e=u.closest(".js-price-popup").length,t='<div class="custom-header__text">'+M.opts.messages.f_calendar+"</div>",a=C(".js-avail-info-submit-btn",u),s=C(".js-guests-dropdown",u),i=C(u).find('.js-avail-info[data-avail="guests"]'),o=C(".js-new-calendar-from",u),n=C(".js-new-calendar-to",u),r=C(".js-date-from-field--mobile"),l=C(".js-date-to-field--mobile"),c=new Date,d="monday";"ar"!==h&&"zh"!==h&&"pt"!==h&&"he"!==h||(d="sunday");var p,m,f,g,v,k=C(".js-new-calendar-from-input",u),y=C(".js-new-calendar-to-input",u),w=C(".js-new-calendar-wrapper",u);function b(){p=k.val(),m=y.val(),f=new Date(k.val()),g=new Date(y.val())}function j(e,t,a){var s="zh"===h?"ZH_CN":h,i=C(".js-plural-night-1",u).html(),o=C(".js-plural-night-2",u).html(),n=C(".js-plural-night-5",u).html(),r=C("<div>").addClass("calendar-hover-nights"),l=moment(t).locale(s).format("dd DD MMM"),c=moment(a).locale(s).format("dd DD MMM"),d=e,p='<div class="calendar-hover-range">'+l+" - "+c+"</div>";1===d?r.append(i):1<d&&d<5?r.append(o):r.append(n),C(".js-custom-footer",u).empty().append(p),C(".js-custom-footer",u).append(r).find(".js-night-count").append(e)}function _(){w.hasClass("is-disable-close")||(w.eq(0).data("dateRangePicker").close(),w.removeClass("is-open-calendar"))}v="zh"===(v=h)?"ZH_CN":v,C.dateRangePickerLanguages.default["month-name"]=moment.localeData(v).months(),C.dateRangePickerLanguages.default["day-name"]=moment.localeData(v).weekdays(),C.dateRangePickerLanguages.default["day-names-short"]=moment.localeData(v).weekdaysMin(),C.dateRangePickerLanguages.default["week-1"]=moment.localeData(v).weekdaysMin()[1],C.dateRangePickerLanguages.default["week-2"]=moment.localeData(v).weekdaysMin()[2],C.dateRangePickerLanguages.default["week-3"]=moment.localeData(v).weekdaysMin()[3],C.dateRangePickerLanguages.default["week-4"]=moment.localeData(v).weekdaysMin()[4],C.dateRangePickerLanguages.default["week-5"]=moment.localeData(v).weekdaysMin()[5],C.dateRangePickerLanguages.default["week-6"]=moment.localeData(v).weekdaysMin()[6],C.dateRangePickerLanguages.default["week-7"]=moment.localeData(v).weekdaysMin()[0],C.dateRangePickerLanguages.zh=C.dateRangePickerLanguages.cn,w.dateRangePicker({autoClose:!0,language:"ar"===h?"ar2":h,startDate:c,endDate:!1,stickyMonths:!0,minDays:2,maxDays:30,customArrowPrevSymbol:'<img class="calendar-arrow calendar-arrow--left icon icon-new-arrow" src="/templates/hotel3/images/new-arrow-f03f91fe68.svg">',customArrowNextSymbol:'<img class="calendar-arrow calendar-arrow--right icon icon-new-arrow" src="/templates/hotel3/images/new-arrow-f03f91fe68.svg">',customHeader:e?null:t,customFooter:'<div class="custom-footer__content"></div>',extraClass:e?"is-price-popup-calendar":"is-main-form-calendar",inline:!0,alwaysOpen:!1,container:w,singleMonth:M.isMobile(),hoveringTooltip:!1,startOfWeek:d,customOpenAnimation:function(e){C(this).show(0,e)},customCloseAnimation:function(e){C(this).hide(0,e)}}).on("datepicker-open",function(){b();var e,t,a=(e=f,t=g,Math.abs(moment(e).diff(moment(t),"d")));j(a,f,g)}).on("datepicker-first-date-selected",function(e,t){var a=moment(t.date1).add(1,"days");x(t.date1,o),k.val(moment(t.date1).format("YYYY-MM-DD")),y.val(moment(a).format("YYYY-MM-DD")),w.addClass("is-disable-close")}).on("datepicker-start-hovering",function(e,t){var a;t.selectedBefore?j(t.nights,t.hoverDate,t.selectedDate):j(t.nights,t.selectedDate,t.hoverDate),a=t.selectedBefore,C(".js-day:not(.checked)",u).removeClass("first-date-selected").removeClass("last-date-selected"),C(".js-day-wrapper:not(.is-checked)",u).removeClass("is-first-date-selected").removeClass("is-last-date-selected"),a?(C(".js-day.first-date-selected.checked",u).removeClass("first-date-selected").addClass("last-date-selected"),C(".js-day-wrapper.is-first-date-selected.is-checked",u).removeClass("is-first-date-selected").addClass("is-last-date-selected"),C(".js-day.hovering:not(.nextMonth)",u).first().addClass("first-date-selected").closest(".js-day-wrapper").addClass("is-first-date-selected")):(C(".js-day.last-date-selected.checked",u).removeClass("last-date-selected").addClass("first-date-selected"),C(".js-day-wrapper.is-last-date-selected.is-checked",u).removeClass("is-last-date-selected").addClass("is-first-date-selected"),C(".js-day.hovering:not(.lastMonth)",u).last().addClass("last-date-selected").closest(".js-day-wrapper").addClass("is-last-date-selected"))}).on("datepicker-change",function(e,t){M.isMobile()&&(x(t.date1,r),x(t.date2,l)),x(t.date1,o),x(t.date2,n),k.val(moment(t.date1).format("YYYY-MM-DD")),y.val(moment(t.date2).format("YYYY-MM-DD")),w.removeClass("is-disable-close"),_(),s.addClass("is-show"),function(){clearTimeout(e),clearTimeout(t);var e=setTimeout(function(){a.addClass("is-animated")},1e3),t=setTimeout(function(){a.removeClass("is-animated")},3e3)}(),_paq.push(["trackEvent","TOP100 CheckAvailForm","change","DdCheckInFrom",moment(t.date1).format("YYYY-MM-DD")]),_paq.push(["trackEvent","TOP100 CheckAvailForm","change","DdCheckOutTo",moment(t.date2).format("YYYY-MM-DD")])}).on("datepicker-close",function(){w.hasClass("is-disable-close")?(b(),M.isMobile()&&(x(f,r),x(g,l)),x(f,o),x(g,n),w.eq(0).data("dateRangePicker").setDateRange(p,m),w.removeClass("is-disable-close").removeClass("is-open-calendar")):w.removeClass("is-open-calendar")}),b(),x(f,o),x(g,n),w.eq(0).data("dateRangePicker").setDateRange(p,m),M.isMobile()&&(x(f,r),x(g,l)),w.on("click",function(e){e.stopPropagation(),w.hasClass("is-open-calendar")?_():(w.find(".date-picker-wrapper").show(),w.addClass("is-open-calendar"))}),C("body").on("mouseup",function(e){s.is(e.target)||0!==s.has(e.target).length||i.is(e.target)||0!==i.has(e.target).length||a.is(e.target)||0!==a.has(e.target).length||s.removeClass("is-show")})}(C(this)):d(C(this)),p(C(this)),e=C(this),t=C(".js-city-toggler",e),a=C(".js-city-dropdown",e),s=C(".js-city-content",e),i=C(".js-city-item",e),o=C(".js-city-input",e),n=C(".js-city-error",e),t.on("click",function(){a.toggleClass("is-show")}),i.on("click",function(){o.val(C(this).data("cityValue")),s.text(C(this).text()),a.removeClass("is-show"),n.hasClass("is-hide")||n.addClass("is-hide")}),u(C(this))}),C(".js-more-hotels-button").on("click",function(){C(this).closest(".js-more-hotels-wrapper").toggleClass("is-closed")}),M.isMobile()&&C(".js-more-hotels-wrapper").addClass("is-closed"),"main"===M.opts.page&&"destination"===r&&function e(){C.ajax({type:"GET",url:"/static.php",data:{page:"why_book_page",r:Math.random()},dataType:"html"}).done(function(e){C(".js-why-book-with-us").html(e)}).fail(function(){setTimeout(function(){e()},1e3)})}(),"hotel"===r&&(s=C(".js-sunset-overview-toggle"),i=C(".js-sunset-overview-content"),o=C(".js-sunset-overview-wrapper"),189<i.height()?o.addClass("is-hide"):s.hide(),s.on("click",function(){o.toggleClass("is-hide")}),M.isMobile()&&C("body").on("click",".js-sunset-room-list-toggle-btn",function(){var e=C(this).closest(".js-sunset-room-list-wrapper");e.toggleClass("is-hide")}),C(window).on("scroll",function(){var e=C(".js-fixed-menu-sunset").eq(0),t=e.find(".js-hotel-menu-mob"),a=e.offset().top,s=C(window).scrollTop();a<s?(e.addClass("is-fixed"),M.isMobile()&&t.hasClass("active")&&t.trigger("click")):e.removeClass("is-fixed")}),t=C(".js-area-field"),a=C(".js-add-review-select"),t.on("input",function(){0<C(this).val().length?C(this).closest(".js-area-wrapper").find(".js-area-placeholder").addClass("is-hide"):C(this).closest(".js-area-wrapper").find(".js-area-placeholder").removeClass("is-hide")}),a.each(function(){C(this).on("change",function(){C(this).val()?C(this).addClass("is-selected"):C(this).removeClass("is-selected")})}),C("body").on("click",".js-more-room-info",function(){C(this).closest(".js-room-item").toggleClass("is-show-info")}),C("body").on("click",".js-more-rates-toggle",function(){C(this).closest(".js-room-item").toggleClass("is-show-rates")}),C("body").on("click",".js-rooms-mobile-accordion-btn",function(){var e=C(this).closest(".js-rooms-mobile-accordion-wrapper"),t=C(this).closest(".js-rooms-mobile-accordion"),a=t.find(".js-rooms-mobile-accordion-wrapper"),s=t.find(".js-rooms-mobile-accordion-content"),i=e.find(".js-rooms-mobile-accordion-content");e.hasClass("is-open")||(a.removeClass("is-open"),s.stop().slideUp("300")),e.toggleClass("is-open"),i.stop().slideToggle("300")})),n=C(".js-header-toggler"),l=C(".js-toggle-navigation"),c=C(".js-navigation-dropdown"),n.each(function(){C(this).on("click",function(){var e=C(this).closest(".js-header-dropdown-wrapper").find(".js-header-dropdown");C(".js-header-dropdown").not(e).removeClass("is-show"),e.toggleClass("is-show")})}),l.on("click",function(){c.toggleClass("is-show")}),M.isMobile()||C("body").on("click",function(e){if(!C(e.target).is(".js-header-toggler")&&!C(e.target).is(".js-header-dropdown")){var t=C(".js-header-dropdown");t.removeClass("is-show")}}),"main"!==M.opts.page||"hotel"!==r||"0"!==M.opts.av_params.use||M.isMobile()||window.location.hash||function(){"scrollRestoration"in history&&(history.scrollRestoration="manual");var e=C(".js-banner"),t=C(".js-new-calendar-onboard");t.addClass("is-open"),e.addClass("is-open-onboard");var a=setTimeout(function(){C(".js-new-calendar-wrapper",".js-banner").eq(0).data("dateRangePicker").open()},1e3);t.on("click",function(){t.removeClass("is-open"),e.removeClass("is-open-onboard"),clearTimeout(a)})}()}var t,a,s,i,o;var n,l,c},initNotAvail:function(){3!==Math.floor(travel.opts.theme/100)&&60!==Math.floor(travel.opts.theme/100)||C(".js-not-avail-form").each(function(){d(C(this)),p(C(this)),u(C(this))})}}}(jQuery,travel),jQuery,travel.modules.svg={init:function(){svg4everybody()}},function(r,l){var c=0,d=10;function e(){if("[LOG_ID]"!=l.opts.id){var e={page:"time",id:l.opts.id,r:Math.floor(1e7*Math.random())},t=window.performance||window.webkitPerformance||window.msPerformance||window.mozPerformance;if(t&&t.timing){var a=t.timing,s=a.navigationStart;for(var i in a)if("number"==typeof a[i]){var o=a[i]+0;0!=o&&(o-=s),e[i]=o}}else e.navigationStart=12345;var n=window.location.protocol+"//"+window.location.host+"/";c=0,function e(t){++c,r.ajax(t).done(function(){l.log("timing done")}).fail(function(){c<d&&setTimeout(function(){e(t)},500*c)})}({url:n,type:"POST",dataType:"html",data:e})}}l.modules.timing={init:function(){l.opts.tob||l.opts.id&&(l.opts.wslogs||r(window).on("load",function(){setTimeout(function(){e()},50)}))}}}(jQuery,travel),function(s,i){i.modules.trackEventStat={init:function(){this.url=window.location.protocol+"//"+window.location.host+"/"},send:function(e,t,a){if(!i.opts.id)return!1;s.ajax({url:this.url,type:"POST",data:{page:"stat",id:i.opts.id,t:"ev",c:e,a:t,l:a,r:Math.floor(1e5*Math.random())}}).success(function(e){console.info(e)}).error(function(e){console.log(e)})}}}(jQuery,travel),function(n,e){travel.modules.trackEvent={deps:"rooms",init:function(){if("undefined"==typeof _paq){if(!travel.opts.devel)return;_paq={push:travel.log}}var e=n("body.js-sunset-hotel-page");e.on("click",".js-sunset-trackevent-logo",function(){_paq.push(["trackEvent","TOP100 LandingHeader","click","LogoHeader"])}),e.on("click",".js-trackevent-groupbooking-link",function(){_paq.push(["trackEvent","TOP100 LandingHeader","click","Groupbooking"])}),e.on("click",".js-trackevent-lang-link",function(){var e=n(this).text();_paq.push(["trackEvent","TOP100 LandingHeader","change","DdLang",e])}),e.on("click",".js-trackevent-currency-link",function(){var e=n(this).find(".js-trackevent-currency-code").text();_paq.push(["trackEvent","TOP100 LandingHeader","change","DdСurrency",e])});var t=n(".js-trackevent-sunset-header-gallery");t.on("click",".js-trackevent-header-gallery-show-all",function(){_paq.push(["trackEvent","TOP100 GalleryHeader","click","BtnViewAllPhoto"])}),t.on("click",".js-next",function(){_paq.push(["trackEvent","TOP100 GalleryHeader","click","NextPreviousPhoto"])}),t.on("click",".js-prev",function(){_paq.push(["trackEvent","TOP100 GalleryHeader","click","NextPreviousPhoto"])}),t.on("click",".js-trackevent-sunset-header-gallery-smallphoto",function(){_paq.push(["trackEvent","TOP100 GalleryHeader","click","SmallPhoto"])});var a=e.find(".js-adults-select"),s=e.find(".js-children-select");a.on("change",function(){_paq.push(["trackEvent","TOP100 CheckAvailForm","change","DdAdults",n(this).val()])}),s.on("change",function(){_paq.push(["trackEvent","TOP100 CheckAvailForm","change","DdChildren",n(this).val()])}),e.on("click",".js-sunset-trackevent-menu-main",function(){_paq.push(["trackEvent","TOP100 TabMenu","click","TabMain"])}),e.on("click",".js-sunset-trackevent-menu-rooms",function(){_paq.push(["trackEvent","TOP100 TabMenu","click","TabRooms"])}),e.on("click",".js-sunset-trackevent-menu-map",function(){_paq.push(["trackEvent","TOP100 TabMenu","click","TabMap"])}),e.on("click",".js-sunset-trackevent-menu-gallery",function(){_paq.push(["trackEvent","TOP100 TabMenu","click","TabGallary"])}),e.on("click",".js-sunset-trackevent-menu-write-review",function(){_paq.push(["trackEvent","TOP100 TabMenu","click","TabWriteReview"])}),e.on("click",".js-sunset-trackevent-small-map-btn",function(){_paq.push(["trackEvent","TOP100 SmallMap","click","BtnGetDirections"])}),e.on("click",".js-sunset-trackevent-small-map",function(){_paq.push(["trackEvent","TOP100 SmallMap","click","BodyMap"])});var i=e.find(".js-exit-popup");i.on("click",".js-trackevent-check-hotels",function(){n("#exit-clickunder").prop("checked")?_paq.push(["trackEvent","TOP100 ExitPopup","click","BtnCheckHotelsWhenChecked"]):_paq.push(["trackEvent","TOP100 ExitPopup","click","BtnCheckHotelsWhenUnchecked"])}),i.on("click",".js-trackevent-no-thanks",function(){n("#exit-clickunder").prop("checked")?_paq.push(["trackEvent","TOP100 ExitPopup","click","BtnNoThanksWhenChecked"]):_paq.push(["trackEvent","TOP100 ExitPopup","click","BtnNoThanksWhenUnchecked"])}),i.on("click",".js-trackevent-close",function(){n("#exit-clickunder").prop("checked")?_paq.push(["trackEvent","TOP100 ExitPopup","click","BtnCloseWhenChecked"]):_paq.push(["trackEvent","TOP100 ExitPopup","click","BtnCloseWhenUnchecked"])}),i.on("click",function(e){var t=n(".js-exit-popup-content");n(e.target).closest(t).length||(n("#exit-clickunder").prop("checked")?_paq.push(["trackEvent","TOP100 ExitPopup","click","ClickOnAreaСhecked"]):_paq.push(["trackEvent","TOP100 ExitPopup","click","ClickOnAreaWhenUnchecked"]))}),e.on("click",".js-trackevent-faq",function(){_paq.push(["trackEvent","TOP100 LandingFooter","click","FAQ"])}),e.on("click",".js-trackevent-email-link",function(){_paq.push(["trackEvent","TOP100 LandingFooter","click","Email"])}),e.on("click",".js-trackevent-about-us",function(){_paq.push(["trackEvent","TOP100 LandingFooter","click","AboutUs"])}),e.on("click",".js-trackevent-our-values",function(){_paq.push(["trackEvent","TOP100 LandingFooter","click","OurValues"])}),e.on("click",".js-trackevent-why-book",function(){_paq.push(["trackEvent","TOP100 LandingFooter","click","WhyBookWithUs"])}),e.on("click",".js-trackevent-partnership",function(){_paq.push(["trackEvent","TOP100 LandingFooter","click","Partnership"])}),e.on("click",".js-trackevent-useful-tips",function(){_paq.push(["trackEvent","TOP100 LandingFooter","click","PartnershipForTravellers"])}),e.on("click",".js-trackevent-groups-link",function(){_paq.push(["trackEvent","TOP100 LandingFooter","click","GroupBooking"])}),e.on("click",".js-trackevent-help-center",function(){_paq.push(["trackEvent","TOP100 LandingFooter","click","Support"])}),e.on("click",".js-trackevent-privacy",function(){_paq.push(["trackEvent","TOP100 LandingFooter","click","PrivacyPolicy"])}),e.on("click",".js-trackevent-terms",function(){_paq.push(["trackEvent","TOP100 LandingFooter","click","TermsConditions"])}),e.on("click",".js-trackevent-copyrights",function(){_paq.push(["trackEvent","TOP100 LandingFooter","click","CopyrightsNotification"])}),e.on("click",".js-trackevent-facebook",function(){_paq.push(["trackEvent","TOP100 LandingFooter","click","BtnFacebook"])}),e.on("click",".js-trackevent-twitter",function(){_paq.push(["trackEvent","TOP100 LandingFooter","click","BtnTwitter"])}),e.on("click",".js-trackevent-instagram",function(){_paq.push(["trackEvent","TOP100 LandingFooter","click","BtnInstagram"])}),e.on("click",".js-trackevent-google-plus",function(){_paq.push(["trackEvent","TOP100 LandingFooter","click","BtnGooglePlus"])});var o=!1;n(window).on("scroll",function(){if(0==n(".js-sunset-footer").length)return!1;var e=n(window).scrollTop()+n(window).height();n(".js-sunset-footer").offset().top<=e&&!o&&(o=!0,_paq.push(["trackEvent","TOP100 LandingFooter","scroll 100%","ScrollFooter"]))}),e.on("click",".js-trackevent-onboard-next",function(){_paq.push(["trackEvent","TOP100 OnboardingTutorial","click","BtnNext"])}),e.on("click",".js-trackevent-onboard-skip",function(){_paq.push(["trackEvent","TOP100 OnboardingTutorial","click","BtnSkip"])}),e.on("click",".js-trackevent-onboard-ok",function(){_paq.push(["trackEvent","TOP100 OnboardingTutorial","submit","BtnOkGo"])}),e.on("click",".js-trackevent-onboard-area",function(){_paq.push(["trackEvent","TOP100 OnboardingTutorial","click","ClickOnArea"])}),e.on("click",".js-seolinks-toggle",function(){_paq.push(["trackEvent","TOP100 SEOLinks","click","BtnToggle"])}),e.on("click",".js-seolinks-dots a",function(){_paq.push(["trackEvent","TOP100 SEOLinks","click","BtnToggle"])}),e.on("click",".js-seolinks-block",function(){_paq.push(["trackEvent","TOP100 SEOLinks","click","HotelCard"])}),e.on("click",".js-trackevent-missing-some-information",function(){_paq.push(["trackEvent","TOP100 MissingSomeInformation","click","BtnMissingSomeInformation"])}),n(".js-trackevent-missing-some-information-form").on("submit",function(){_paq.push(["trackEvent","TOP100 MissingSomeInformation","submit","BtnSend"])}),n(".js-trackevent-subscribe-input").on("focus",function(){_paq.push(["trackEvent","TOP100 MissingSomeInformation","focus","inputSubscribeToNewsletter"])}),n(".js-trackevent-subscribe-form").on("submit",function(){_paq.push(["trackEvent","TOP100 MissingSomeInformation","submit","BtnSend"])}),n(".lb-prev",e).on("click",function(){_paq.push(["trackEvent","TOP100 PopupGallery","click","PopUpPreviousPhoto"])}),n(".lb-next",e).on("click",function(){_paq.push(["trackEvent","TOP100 PopupGallery","click","PopUpNextPhoto"])}),e.on("click",".js-trackevent-gallery-page-photo",function(){_paq.push(["trackEvent","TOP100 PopupGallery","click","OpenPhoto"])}),e.on("click",".js-trackevent-gallery-page-show-all",function(){_paq.push(["trackEvent","TOP100 PopupGallery","click","BtnShowAll"])}),e.on("click",".js-trackevent-sunset-room-info",function(){_paq.push(["trackEvent","TOP100 RoomsAvailability","click","MoreInformation"])}),e.on("click",".js-trackevent-sunset-room-more-rates",function(){_paq.push(["trackEvent","TOP100 RoomsAvailability","click","ShowMoreRates"])}),e.on("click",".js-trackevent-sunset-room-book-btn",function(){_paq.push(["trackEvent","TOP100 RoomsAvailability","click","BtnBookNow"])}),e.on("click",".js-trackevent-sunset-room-gallery .js-prev",function(){_paq.push(["trackEvent","TOP100 RoomsAvailability","click","PreviousPhoto"])}),e.on("click",".js-trackevent-sunset-room-gallery .js-next",function(){_paq.push(["trackEvent","TOP100 RoomsAvailability","click","NextPhoto"])}),e.on("click",".js-trackevent-sunset-dest-avail-map",function(){_paq.push(["trackEvent","TOP100 NotAvailable","click","BtnMapHotelNearby"])}),e.on("click",".js-trackevent-sunset-dest-avail-book",function(){_paq.push(["trackEvent","TOP100 NotAvailable","click","BtnBookNowHotelNearby"])})}}}(jQuery),function(e,t){if("hotel"!==t.opts.type)return;var a=t.opts||{};if(a.isBot)return;if(!a.dest_id)return;var s=Math.floor(t.opts.theme/100),i=e(".js-map").attr("data-distance"),o={airport:{5:'<svg width="28px" height="36px" viewBox="0 0 28 36" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"> <g id="Landmarks" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"> <g id="UK-Cluster_Public-transport" transform="translate(-1227.000000, -800.000000)" fill-rule="nonzero"> <g id="Group-10" transform="translate(1228.000000, 801.000000)"> <g id="hotel-(6)-copy" fill="#566987" stroke="#FFFFFF" stroke-width="2"> <path d="M12.9378734,0 C20.0716177,0 25.8757467,5.875625 25.8757467,13.015625 C25.8757467,15.8414766 24.982569,18.5262148 23.2934135,20.7791133 L13.7338511,33.6011641 C13.5462851,33.8521133 13.2508372,34 12.9378734,34 C12.6249095,34 12.3294616,33.8521133 12.1418956,33.6012305 L2.58233317,20.7781836 C0.893177698,18.5262148 0,15.8414766 0,13.015625 C0,5.875625 5.80412903,0 12.9378734,0 Z" id="Combined-Shape"></path> </g> <g id="plane-(3)" transform="translate(6.800000, 6.800000)" fill="#FFFFFF"> <path d="M12.2845902,9.03694998 L12.2845902,7.74594848 L7.12061443,4.51845986 L7.12061443,0.96824356 C7.12061443,0.432472037 6.68814239,0 6.15237087,0 C5.61659934,0 5.18412731,0.432472037 5.18412731,0.96824356 L5.18412731,4.51845986 L0.0201818267,7.74594848 L0.0201818267,9.03694998 L5.18415756,7.4232208 L5.18415756,10.9734371 L3.89315607,11.9416807 L3.89315607,12.9099242 L6.15240112,12.2644386 L8.41161593,12.9099242 L8.41161593,11.9416807 L7.12061443,10.9734371 L7.12061443,7.42319054 L12.2845902,9.03694998 Z" id="Shape"></path> </g> </g> </g> </g> </svg>',9:'<svg width="30px" height="36px" viewBox="0 0 30 36" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"> <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"> <g id="group-10-copy" transform="translate(1.000000, 1.000000)" fill-rule="nonzero"> <path d="M14,0 C6.27967013,0 0,6.256 0,13.945 C0,20.145 4.10111151,25.58 10.0294012,27.321 L13.1054858,33.449 C13.2751524,33.787 13.6215131,34 14,34 C14.3784869,34 14.7248476,33.787 14.8945142,33.45 L17.9705988,27.322 C23.8988885,25.581 28,20.145 28,13.945 C28,6.255 21.7213338,0 14.0010039,0 L14,0 Z" id="Shape" stroke="#FFFFFF" fill="#242C4A"></path> <path d="M20,16.000772 L20,14.7140284 L14.9478009,11.500386 L14.9478009,7.96441439 C14.9478009,7.43041576 14.5243087,7 13.999684,7 C13.4756913,7 13.0528312,7.43105913 13.0528312,7.96441439 L13.0528312,11.500386 L8,14.7140284 L8,15.9994853 L13.0528312,14.3923424 L13.0528312,17.9283141 L11.7899394,18.8927285 L11.7899394,19.8564995 L14.000316,19.213771 L16.2106927,19.8571429 L16.2106927,18.8920851 L14.9478009,17.9283141 L14.9478009,14.3923424 L20,15.9994853 L20,16.000772 Z" id="Shape" fill="#FFFFFF"></path> </g> </g> </svg>'},default:{5:"",9:'<svg xmlns="http://www.w3.org/2000/svg" width="30" height="36" viewBox="0 0 30 36"> <g fill="none"> <path fill="#242C4A" stroke="#FFF" d="M13.945 0C6.255 0 0 6.256 0 13.945c0 6.2 4.085 11.635 9.99 13.376l3.064 6.128c.169.338.514.551.891.551s.722-.213.891-.55l3.064-6.128c5.905-1.741 9.99-7.177 9.99-13.377C27.89 6.255 21.636 0 13.946 0z" transform="translate(1 1)"/> <path fill="#FFF" d="M14.044 8C11.257 8 9 8.315 9 10.522v6.306c0 .558.246 1.053.63 1.4v1.122c0 .347.284.63.631.63h.63c.35 0 .631-.283.631-.63v-.63h5.045v.63c0 .347.28.63.63.63h.63c.347 0 .631-.283.631-.63v-1.123c.385-.346.63-.841.63-1.4v-6.305C19.089 8.315 16.832 8 14.045 8zm-2.837 9.458c-.523 0-.946-.422-.946-.946 0-.523.423-.945.946-.945.523 0 .946.422.946.945 0 .524-.423.946-.946.946zm5.675 0c-.524 0-.946-.422-.946-.946 0-.523.422-.945.946-.945.523 0 .946.422.946.945 0 .524-.423.946-.946.946zm.946-3.783H10.26v-3.153h7.567v3.153z" transform="translate(1 1)"/> </g> </svg>'}},n={bus:{3:'<svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 22 22"> <g fill="none" fill-rule="evenodd" transform="translate(1 1)"> <rect width="21" height="21" x="-.5" y="-.5" fill="#8CABEF" stroke="#FFF" rx="2"/> <path fill="#FFF" fill-rule="nonzero" d="M10.24 4C7.346 4 5 4.334 5 6.675v6.688c0 .591.255 1.116.655 1.484v1.19c0 .368.295.67.655.67h.655c.364 0 .655-.302.655-.67v-.668h5.241v.669c0 .367.292.668.655.668h.655c.36 0 .656-.3.656-.668v-1.19c.4-.369.655-.894.655-1.485V6.675C15.482 4.335 13.136 4 10.24 4zM7.294 14.031c-.544 0-.983-.448-.983-1.003 0-.555.44-1.003.983-1.003.544 0 .983.448.983 1.003 0 .555-.44 1.003-.983 1.003zm5.896 0c-.544 0-.983-.448-.983-1.003 0-.555.44-1.003.983-1.003.544 0 .983.448.983 1.003 0 .555-.44 1.003-.983 1.003zm.983-4.012H6.31V6.675h7.862v3.344z"/> </g> </svg>',5:'<svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 22 22"> <g fill="none" fill-rule="evenodd" transform="translate(1 1)"> <rect width="21" height="21" x="-.5" y="-.5" fill="#4C96F3" stroke="#FFF" rx="2"/> <path fill="#FFF" fill-rule="nonzero" d="M10.24 4C7.346 4 5 4.334 5 6.675v6.688c0 .591.255 1.116.655 1.484v1.19c0 .368.295.67.655.67h.655c.364 0 .655-.302.655-.67v-.668h5.241v.669c0 .367.292.668.655.668h.655c.36 0 .656-.3.656-.668v-1.19c.4-.369.655-.894.655-1.485V6.675C15.482 4.335 13.136 4 10.24 4zM7.294 14.031c-.544 0-.983-.448-.983-1.003 0-.555.44-1.003.983-1.003.544 0 .983.448.983 1.003 0 .555-.44 1.003-.983 1.003zm5.896 0c-.544 0-.983-.448-.983-1.003 0-.555.44-1.003.983-1.003.544 0 .983.448.983 1.003 0 .555-.44 1.003-.983 1.003zm.983-4.012H6.31V6.675h7.862v3.344z"/> </g> </svg>',9:'<svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 22 22"> <g fill="none" fill-rule="evenodd" transform="translate(1 1)"> <rect width="21" height="21" x="-.5" y="-.5" fill="#F88182" stroke="#F88182" rx="2"/> <path fill="#FFF" fill-rule="nonzero" d="M10.24 4C7.346 4 5 4.334 5 6.675v6.688c0 .591.255 1.116.655 1.484v1.19c0 .368.295.67.655.67h.655c.364 0 .655-.302.655-.67v-.668h5.241v.669c0 .367.292.668.655.668h.655c.36 0 .656-.3.656-.668v-1.19c.4-.369.655-.894.655-1.485V6.675C15.482 4.335 13.136 4 10.24 4zM7.294 14.031c-.544 0-.983-.448-.983-1.003 0-.555.44-1.003.983-1.003.544 0 .983.448.983 1.003 0 .555-.44 1.003-.983 1.003zm5.896 0c-.544 0-.983-.448-.983-1.003 0-.555.44-1.003.983-1.003.544 0 .983.448.983 1.003 0 .555-.44 1.003-.983 1.003zm.983-4.012H6.31V6.675h7.862v3.344z"/> </g> </svg>'},tram:{3:'<svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 22 22"> <g fill="none" fill-rule="evenodd" transform="translate(1 1)"> <rect width="21" height="21" x="-.5" y="-.5" fill="#98A2C0" stroke="#FFF" rx="2"/> <path fill="#FFF" fill-rule="nonzero" d="M10.593 5.068l.528-1.04h2.274V3H6.4v1.029h3.323l-.531 1.039C7 5.133 5 5.562 5 7.458v5.788c0 .991.829 1.821 1.812 2.04L5.7 16.375v.343h1.56l1.399-1.372h2.637l1.4 1.372h1.399v-.343l-1.05-1.03h-.056c1.183 0 1.805-.942 1.805-2.098V7.458c0-1.917-1.826-2.332-4.2-2.39zm-.696 9.248c-.58 0-1.05-.46-1.05-1.029s.47-1.028 1.05-1.028c.58 0 1.05.46 1.05 1.028 0 .57-.47 1.03-1.05 1.03zm3.498-3.086H6.4V7.8h6.996v3.43z"/> </g> </svg>',5:'<svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 22 22"> <g fill="none" fill-rule="evenodd" transform="translate(1 1)"> <rect width="21" height="21" x="-.5" y="-.5" fill="#13B3C7" stroke="#FFF" rx="2"/> <path fill="#FFF" fill-rule="nonzero" d="M10.593 5.068l.528-1.04h2.274V3H6.4v1.029h3.323l-.531 1.039C7 5.133 5 5.562 5 7.458v5.788c0 .991.829 1.821 1.812 2.04L5.7 16.375v.343h1.56l1.399-1.372h2.637l1.4 1.372h1.399v-.343l-1.05-1.03h-.056c1.183 0 1.805-.942 1.805-2.098V7.458c0-1.917-1.826-2.332-4.2-2.39zm-.696 9.248c-.58 0-1.05-.46-1.05-1.029s.47-1.028 1.05-1.028c.58 0 1.05.46 1.05 1.028 0 .57-.47 1.03-1.05 1.03zm3.498-3.086H6.4V7.8h6.996v3.43z"/> </g> </svg>',9:'<svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 22 22"> <g fill="none" fill-rule="evenodd" transform="translate(1 1)"> <rect width="21" height="21" x="-.5" y="-.5" fill="#569637" stroke="#569637" rx="2"/> <path fill="#FFF" fill-rule="nonzero" d="M10.593 5.068l.528-1.04h2.274V3H6.4v1.029h3.323l-.531 1.039C7 5.133 5 5.562 5 7.458v5.788c0 .991.829 1.821 1.812 2.04L5.7 16.375v.343h1.56l1.399-1.372h2.637l1.4 1.372h1.399v-.343l-1.05-1.03h-.056c1.183 0 1.805-.942 1.805-2.098V7.458c0-1.917-1.826-2.332-4.2-2.39zm-.696 9.248c-.58 0-1.05-.46-1.05-1.029s.47-1.028 1.05-1.028c.58 0 1.05.46 1.05 1.028 0 .57-.47 1.03-1.05 1.03zm3.498-3.086H6.4V7.8h6.996v3.43z"/> </g> </svg>'},trolleybus:{3:'<svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 22 22"> <g fill="none" fill-rule="evenodd" transform="translate(1 1)"> <rect width="21" height="21" x="-.5" y="-.5" fill="#9195A4" stroke="#FFF" rx="2"/> <path fill="#FFF" fill-rule="nonzero" d="M12.5 6.386h-.683l.14-.795h1.376V4H6.667v1.59h1.1l-.14.796H7.5c-1.379 0-2.5 1.07-2.5 2.387v5.568c0 .586.338 1.094.833 1.37v.22c0 .44.373.796.834.796H7.5c.46 0 .833-.356.833-.795h3.334c0 .44.373.795.833.795h.833c.46 0 .834-.356.834-.795v-.221c.495-.276.833-.784.833-1.37V8.773c0-1.316-1.121-2.387-2.5-2.387zm-3.044-.795h.81l-.138.795h-.81l.138-.795zm-1.123 8.352c-.46 0-.833-.356-.833-.795 0-.44.373-.796.833-.796.46 0 .834.356.834.796 0 .439-.373.795-.834.795zm3.334 0c-.46 0-.834-.356-.834-.795 0-.44.373-.796.834-.796.46 0 .833.356.833.796 0 .439-.373.795-.833.795zm1.666-3.58H6.667v-1.59c0-.439.374-.796.833-.796h5c.46 0 .833.357.833.796v1.59z"/> </g> </svg>',5:'<svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 22 22"> <g fill="none" fill-rule="evenodd" transform="translate(1 1)"> <rect width="21" height="21" x="-.5" y="-.5" fill="#4CB244" stroke="#FFF" rx="2"/> <path fill="#FFF" fill-rule="nonzero" d="M12.5 6.386h-.683l.14-.795h1.376V4H6.667v1.59h1.1l-.14.796H7.5c-1.379 0-2.5 1.07-2.5 2.387v5.568c0 .586.338 1.094.833 1.37v.22c0 .44.373.796.834.796H7.5c.46 0 .833-.356.833-.795h3.334c0 .44.373.795.833.795h.833c.46 0 .834-.356.834-.795v-.221c.495-.276.833-.784.833-1.37V8.773c0-1.316-1.121-2.387-2.5-2.387zm-3.044-.795h.81l-.138.795h-.81l.138-.795zm-1.123 8.352c-.46 0-.833-.356-.833-.795 0-.44.373-.796.833-.796.46 0 .834.356.834.796 0 .439-.373.795-.834.795zm3.334 0c-.46 0-.834-.356-.834-.795 0-.44.373-.796.834-.796.46 0 .833.356.833.796 0 .439-.373.795-.833.795zm1.666-3.58H6.667v-1.59c0-.439.374-.796.833-.796h5c.46 0 .833.357.833.796v1.59z"/> </g> </svg>',9:'<svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 22 22"> <g fill="none" fill-rule="evenodd" transform="translate(1 1)"> <rect width="21" height="21" x="-.5" y="-.5" fill="#ECB22F" stroke="#ECB22F" rx="2"/> <path fill="#FFF" fill-rule="nonzero" d="M12.5 6.386h-.683l.14-.795h1.376V4H6.667v1.59h1.1l-.14.796H7.5c-1.379 0-2.5 1.07-2.5 2.387v5.568c0 .586.338 1.094.833 1.37v.22c0 .44.373.796.834.796H7.5c.46 0 .833-.356.833-.795h3.334c0 .44.373.795.833.795h.833c.46 0 .834-.356.834-.795v-.221c.495-.276.833-.784.833-1.37V8.773c0-1.316-1.121-2.387-2.5-2.387zm-3.044-.795h.81l-.138.795h-.81l.138-.795zm-1.123 8.352c-.46 0-.833-.356-.833-.795 0-.44.373-.796.833-.796.46 0 .834.356.834.796 0 .439-.373.795-.834.795zm3.334 0c-.46 0-.834-.356-.834-.795 0-.44.373-.796.834-.796.46 0 .833.356.833.796 0 .439-.373.795-.833.795zm1.666-3.58H6.667v-1.59c0-.439.374-.796.833-.796h5c.46 0 .833.357.833.796v1.59z"/> </g> </svg>'},funicular:{3:'<svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 22 22"> <g fill="none" fill-rule="evenodd" transform="translate(1 1)"> <rect width="21" height="21" x="-.5" y="-.5" fill="#7C93DA" stroke="#FFF" rx="2"/> <g fill="#FFF" fill-rule="nonzero"> <path d="M9.985 5.757h-3.23c-.987 0-1.777.807-1.777 1.794v4.217c0 .442.349.8.79.8h5.203c.442 0 .796-.358.796-.8V7.55c0-.986-.795-1.794-1.782-1.794zm.556 2.992c0 .31-.252.56-.561.56H6.745c-.31 0-.561-.25-.561-.56V7.502c0-.31.251-.56.561-.56H9.98c.31 0 .561.251.561.56V8.75zM7.918 4.403h-1.86c-.3 0-.545.25-.545.55 0 .3.244.55.544.55h4.626c.3 0 .544-.25.544-.55 0-.3-.243-.55-.544-.55H8.997V1.917l1.41-.613c.345-.15.502-.55.353-.895-.15-.344-.55-.502-.895-.353L.668 4.053c-.345.15-.503.55-.353.895.111.256.361.41.624.41.09 0 .183-.018.271-.057l6.708-2.915v2.017z" transform="translate(3.636 3.636)"/> </g> </g> </svg>',5:'<svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 22 22"> <g fill="none" fill-rule="evenodd" transform="translate(1 1)"> <rect width="21" height="21" x="-.5" y="-.5" fill="#919CE1" stroke="#FFF" rx="2"/> <g fill="#FFF" fill-rule="nonzero"> <path d="M9.985 5.757h-3.23c-.987 0-1.777.807-1.777 1.794v4.217c0 .442.349.8.79.8h5.203c.442 0 .796-.358.796-.8V7.55c0-.986-.795-1.794-1.782-1.794zm.556 2.992c0 .31-.252.56-.561.56H6.745c-.31 0-.561-.25-.561-.56V7.502c0-.31.251-.56.561-.56H9.98c.31 0 .561.251.561.56V8.75zM7.918 4.403h-1.86c-.3 0-.545.25-.545.55 0 .3.244.55.544.55h4.626c.3 0 .544-.25.544-.55 0-.3-.243-.55-.544-.55H8.997V1.917l1.41-.613c.345-.15.502-.55.353-.895-.15-.344-.55-.502-.895-.353L.668 4.053c-.345.15-.503.55-.353.895.111.256.361.41.624.41.09 0 .183-.018.271-.057l6.708-2.915v2.017z" transform="translate(3.636 3.636)"/> </g> </g> </svg>',9:'<svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 22 22"> <g fill="none" fill-rule="evenodd" transform="translate(1 1)"> <rect width="21" height="21" x="-.5" y="-.5" fill="#7B9FB0" stroke="#7B9FB0" rx="2"/> <g fill="#FFF" fill-rule="nonzero"> <path d="M9.985 5.757h-3.23c-.987 0-1.777.807-1.777 1.794v4.217c0 .442.349.8.79.8h5.203c.442 0 .796-.358.796-.8V7.55c0-.986-.795-1.794-1.782-1.794zm.556 2.992c0 .31-.252.56-.561.56H6.745c-.31 0-.561-.25-.561-.56V7.502c0-.31.251-.56.561-.56H9.98c.31 0 .561.251.561.56V8.75zM7.918 4.403h-1.86c-.3 0-.545.25-.545.55 0 .3.244.55.544.55h4.626c.3 0 .544-.25.544-.55 0-.3-.243-.55-.544-.55H8.997V1.917l1.41-.613c.345-.15.502-.55.353-.895-.15-.344-.55-.502-.895-.353L.668 4.053c-.345.15-.503.55-.353.895.111.256.361.41.624.41.09 0 .183-.018.271-.057l6.708-2.915v2.017z" transform="translate(3.636 3.636)"/> </g> </g> </svg>'},cablecar:{3:'<svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 22 22"> <g fill="none" fill-rule="evenodd" transform="translate(1 1)"> <rect width="21" height="21" x="-.5" y="-.5" fill="#7C93DA" stroke="#FFF" rx="2"/> <g fill="#FFF" fill-rule="nonzero"> <path d="M9.985 5.757h-3.23c-.987 0-1.777.807-1.777 1.794v4.217c0 .442.349.8.79.8h5.203c.442 0 .796-.358.796-.8V7.55c0-.986-.795-1.794-1.782-1.794zm.556 2.992c0 .31-.252.56-.561.56H6.745c-.31 0-.561-.25-.561-.56V7.502c0-.31.251-.56.561-.56H9.98c.31 0 .561.251.561.56V8.75zM7.918 4.403h-1.86c-.3 0-.545.25-.545.55 0 .3.244.55.544.55h4.626c.3 0 .544-.25.544-.55 0-.3-.243-.55-.544-.55H8.997V1.917l1.41-.613c.345-.15.502-.55.353-.895-.15-.344-.55-.502-.895-.353L.668 4.053c-.345.15-.503.55-.353.895.111.256.361.41.624.41.09 0 .183-.018.271-.057l6.708-2.915v2.017z" transform="translate(3.636 3.636)"/> </g> </g> </svg>',5:'<svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 22 22"> <g fill="none" fill-rule="evenodd" transform="translate(1 1)"> <rect width="21" height="21" x="-.5" y="-.5" fill="#919CE1" stroke="#FFF" rx="2"/> <g fill="#FFF" fill-rule="nonzero"> <path d="M9.985 5.757h-3.23c-.987 0-1.777.807-1.777 1.794v4.217c0 .442.349.8.79.8h5.203c.442 0 .796-.358.796-.8V7.55c0-.986-.795-1.794-1.782-1.794zm.556 2.992c0 .31-.252.56-.561.56H6.745c-.31 0-.561-.25-.561-.56V7.502c0-.31.251-.56.561-.56H9.98c.31 0 .561.251.561.56V8.75zM7.918 4.403h-1.86c-.3 0-.545.25-.545.55 0 .3.244.55.544.55h4.626c.3 0 .544-.25.544-.55 0-.3-.243-.55-.544-.55H8.997V1.917l1.41-.613c.345-.15.502-.55.353-.895-.15-.344-.55-.502-.895-.353L.668 4.053c-.345.15-.503.55-.353.895.111.256.361.41.624.41.09 0 .183-.018.271-.057l6.708-2.915v2.017z" transform="translate(3.636 3.636)"/> </g> </g> </svg>',9:'<svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 22 22"> <g fill="none" fill-rule="evenodd" transform="translate(1 1)"> <rect width="21" height="21" x="-.5" y="-.5" fill="#7B9FB0" stroke="#7B9FB0" rx="2"/> <g fill="#FFF" fill-rule="nonzero"> <path d="M9.985 5.757h-3.23c-.987 0-1.777.807-1.777 1.794v4.217c0 .442.349.8.79.8h5.203c.442 0 .796-.358.796-.8V7.55c0-.986-.795-1.794-1.782-1.794zm.556 2.992c0 .31-.252.56-.561.56H6.745c-.31 0-.561-.25-.561-.56V7.502c0-.31.251-.56.561-.56H9.98c.31 0 .561.251.561.56V8.75zM7.918 4.403h-1.86c-.3 0-.545.25-.545.55 0 .3.244.55.544.55h4.626c.3 0 .544-.25.544-.55 0-.3-.243-.55-.544-.55H8.997V1.917l1.41-.613c.345-.15.502-.55.353-.895-.15-.344-.55-.502-.895-.353L.668 4.053c-.345.15-.503.55-.353.895.111.256.361.41.624.41.09 0 .183-.018.271-.057l6.708-2.915v2.017z" transform="translate(3.636 3.636)"/> </g> </g> </svg>'},ferry:{3:'<svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 22 22"> <g fill="none" fill-rule="evenodd" transform="translate(1 1)"> <rect width="21" height="21" x="-.5" y="-.5" fill="#8F84AF" stroke="#FFF" rx="2"/> <g fill="#FFF" fill-rule="nonzero"> <path d="M.977 8.972h.028c.797 0 1.507-.439 1.993-.997.486.558 1.197.997 1.994.997.798 0 1.508-.439 1.994-.997.488.558 1.194.997 1.994.997h.027l.945-3.332c.042-.127.03-.267-.03-.386-.063-.12-.17-.21-.3-.247l-.642-.212V2.492c0-.55-.446-.997-.997-.997H6.488V0H3.496v1.495H2.002c-.551 0-.997.446-.997.997v2.303l-.64.21c-.13.04-.238.126-.3.246s-.072.26-.03.386l.942 3.335zm1.025-6.48h5.98V4.47l-2.99-.98-2.99.98V2.492zM6.986 9.308c-1.216.853-2.771.853-3.988 0-.608.427-1.3.66-1.993.66H.008v.998h.997c.685 0 1.365-.172 1.993-.496 1.256.645 2.732.645 3.988 0 .628.321 1.308.496 1.994.496h.997v-.997H8.98c-.693 0-1.386-.234-1.994-.66z" transform="translate(5 5)"/> </g> </g> </svg>',5:'<svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 22 22"> <g fill="none" fill-rule="evenodd" transform="translate(1 1)"> <rect width="21" height="21" x="-.5" y="-.5" fill="#0FBDFF" stroke="#FFF" rx="2"/> <g fill="#FFF" fill-rule="nonzero"> <path d="M.977 8.987h.028c.797 0 1.507-.44 1.993-.998.486.559 1.197.998 1.994.998.798 0 1.508-.44 1.994-.998.488.559 1.194.998 1.994.998h.027l.945-3.338c.042-.127.03-.267-.03-.386-.063-.12-.17-.21-.3-.248l-.642-.212V2.496c0-.551-.446-.998-.997-.998H6.488V0H3.496v1.498H2.002c-.551 0-.997.447-.997.998v2.307l-.64.21c-.13.04-.238.127-.3.247s-.072.26-.03.387l.942 3.34zm1.025-6.49h5.98v1.98l-2.99-.982-2.99.981v-1.98zM6.986 9.324c-1.216.854-2.771.854-3.988 0-.608.427-1.3.662-1.993.662H.008v.998h.997c.685 0 1.365-.172 1.993-.496 1.256.646 2.732.646 3.988 0 .628.322 1.308.496 1.994.496h.997v-.998H8.98c-.693 0-1.386-.235-1.994-.662z" transform="translate(5 5)"/> </g> </g> </svg>',9:'<svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 22 22"> <g fill="none" fill-rule="evenodd" transform="translate(1 1)"> <rect width="21" height="21" x="-.5" y="-.5" fill="#3878C7" stroke="#3878C7" rx="2"/> <g fill="#FFF" fill-rule="nonzero"> <path d="M.977 8.987h.028c.797 0 1.507-.44 1.993-.998.486.559 1.197.998 1.994.998.798 0 1.508-.44 1.994-.998.488.559 1.194.998 1.994.998h.027l.945-3.338c.042-.127.03-.267-.03-.386-.063-.12-.17-.21-.3-.248l-.642-.212V2.496c0-.551-.446-.998-.997-.998H6.488V0H3.496v1.498H2.002c-.551 0-.997.447-.997.998v2.307l-.64.21c-.13.04-.238.127-.3.247s-.072.26-.03.387l.942 3.34zm1.025-6.49h5.98v1.98l-2.99-.982-2.99.981v-1.98zM6.986 9.324c-1.216.854-2.771.854-3.988 0-.608.427-1.3.662-1.993.662H.008v.998h.997c.685 0 1.365-.172 1.993-.496 1.256.646 2.732.646 3.988 0 .628.322 1.308.496 1.994.496h.997v-.998H8.98c-.693 0-1.386-.235-1.994-.662z" transform="translate(5 5)"/> </g> </g> </svg>'},marina:{3:'<svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 22 22"> <g fill="none" fill-rule="evenodd" transform="translate(1 1)"> <rect width="21" height="21" x="-.5" y="-.5" fill="#8F84AF" stroke="#FFF" rx="2"/> <g fill="#FFF" fill-rule="nonzero"> <path d="M.977 8.972h.028c.797 0 1.507-.439 1.993-.997.486.558 1.197.997 1.994.997.798 0 1.508-.439 1.994-.997.488.558 1.194.997 1.994.997h.027l.945-3.332c.042-.127.03-.267-.03-.386-.063-.12-.17-.21-.3-.247l-.642-.212V2.492c0-.55-.446-.997-.997-.997H6.488V0H3.496v1.495H2.002c-.551 0-.997.446-.997.997v2.303l-.64.21c-.13.04-.238.126-.3.246s-.072.26-.03.386l.942 3.335zm1.025-6.48h5.98V4.47l-2.99-.98-2.99.98V2.492zM6.986 9.308c-1.216.853-2.771.853-3.988 0-.608.427-1.3.66-1.993.66H.008v.998h.997c.685 0 1.365-.172 1.993-.496 1.256.645 2.732.645 3.988 0 .628.321 1.308.496 1.994.496h.997v-.997H8.98c-.693 0-1.386-.234-1.994-.66z" transform="translate(5 5)"/> </g> </g> </svg>',5:'<svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 22 22"> <g fill="none" fill-rule="evenodd" transform="translate(1 1)"> <rect width="21" height="21" x="-.5" y="-.5" fill="#0FBDFF" stroke="#FFF" rx="2"/> <g fill="#FFF" fill-rule="nonzero"> <path d="M.977 8.987h.028c.797 0 1.507-.44 1.993-.998.486.559 1.197.998 1.994.998.798 0 1.508-.44 1.994-.998.488.559 1.194.998 1.994.998h.027l.945-3.338c.042-.127.03-.267-.03-.386-.063-.12-.17-.21-.3-.248l-.642-.212V2.496c0-.551-.446-.998-.997-.998H6.488V0H3.496v1.498H2.002c-.551 0-.997.447-.997.998v2.307l-.64.21c-.13.04-.238.127-.3.247s-.072.26-.03.387l.942 3.34zm1.025-6.49h5.98v1.98l-2.99-.982-2.99.981v-1.98zM6.986 9.324c-1.216.854-2.771.854-3.988 0-.608.427-1.3.662-1.993.662H.008v.998h.997c.685 0 1.365-.172 1.993-.496 1.256.646 2.732.646 3.988 0 .628.322 1.308.496 1.994.496h.997v-.998H8.98c-.693 0-1.386-.235-1.994-.662z" transform="translate(5 5)"/> </g> </g> </svg>',9:'<svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 22 22"> <g fill="none" fill-rule="evenodd" transform="translate(1 1)"> <rect width="21" height="21" x="-.5" y="-.5" fill="#3878C7" stroke="#3878C7" rx="2"/> <g fill="#FFF" fill-rule="nonzero"> <path d="M.977 8.987h.028c.797 0 1.507-.44 1.993-.998.486.559 1.197.998 1.994.998.798 0 1.508-.44 1.994-.998.488.559 1.194.998 1.994.998h.027l.945-3.338c.042-.127.03-.267-.03-.386-.063-.12-.17-.21-.3-.248l-.642-.212V2.496c0-.551-.446-.998-.997-.998H6.488V0H3.496v1.498H2.002c-.551 0-.997.447-.997.998v2.307l-.64.21c-.13.04-.238.127-.3.247s-.072.26-.03.387l.942 3.34zm1.025-6.49h5.98v1.98l-2.99-.982-2.99.981v-1.98zM6.986 9.324c-1.216.854-2.771.854-3.988 0-.608.427-1.3.662-1.993.662H.008v.998h.997c.685 0 1.365-.172 1.993-.496 1.256.646 2.732.646 3.988 0 .628.322 1.308.496 1.994.496h.997v-.998H8.98c-.693 0-1.386-.235-1.994-.662z" transform="translate(5 5)"/> </g> </g> </svg>'},default:{3:'<svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 22 22"> <g fill="none" fill-rule="evenodd" transform="translate(1 1)"> <rect width="21" height="21" x="-.5" y="-.5" fill="#89B1C8" stroke="#FFF" rx="2"/> <path fill="#FFF" fill-rule="nonzero" d="M15.119 9.555L16 8.12l-1.284-1.898-.101-.063.286-.317-.467-.19c-.677-.276-1.45-.265-2.118.03-.64.284-1.12.795-1.353 1.438l-.011.032-.01.064 1.533 1.404-.476.517L6.393 4l-.042.731c-.108 3.033 1.022 4.144 1.305 4.416.65.621 1.402.954 2.393.954.12 0 .244-.005.37-.014l.052.7c-.143.012-.284.017-.422.017-1.183 0-2.177-.387-2.955-1.153-.307-.3-.572-.654-.795-1.057-.225-.127-.485-.197-.757-.197C4.694 8.395 4 9.086 4 9.939c0 .516.255.996.684 1.282l.638.429-.094-.764c-.051-.42.09-.677.216-.82.15-.171.368-.268.593-.268.068 0 .133.01.199.024-.267.391-.422.867-.415 1.376.01.764.385 1.471.996 1.912l-.351 1.008v1.779h.703l.002-1.556c.888 0 1.638-.722 1.638-1.61h.703c0 1.174-.878 2.146-2.015 2.294v.872H8.2v-.886c1.088-.19 1.915-1.14 1.915-2.28h-.082c.002-.008.002-.015.005-.02l1.619.069-.12.778.43 2.341h1.86v-.703h-.311l-.298-1.65.171-1.106.05-.035c.367-.272.637-.666.754-1.109l.007-.023c.155-.575.05-1.186-.288-1.683-.214-.312-.256-.56-.13-.825l1.337.79zm-2.567 5.639l-.297-1.65.115-.748c.086-.007.173-.019.26-.035l-.122.797.295 1.636h-.25z"/> </g> </svg>',5:'<svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 22 22"> <g fill="none" fill-rule="evenodd" transform="translate(1 1)"> <rect width="21" height="21" x="-.5" y="-.5" fill="#7C9FAF" stroke="#FFF" rx="2"/> <path fill="#FFF" fill-rule="nonzero" d="M15.119 9.555L16 8.12l-1.284-1.898-.101-.063.286-.317-.467-.19c-.677-.276-1.45-.265-2.118.03-.64.284-1.12.795-1.353 1.438l-.011.032-.01.064 1.533 1.404-.476.517L6.393 4l-.042.731c-.108 3.033 1.022 4.144 1.305 4.416.65.621 1.402.954 2.393.954.12 0 .244-.005.37-.014l.052.7c-.143.012-.284.017-.422.017-1.183 0-2.177-.387-2.955-1.153-.307-.3-.572-.654-.795-1.057-.225-.127-.485-.197-.757-.197C4.694 8.395 4 9.086 4 9.939c0 .516.255.996.684 1.282l.638.429-.094-.764c-.051-.42.09-.677.216-.82.15-.171.368-.268.593-.268.068 0 .133.01.199.024-.267.391-.422.867-.415 1.376.01.764.385 1.471.996 1.912l-.351 1.008v1.779h.703l.002-1.556c.888 0 1.638-.722 1.638-1.61h.703c0 1.174-.878 2.146-2.015 2.294v.872H8.2v-.886c1.088-.19 1.915-1.14 1.915-2.28h-.082c.002-.008.002-.015.005-.02l1.619.069-.12.778.43 2.341h1.86v-.703h-.311l-.298-1.65.171-1.106.05-.035c.367-.272.637-.666.754-1.109l.007-.023c.155-.575.05-1.186-.288-1.683-.214-.312-.256-.56-.13-.825l1.337.79zm-2.567 5.639l-.297-1.65.115-.748c.086-.007.173-.019.26-.035l-.122.797.295 1.636h-.25z"/> </g> </svg>',9:'<svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 22 22"> <g fill="none" fill-rule="evenodd" transform="translate(1 1)"> <rect width="21" height="21" x="-.5" y="-.5" fill="#5392F9" stroke="#5392F9" rx="2"/> <path fill="#FFF" fill-rule="nonzero" d="M15.119 9.555L16 8.12l-1.284-1.898-.101-.063.286-.317-.467-.19c-.677-.276-1.45-.265-2.118.03-.64.284-1.12.795-1.353 1.438l-.011.032-.01.064 1.533 1.404-.476.517L6.393 4l-.042.731c-.108 3.033 1.022 4.144 1.305 4.416.65.621 1.402.954 2.393.954.12 0 .244-.005.37-.014l.052.7c-.143.012-.284.017-.422.017-1.183 0-2.177-.387-2.955-1.153-.307-.3-.572-.654-.795-1.057-.225-.127-.485-.197-.757-.197C4.694 8.395 4 9.086 4 9.939c0 .516.255.996.684 1.282l.638.429-.094-.764c-.051-.42.09-.677.216-.82.15-.171.368-.268.593-.268.068 0 .133.01.199.024-.267.391-.422.867-.415 1.376.01.764.385 1.471.996 1.912l-.351 1.008v1.779h.703l.002-1.556c.888 0 1.638-.722 1.638-1.61h.703c0 1.174-.878 2.146-2.015 2.294v.872H8.2v-.886c1.088-.19 1.915-1.14 1.915-2.28h-.082c.002-.008.002-.015.005-.02l1.619.069-.12.778.43 2.341h1.86v-.703h-.311l-.298-1.65.171-1.106.05-.035c.367-.272.637-.666.754-1.109l.007-.023c.155-.575.05-1.186-.288-1.683-.214-.312-.256-.56-.13-.825l1.337.79zm-2.567 5.639l-.297-1.65.115-.748c.086-.007.173-.019.26-.035l-.122.797.295 1.636h-.25z"/> </g> </svg>'}};function r(e){e.properties.type=e.properties["transport-type"]?e.properties["transport-type"].replace("_"," "):""}function l(e){e.properties.distance=!!e.properties.Distance&&i.replace("<distance>",e.properties.Distance)}function c(e,t){o[t]||(t="default");var a=o[t][s];e.properties.pinIcon=a}t.modules.transport={init:function(){},getRailData:function(){return e.ajax({method:"get",url:"/geo-data/landmarks/",data:{page:"metrolines",id:a.dest_id}}).then(function(e){var t={railLines:[],railStations:[]};return e.features.forEach(function(e){"MultiLineString"===e.geometry.type||"LineString"===e.geometry.type?t.railLines.push(e):t.railStations.push(e)}),t.railLines.forEach(function(e){r(e),l(e)}),t.railStations.forEach(function(e){r(e),l(e)}),t}).fail(function(e){travel.log(e)})},getNearbyData:function(){return e.ajax({method:"get",url:"/geo-data/landmarks/",data:{page:"transport",lat:a.map_params.lat,lon:a.map_params.long,lang_id:a.lang_id,distance:1}}).then(function(e){var t=e.features.filter(function(e){return"train"!==e.properties.TransportTypeName&&"city_train"!==e.properties.TransportTypeName&&"subway"!==e.properties.TransportTypeName&&"airport"!==e.properties.TransportTypeName});return t.forEach(function(e){r(e),l(e),c(e,"transport"),function(e,t){n[t]||(t="default");var a=n[t][s];e.properties.icon=a}(e,e.properties.TransportTypeName)}),t}).fail(function(e){travel.log(e)})},getAirportsData:function(){return e.ajax({method:"get",url:"/geo-data/landmarks/",data:{page:"airports",lat:a.map_params.lat,lon:a.map_params.long,lang_id:a.lang_id,distance:1}}).then(function(e){var t=[];return(t=e.features.map(function(e){return e})).forEach(function(e){return r(e),l(e),c(e,"airport"),e}),t}).fail(function(e){travel.log(e)})}}}(jQuery,travel),function(e,t){travel.modules.webcache={init:function(){window.location&&window.location.host&&-1!=window.location.host.indexOf("webcache")&&e(".js-links-container").hide()}}}(jQuery),function(e,t){e(".js-write-review-form").on("submit",function(){var e=window.location.href;if(-1!=e.indexOf("/property/")&&-1!=e.indexOf("#write-review")){var t=e.slice(e.indexOf("property/"),e.indexOf("#write-review"));this.action+=t}})}(jQuery,travel);var map=void 0;function load_map(){(void 0!==$.loadScript?$.loadScript:$.getScript)("https://maps.google.com/maps?file=api&v=2&key="+gmap_opts.gmapkey+"&async=2&callback=load_map_page&hl="+gmap_opts.lang_code,function(){})}function load_map_page(){var e=$(gmap_opts.mapcont),t=$(e).height(),a=$(e).width(),s=map_id,i="";void 0!==gmap_opts.page_url?(-1<(i=(i=(i=(i=gmap_opts.page_url).replace("[LANG]",gmap_opts.lang_id)).replace("[DEST]",gmap_opts.dest_id)).replace("[ID]",s)).indexOf("?")?i+="&":i+="?",i+="&w="+a+"&h="+t,i+="&r="+Math.random()):i="/maps/data/page?langID="+gmap_opts.lang_id+"&w="+a+"&h="+t+"&id="+s+"&did="+gmap_opts.dest_id+"&r="+Math.random(),$(e).load(i,function(){(void 0!==$.loadScript?$.loadScript:$.getScript)("/maps/js/maps.pack.js?v=1.0.3",function(){"object"==typeof gmap_opts&&(map=new HotelsMap(gmap_opts),"undefined"!=typeof geo_opts&&map.options(geo_opts),map.init(s)),e.addClass("ready")})})}function center_window(e){var t=$(e).height(),a=$(e).width(),s=$(window).height(),i=$(window).width(),o=(s-t)/2;"absolute"==$(e).css("position")&&(o+=$(window).scrollTop());var n=(i-a)/2+$(window).scrollLeft();e.css({top:o+"px",left:n+"px","z-index":9999})}function avcity_req(s,i,o){var e=searchParamsInUrl("jid");if(e)return avcity_get(e),!1;var t=$.extend(i,{page:"search",dest_id:s,lang:o,t:1,r:Math.random()});$.ajax({type:"GET",url:"/check/",data:t,dataType:"json",success:function(e){var t=e.jid,a=e.bot;""!=t?avcity_get(t):""!=a?($("#bot").val(1),avcity_result()):e.bad_id?(travel.modules.availProgress.hide(),window.scrollTo(0,0),alert("Can't process request")):e.error?(travel.modules.availProgress.hide(),window.scrollTo(0,0)):setTimeout(function(){avcity_req(s,i,o)},3e3)},error:function(e,t,a){ajaxErrorCallback("AvailError (avcity1)",e,t,a),setTimeout(function(){avcity_req(s,i,o)},3e3)}})}function searchParamsInUrl(e){var t=window.location.search,a=t.indexOf(e);if(-1==a)return!1;var s=t.substr(a).indexOf("&"),i=(-1!=s?t.substr(a,s):t.substr(a)).split("=")[1];return!(!i||""==i)&&("/"==i.slice(-1)&&(i=i.slice(0,-1)),i)}function avcity_get(s){var t=Math.floor(travel.opts.theme/100);$.ajax({type:"GET",url:"/check/",data:{page:"search",jid:s,t:1,r:Math.random()},dataType:"json",success:function(e){console.info("res",e),e.done?0==e.count&&((3==t||60==t)&&0<$(".js-notavail").length||9==t)?($(".js-hotels-available").hide(),$(".js-no-hotels-available").show(),$("#splash").dialog("close"),travel.modules.availProgress.hide(),travel.modules.hotellist.updateLangCurLinks($(".js-hotellist-filters").attr("action"))):(travel.modules.availProgress.show({count:e.count,progress:99}),$("#jid").val(s),avcity_result()):e.bad_id?(travel.modules.availProgress.hide(),window.scrollTo(0,0),alert("Can't process request")):(e.progress&&travel.modules.availProgress.show({count:e.count,progress:parseInt(e.progress)}),setTimeout(function(){avcity_get(s)},3e3))},error:function(e,t,a){ajaxErrorCallback("AvailError (avcity2)",e,t,a),setTimeout(function(){avcity_get(s)},3e3)}})}function avcity_result(){travel.modules.hotellist.loadList()}function filterdiv(e,t,a,s){"star"==s?rep="s_":"price"==s&&(rep="p_"),add_id=e.replace(rep,""),li_id="l_"+rep+add_id,inp_id="f_"+rep+add_id,span_id="s_"+rep+add_id,$("#"+span_id).html("("+t+")"),parseInt(t)?($("#"+li_id).removeClass("inactive"),$("#"+inp_id).removeAttr("disabled"),a&&$("#"+inp_id).attr("checked","checked")):($("#"+li_id).addClass("inactive"),$("#"+inp_id).removeAttr("checked"),$("#"+inp_id).attr("disabled","disabled"))}function init_hotelslist(){$(".js-sort-by a").click(function(){var e=$(this).attr("id").split("_");return $("#sort").val(e[1]),$("#sortd").val(e[2]),avcity_result(),!1}),$(".js-sort-select-2").on("change",function(){var e=this.value.split("_");return $("#sort").val(e[1]),$("#sortd").val(e[2]),avcity_result(),!1}),$("#navigation a").click(function(){var e=$(this).attr("class");return e=e.replace("p_",""),$("#part").val(e),avcity_result(),!1}),travel.modules.lazy.init()}function althotel_req(s){var e=travel.opts,t=e.av_params,a=e.obj_id,i=e.lang_id,o=$.extend(t,{page:"search_alt",hotel_id:a,lang:i,t:1,r:Math.random()});splash(400,"auto",1),$.ajax({type:"GET",url:"/check/",data:o,dataType:"json",success:function(e){var t=e.jid;""!=t?althotel_get(t,s):e.bad_id?($("#progress").progressbar("option","value",100),$("#splash").dialog("close"),alert("Can't process request")):e.bot||e.error||e.no_hotels?($("#bot").val(e.bot||""),$("#progress").progressbar("option","value",100),althotel_result(t,s)):setTimeout(function(){althotel_req(s)},3e3)},error:function(e,t,a){ajaxErrorCallback("AvailError (althotel)",e,t,a),setTimeout(function(){althotel_req(s)},3e3)}})}function althotel_get(s,i){$.ajax({type:"GET",url:"/check/",data:{page:"search_alt",jid:s,t:1,r:Math.random()},dataType:"json",success:function(e){e.done?($("#jid").val(s),$("#progress").progressbar("option","value",100),althotel_result(s,i)):e.bad_id?($("#progress").progressbar("option","value",100),$("#splash").dialog("close"),alert("Can't process request")):e.bot||e.error||e.no_hotels?($("#bot").val(e.bot||""),$("#progress").progressbar("option","value",100),althotel_result(s,i)):(void 0!==e.progress&&$("#progress").progressbar("option","value",parseInt(e.progress)),setTimeout(function(){althotel_get(s,i)},3e3))},error:function(e,t,a){ajaxErrorCallback("AvailError (althotel2)",e,t,a),setTimeout(function(){althotel_get(s,i)},3e3)}})}function althotel_result(e,t){var a=Math.floor(travel.opts.theme/100),s="/check/?page=search_list";s+="&d="+travel.opts.dest_id,s+="&jid="+e,s+="&t=1",s+="&na=1",s+="&hotel_id="+travel.opts.obj_id,s+="&r="+Math.random(),t.load(s,function(e,t){$("#splash").dialog("close"),$.scrollTo($("#results"),700),travel.modules.gallery.initRoomsGalleries(),3!=a&&60!=a||_paq.push(["trackEvent","TOP100 CheckAvailForm","result","HotelsNearby"])})}function ajaxErrorCallback(e,t,a,s){var i=e;a&&(i+=", text: "+a),s&&(i+=", error: "+s),t&&(void 0!==t.status&&(i+=", status: "+t.status),void 0!==t.statusText&&(i+=", statustext: "+t.statusText),void 0!==t.responseText&&(i+=", response: "+t.responseText)),$.ajax({method:"post",url:"/",data:{page:"stat",id:travel.opts.id,t:"ev",c:"Error",a:i,r:Math.floor(1e5*Math.random())}})}function avhotel_req(s,i,o,n,r){void 0===r&&(r=0);var e=$.extend(i,{page:"search",hotel_id:s,lang:o,t:2,r:Math.random(),cnt:r});999==r&&(r=0),0==r&&$.ajax({type:"GET",url:"/check_avail.php",data:{page:"check"},dataType:"xml",success:function(e){},error:function(e,t,a){ajaxErrorCallback("AvailErrorCheck (xml)",e,t,a)}}),splash(400,"auto"),$.ajax({type:"GET",url:"/check/",data:e,dataType:"json",success:function(e){var t=e.jid;""!=t?avhotel_get(t,n):e.bad_id?($("#progress").progressbar("option","value",100),$("#splash").dialog("close"),alert("Can't process request")):e.bot||e.error?($("#bot").val(e.bot||""),$("#progress").progressbar("option","value",100),avhotel_result(t,n)):setTimeout(function(){avhotel_req(s,i,o,n,999)},3e3)},error:function(e,t,a){ajaxErrorCallback("AvailError (json)",e,t,a),setTimeout(function(){avhotel_req(s,i,o,n,r+1)},3e3)}})}function avhotel_get(s){$.ajax({type:"GET",url:"/check/",data:{page:"search",jid:s,t:2,r:Math.random()},dataType:"json",success:function(e){e.done?($("#jid").val(e.jid),$("#progress").progressbar("option","value",100),avhotel_result(s)):e.bad_id?($("#progress").progressbar("option","value",100),$("#splash").dialog("close"),alert("Can't process request")):e.bot||e.error?($("#bot").val(e.bot||""),$("#progress").progressbar("option","value",100),avhotel_result(s)):(e.progress&&$("#progress").progressbar("option","value",parseInt(e.progress)),setTimeout(function(){avhotel_get(s)},1e3))},error:function(e,t,a){ajaxErrorCallback("AvailError (avhotel)",e,t,a),setTimeout(function(){avhotel_get(s)},3e3)}})}function avhotel_result(e){var t=travel.opts,a="/check/?"+$("#form_result").serialize()+"&t=2&r="+Math.random(),s=Math.floor(travel.opts.theme/100),i=parseInt(t.nid);$.ajax({url:a,type:"GET",dataType:"html"}).done(function(e){$cont=$(".js-rooms-cont"),$cont.html(e),$(".js-facilities-wrap .js-facilities",$cont).autocolumnlist({columns:4}),-1!=e.search("\x3c!--unavailable--\x3e")?(3!=s&&60!=s&&9!=s||$.cookie("visit_non_avail",t.obj_id,$.extend({expires:1,path:"/"},t.sdom?{domain:"."+t.clicktrip.dom}:{})),3==s||60==s||9==s&&31!=i?"1"!==$.cookie("redirect")?hotelListReq():$("#splash").dialog("close"):althotel_req($cont)):-1!=e.search("\x3c!--bookingcom_avail--\x3e")?($("#splash").dialog("close"),$.scrollTo($("#results"),700),3!=s&&60!=s||_paq.push(["trackEvent","TOP100 CheckAvailForm","result","AvailableRooms","bookingcom_avail"])):-1!=e.search("\x3c!--bookednet_avail--\x3e")&&($("#splash").dialog("close"),$.scrollTo($("#results"),700),3!=s&&60!=s||_paq.push(["trackEvent","TOP100 CheckAvailForm","result","AvailableRooms","bookednet_avail"])),$(".js-rooms-autocolumnlist").length&&$(".js-info-block").autocolumnlist({columns:travel.isMobile()?2:3}),travel.modules.gallery.initRoomsGalleries(),3!=s&&60!=s||($.scrollTo($("#rooms"),700),travel.modules.dateFormat.changeFormatDate($(".js-format-date-monthnameshort-year"))),5!=s&&9!=s||"hotel"!==travel.opts.type||travel.modules.dateFormat.changeFormatDate($(".js-format-date-monthnameshort-year"))}).fail(function(){setTimeout(function(){avhotel_result(e)},3e3)})}function splash(e,t,a){$("#progress").progressbar();var s=$("#splash");a&&($(".js-hotels",s).show(),$(".js-rooms",s).hide()),s.dialog({width:e,height:t,bgiframe:!0,modal:!0,title:!1,closeOnEscape:!1,draggable:!1,resizable:!1,position:{collision:"none"}}).parent().find(".ui-dialog-titlebar").remove()}function init_show_prices(){$(".bl-btn, .b_popupdate").click(function(){return $("#popup-dates-div").dialog({width:258,dialogClass:"popup-dates",bgiframe:!0,modal:!0,title:$("#popup-dates-title").text(),closeOnEscape:!0,draggable:!1,resizable:!1}),!1}),$(".bl-btn").length<=0&&$("#currency_div").show()}function init_book_now(e){url="en"==e?"/book/":"/"+e+"/book/",$("#results form").attr("action",url).attr("target","")}function hideShowDiv(){$(".langvich-block-wrap").toggleClass("active")}function about_page_text_req(){$.ajax({type:"GET",url:"/static.php",data:{page:"about_page_text",LanguageCode:"en",r:Math.random()},dataType:"html"}).done(function(e){$cont=$(".js-about"),$cont.html(e)}).fail(function(){setTimeout(function(){about_page_text_req()},3e3)})}function add_hotel_text_req(){$.ajax({type:"GET",url:"/static.php",data:{page:"add_hotel_text",LanguageCode:"en",r:Math.random()},dataType:"html"}).done(function(e){$cont=$(".js-add-hotel"),$cont.html(e)}).fail(function(){setTimeout(function(){add_hotel_text_req()},3e3)})}function privacy_text_req(){$.ajax({type:"GET",url:"/static.php",data:{page:"privacy_text",LanguageCode:"en",r:Math.random()},dataType:"html"}).done(function(e){$cont=$(".js-privacy"),$cont.html(e)}).fail(function(){setTimeout(function(){privacy_text_req()},3e3)})}function h2_review_scroll(){$(".js-wr-review").on("click",function(e){$(window).scrollTo(".js-page")})}function reviews_text_req(){$cont=$(".js-reviews"),0!=$cont.length&&$.ajax({type:"GET",url:"/static.php",data:{page:"reviews",hotel_id:travel.opts.obj_id,lang_id:travel.opts.lang_id,r:Math.random()},dataType:"html"}).done(function(e){$cont.html(e)}).fail(function(){setTimeout(function(){reviews_text_req()},3e3)})}function important_information_req(){var t=$(".js-important-information-container");0!=t.length&&$.ajax({type:"GET",url:"/static.php",data:{page:"important_information_page",r:Math.random(),hotel_id:travel.opts.obj_id},dataType:"html"}).done(function(e){""!==e&&(t.html(e),hideInfoBlock(t))}).fail(function(){setTimeout(function(){important_information_req()},3e3)})}function hideInfoBlock(e){var t=e.find(".js-important-information"),a=t.find(".js-important-information-text"),s=e.find(".js-important-information-btn");300<a.outerHeight()&&!t.hasClass("is-closed")?t.addClass("is-closed"):s.hide()}function showMoreInfo(){$("body").on("click",".js-important-information-btn",function(e){$(this).closest(".js-important-information").toggleClass("is-closed")})}function hotelListReq(){var a=travel.opts;$.ajax({type:"GET",url:"/check/",data:{page:"search",from:a.av_params.from,to:a.av_params.to,adults:a.av_params.adults,children:a.av_params.children||null,childAge1:a.av_params.childAge1||null,childAge2:a.av_params.childAge2||null,childAge3:a.av_params.childAge3||null,dest_id:a.dest_id,lang:a.lang_id,t:1,use:1,r:Math.random()},dataType:"json",success:function(e){var t=$(".js-hotel-list-redirect").attr("href");e.jid&&(t+="&jid="+e.jid),setTimeout(function(){"book"!==a.page&&($.cookie("redirect","1",{path:"/"}),window.location.href=t)},2e3),console.info(e)},error:function(e,t,a){ajaxErrorCallback("AvailError hotelListReq",e,t,a),hotelListReq()}})}$(function(){init(travel.opts)});